(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Xu={exports:{}},ai={},Zu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),Wh=Symbol.for("react.strict_mode"),Hh=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),Kh=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Jh=Symbol.for("react.memo"),Qh=Symbol.for("react.lazy"),gl=Symbol.iterator;function Yh(t){return t===null||typeof t!="object"?null:(t=gl&&t[gl]||t["@@iterator"],typeof t=="function"?t:null)}var ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tc=Object.assign,nc={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=nc,this.updater=n||ec}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rc(){}rc.prototype=Jn.prototype;function ma(t,e,n){this.props=t,this.context=e,this.refs=nc,this.updater=n||ec}var ga=ma.prototype=new rc;ga.constructor=ma;tc(ga,Jn.prototype);ga.isPureReactComponent=!0;var yl=Array.isArray,sc=Object.prototype.hasOwnProperty,ya={current:null},ic={key:!0,ref:!0,__self:!0,__source:!0};function oc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sc.call(e,r)&&!ic.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qr,type:t,key:i,ref:o,props:s,_owner:ya.current}}function Xh(t,e){return{$$typeof:qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function va(t){return typeof t=="object"&&t!==null&&t.$$typeof===qr}function Zh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vl=/\/+/g;function Ci(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zh(""+t.key):e.toString(36)}function ks(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qr:case Fh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ci(o,0):r,yl(s)?(n="",t!=null&&(n=t.replace(vl,"$&/")+"/"),ks(s,e,n,"",function(c){return c})):s!=null&&(va(s)&&(s=Xh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ci(i,a);o+=ks(i,e,n,l,s)}else if(l=Yh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ci(i,a++),o+=ks(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ts(t,e,n){if(t==null)return t;var r=[],s=0;return ks(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ef(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},bs={transition:null},tf={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:bs,ReactCurrentOwner:ya};function ac(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ts,forEach:function(t,e,n){ts(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ts(t,function(){e++}),e},toArray:function(t){return ts(t,function(e){return e})||[]},only:function(t){if(!va(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Jn;U.Fragment=Bh;U.Profiler=Hh;U.PureComponent=ma;U.StrictMode=Wh;U.Suspense=Gh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tf;U.act=ac;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ya.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sc.call(e,l)&&!ic.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qr,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:qh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vh,_context:t},t.Consumer=t};U.createElement=oc;U.createFactory=function(t){var e=oc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Kh,render:t}};U.isValidElement=va;U.lazy=function(t){return{$$typeof:Qh,_payload:{_status:-1,_result:t},_init:ef}};U.memo=function(t,e){return{$$typeof:Jh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=bs.transition;bs.transition={};try{t()}finally{bs.transition=e}};U.unstable_act=ac;U.useCallback=function(t,e){return ke.current.useCallback(t,e)};U.useContext=function(t){return ke.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};U.useEffect=function(t,e){return ke.current.useEffect(t,e)};U.useId=function(){return ke.current.useId()};U.useImperativeHandle=function(t,e,n){return ke.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ke.current.useMemo(t,e)};U.useReducer=function(t,e,n){return ke.current.useReducer(t,e,n)};U.useRef=function(t){return ke.current.useRef(t)};U.useState=function(t){return ke.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return ke.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return ke.current.useTransition()};U.version="18.3.1";Zu.exports=U;var E=Zu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=E,rf=Symbol.for("react.element"),sf=Symbol.for("react.fragment"),of=Object.prototype.hasOwnProperty,af=nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lf={key:!0,ref:!0,__self:!0,__source:!0};function lc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)of.call(e,r)&&!lf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rf,type:t,key:i,ref:o,props:s,_owner:af.current}}ai.Fragment=sf;ai.jsx=lc;ai.jsxs=lc;Xu.exports=ai;var u=Xu.exports,uc={exports:{}},Le={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,O){var A=N.length;N.push(O);e:for(;0<A;){var z=A-1>>>1,$=N[z];if(0<s($,O))N[z]=O,N[A]=$,A=z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var O=N[0],A=N.pop();if(A!==O){N[0]=A;e:for(var z=0,$=N.length,Oe=$>>>1;z<Oe;){var Ve=2*(z+1)-1,nt=N[Ve],qe=Ve+1,qt=N[qe];if(0>s(nt,A))qe<$&&0>s(qt,nt)?(N[z]=qt,N[qe]=A,z=qe):(N[z]=nt,N[Ve]=A,z=Ve);else if(qe<$&&0>s(qt,A))N[z]=qt,N[qe]=A,z=qe;else break e}}return O}function s(N,O){var A=N.sortIndex-O.sortIndex;return A!==0?A:N.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,y=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=N)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function w(N){if(x=!1,m(N),!v)if(n(l)!==null)v=!0,ve(S);else{var O=n(c);O!==null&&Q(w,O.startTime-N)}}function S(N,O){v=!1,x&&(x=!1,g(P),P=-1),y=!0;var A=f;try{for(m(O),h=n(l);h!==null&&(!(h.expirationTime>O)||N&&!ue());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var $=z(h.expirationTime<=O);O=t.unstable_now(),typeof $=="function"?h.callback=$:h===n(l)&&r(l),m(O)}else r(l);h=n(l)}if(h!==null)var Oe=!0;else{var Ve=n(c);Ve!==null&&Q(w,Ve.startTime-O),Oe=!1}return Oe}finally{h=null,f=A,y=!1}}var b=!1,j=null,P=-1,B=5,R=-1;function ue(){return!(t.unstable_now()-R<B)}function C(){if(j!==null){var N=t.unstable_now();R=N;var O=!0;try{O=j(!0,N)}finally{O?H():(b=!1,j=null)}}else b=!1}var H;if(typeof p=="function")H=function(){p(C)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Pe=fe.port2;fe.port1.onmessage=C,H=function(){Pe.postMessage(null)}}else H=function(){k(C,0)};function ve(N){j=N,b||(b=!0,H())}function Q(N,O){P=k(function(){N(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ve(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var A=f;f=O;try{return N()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var A=f;f=N;try{return O()}finally{f=A}},t.unstable_scheduleCallback=function(N,O,A){var z=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?z+A:z):A=z,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=A+$,N={id:d++,callback:O,priorityLevel:N,startTime:A,expirationTime:$,sortIndex:-1},A>z?(N.sortIndex=A,e(c,N),n(l)===null&&N===n(c)&&(x?(g(P),P=-1):x=!0,Q(w,A-z))):(N.sortIndex=$,e(l,N),v||y||(v=!0,ve(S))),N},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(N){var O=f;return function(){var A=f;f=O;try{return N.apply(this,arguments)}finally{f=A}}}})(dc);cc.exports=dc;var uf=cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=E,$e=uf;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,Er={};function dn(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(Er[t]=e,t=0;t<e.length;t++)hc.add(e[t])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,df=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wl={},xl={};function hf(t){return uo.call(xl,t)?!0:uo.call(wl,t)?!1:df.test(t)?xl[t]=!0:(wl[t]=!0,!1)}function ff(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pf(t,e,n,r){if(e===null||typeof e>"u"||ff(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){he[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];he[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){he[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){he[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){he[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){he[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){he[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){he[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){he[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var wa=/[\-:]([a-z])/g;function xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wa,xa);he[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wa,xa);he[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wa,xa);he[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){he[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});he.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){he[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function _a(t,e,n,r){var s=he.hasOwnProperty(e)?he[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pf(e,n,s,r)&&(n=null),r||s===null?hf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _t=cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),kn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),co=Symbol.for("react.profiler"),fc=Symbol.for("react.provider"),pc=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),Sa=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),mc=Symbol.for("react.offscreen"),_l=Symbol.iterator;function tr(t){return t===null||typeof t!="object"?null:(t=_l&&t[_l]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Ti;function cr(t){if(Ti===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ti=e&&e[1]||""}return`
`+Ti+t}var Pi=!1;function Oi(t,e){if(!t||Pi)return"";Pi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cr(t):""}function mf(t){switch(t.tag){case 5:return cr(t.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 2:case 15:return t=Oi(t.type,!1),t;case 11:return t=Oi(t.type.render,!1),t;case 1:return t=Oi(t.type,!0),t;default:return""}}function po(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bn:return"Fragment";case kn:return"Portal";case co:return"Profiler";case ka:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pc:return(t.displayName||"Context")+".Consumer";case fc:return(t._context.displayName||"Context")+".Provider";case ba:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sa:return e=t.displayName||null,e!==null?e:po(t.type)||"Memo";case jt:e=t._payload,t=t._init;try{return po(t(e))}catch{}}return null}function gf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(e);case 8:return e===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yf(t){var e=gc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rs(t){t._valueTracker||(t._valueTracker=yf(t))}function yc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mo(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vc(t,e){e=e.checked,e!=null&&_a(t,"checked",e,!1)}function go(t,e){vc(t,e);var n=zt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,n):e.hasOwnProperty("defaultValue")&&yo(t,e.type,zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yo(t,e,n){(e!=="number"||Rs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dr=Array.isArray;function Rn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_(92));if(dr(n)){if(1<n.length)throw Error(_(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zt(n)}}function wc(t,e){var n=zt(e.value),r=zt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ss,_c=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vf=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(t){vf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mr[e]=mr[t]})});function kc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mr.hasOwnProperty(t)&&mr[t]?(""+e).trim():e+"px"}function bc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var wf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(t,e){if(e){if(wf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function _o(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bo=null,$n=null,Ln=null;function Nl(t){if(t=Jr(t)){if(typeof bo!="function")throw Error(_(280));var e=t.stateNode;e&&(e=hi(e),bo(t.stateNode,t.type,e))}}function Sc(t){$n?Ln?Ln.push(t):Ln=[t]:$n=t}function jc(){if($n){var t=$n,e=Ln;if(Ln=$n=null,Nl(t),e)for(t=0;t<e.length;t++)Nl(e[t])}}function Nc(t,e){return t(e)}function Ec(){}var Ai=!1;function Cc(t,e,n){if(Ai)return t(e,n);Ai=!0;try{return Nc(t,e,n)}finally{Ai=!1,($n!==null||Ln!==null)&&(Ec(),jc())}}function Tr(t,e){var n=t.stateNode;if(n===null)return null;var r=hi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_(231,e,typeof n));return n}var So=!1;if(yt)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){So=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{So=!1}function xf(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var gr=!1,$s=null,Ls=!1,jo=null,_f={onError:function(t){gr=!0,$s=t}};function kf(t,e,n,r,s,i,o,a,l){gr=!1,$s=null,xf.apply(_f,arguments)}function bf(t,e,n,r,s,i,o,a,l){if(kf.apply(this,arguments),gr){if(gr){var c=$s;gr=!1,$s=null}else throw Error(_(198));Ls||(Ls=!0,jo=c)}}function hn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function El(t){if(hn(t)!==t)throw Error(_(188))}function Sf(t){var e=t.alternate;if(!e){if(e=hn(t),e===null)throw Error(_(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return El(s),t;if(i===r)return El(s),e;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?t:e}function Pc(t){return t=Sf(t),t!==null?Oc(t):null}function Oc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Oc(t);if(e!==null)return e;t=t.sibling}return null}var Ac=$e.unstable_scheduleCallback,Cl=$e.unstable_cancelCallback,jf=$e.unstable_shouldYield,Nf=$e.unstable_requestPaint,te=$e.unstable_now,Ef=$e.unstable_getCurrentPriorityLevel,Na=$e.unstable_ImmediatePriority,Ic=$e.unstable_UserBlockingPriority,Us=$e.unstable_NormalPriority,Cf=$e.unstable_LowPriority,Rc=$e.unstable_IdlePriority,li=null,at=null;function Tf(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Af,Pf=Math.log,Of=Math.LN2;function Af(t){return t>>>=0,t===0?32:31-(Pf(t)/Of|0)|0}var is=64,os=4194304;function hr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ds(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hr(a):(i&=o,i!==0&&(r=hr(i)))}else o=n&~s,o!==0?r=hr(o):i!==0&&(r=hr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ze(e),s=1<<n,r|=t[n],e&=~s;return r}function If(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ze(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=If(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function No(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $c(){var t=is;return is<<=1,!(is&4194240)&&(is=64),t}function Ii(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ze(e),t[e]=n}function $f(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ze(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ea(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ze(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var F=0;function Lc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uc,Ca,Dc,Mc,zc,Eo=!1,as=[],At=null,It=null,Rt=null,Pr=new Map,Or=new Map,Et=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(t,e){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(e.pointerId)}}function rr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jr(e),e!==null&&Ca(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uf(t,e,n,r,s){switch(e){case"focusin":return At=rr(At,t,e,n,r,s),!0;case"dragenter":return It=rr(It,t,e,n,r,s),!0;case"mouseover":return Rt=rr(Rt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pr.set(i,rr(Pr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Or.set(i,rr(Or.get(i)||null,t,e,n,r,s)),!0}return!1}function Fc(t){var e=Zt(t.target);if(e!==null){var n=hn(e);if(n!==null){if(e=n.tag,e===13){if(e=Tc(n),e!==null){t.blockedOn=e,zc(t.priority,function(){Dc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ss(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Co(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ko=r,n.target.dispatchEvent(r),ko=null}else return e=Jr(n),e!==null&&Ca(e),t.blockedOn=n,!1;e.shift()}return!0}function Pl(t,e,n){Ss(t)&&n.delete(e)}function Df(){Eo=!1,At!==null&&Ss(At)&&(At=null),It!==null&&Ss(It)&&(It=null),Rt!==null&&Ss(Rt)&&(Rt=null),Pr.forEach(Pl),Or.forEach(Pl)}function sr(t,e){t.blockedOn===e&&(t.blockedOn=null,Eo||(Eo=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,Df)))}function Ar(t){function e(s){return sr(s,t)}if(0<as.length){sr(as[0],t);for(var n=1;n<as.length;n++){var r=as[n];r.blockedOn===t&&(r.blockedOn=null)}}for(At!==null&&sr(At,t),It!==null&&sr(It,t),Rt!==null&&sr(Rt,t),Pr.forEach(e),Or.forEach(e),n=0;n<Et.length;n++)r=Et[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Et.length&&(n=Et[0],n.blockedOn===null);)Fc(n),n.blockedOn===null&&Et.shift()}var Un=_t.ReactCurrentBatchConfig,Ms=!0;function Mf(t,e,n,r){var s=F,i=Un.transition;Un.transition=null;try{F=1,Ta(t,e,n,r)}finally{F=s,Un.transition=i}}function zf(t,e,n,r){var s=F,i=Un.transition;Un.transition=null;try{F=4,Ta(t,e,n,r)}finally{F=s,Un.transition=i}}function Ta(t,e,n,r){if(Ms){var s=Co(t,e,n,r);if(s===null)Wi(t,e,r,zs,n),Tl(t,r);else if(Uf(s,t,e,n,r))r.stopPropagation();else if(Tl(t,r),e&4&&-1<Lf.indexOf(t)){for(;s!==null;){var i=Jr(s);if(i!==null&&Uc(i),i=Co(t,e,n,r),i===null&&Wi(t,e,r,zs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wi(t,e,r,null,n)}}var zs=null;function Co(t,e,n,r){if(zs=null,t=ja(r),t=Zt(t),t!==null)if(e=hn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zs=t,null}function Bc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case Na:return 1;case Ic:return 4;case Us:case Cf:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Pt=null,Pa=null,js=null;function Wc(){if(js)return js;var t,e=Pa,n=e.length,r,s="value"in Pt?Pt.value:Pt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return js=s.slice(t,1<r?1-r:void 0)}function Ns(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function Ol(){return!1}function Ue(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ls:Ol,this.isPropagationStopped=Ol,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),e}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Ue(Qn),Gr=Z({},Qn,{view:0,detail:0}),Ff=Ue(Gr),Ri,$i,ir,ui=Z({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ir&&(ir&&t.type==="mousemove"?(Ri=t.screenX-ir.screenX,$i=t.screenY-ir.screenY):$i=Ri=0,ir=t),Ri)},movementY:function(t){return"movementY"in t?t.movementY:$i}}),Al=Ue(ui),Bf=Z({},ui,{dataTransfer:0}),Wf=Ue(Bf),Hf=Z({},Gr,{relatedTarget:0}),Li=Ue(Hf),Vf=Z({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),qf=Ue(Vf),Kf=Z({},Qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gf=Ue(Kf),Jf=Z({},Qn,{data:0}),Il=Ue(Jf),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xf[t])?!!e[t]:!1}function Aa(){return Zf}var ep=Z({},Gr,{key:function(t){if(t.key){var e=Qf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tp=Ue(ep),np=Z({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ue(np),rp=Z({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),sp=Ue(rp),ip=Z({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),op=Ue(ip),ap=Z({},ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lp=Ue(ap),up=[9,13,27,32],Ia=yt&&"CompositionEvent"in window,yr=null;yt&&"documentMode"in document&&(yr=document.documentMode);var cp=yt&&"TextEvent"in window&&!yr,Hc=yt&&(!Ia||yr&&8<yr&&11>=yr),$l=" ",Ll=!1;function Vc(t,e){switch(t){case"keyup":return up.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function dp(t,e){switch(t){case"compositionend":return qc(e);case"keypress":return e.which!==32?null:(Ll=!0,$l);case"textInput":return t=e.data,t===$l&&Ll?null:t;default:return null}}function hp(t,e){if(Sn)return t==="compositionend"||!Ia&&Vc(t,e)?(t=Wc(),js=Pa=Pt=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hc&&e.locale!=="ko"?null:e.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fp[t.type]:e==="textarea"}function Kc(t,e,n,r){Sc(r),e=Fs(e,"onChange"),0<e.length&&(n=new Oa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vr=null,Ir=null;function pp(t){sd(t,0)}function ci(t){var e=En(t);if(yc(e))return t}function mp(t,e){if(t==="change")return e}var Gc=!1;if(yt){var Ui;if(yt){var Di="oninput"in document;if(!Di){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;"),Di=typeof Dl.oninput=="function"}Ui=Di}else Ui=!1;Gc=Ui&&(!document.documentMode||9<document.documentMode)}function Ml(){vr&&(vr.detachEvent("onpropertychange",Jc),Ir=vr=null)}function Jc(t){if(t.propertyName==="value"&&ci(Ir)){var e=[];Kc(e,Ir,t,ja(t)),Cc(pp,e)}}function gp(t,e,n){t==="focusin"?(Ml(),vr=e,Ir=n,vr.attachEvent("onpropertychange",Jc)):t==="focusout"&&Ml()}function yp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ci(Ir)}function vp(t,e){if(t==="click")return ci(e)}function wp(t,e){if(t==="input"||t==="change")return ci(e)}function xp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tt=typeof Object.is=="function"?Object.is:xp;function Rr(t,e){if(tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uo.call(e,s)||!tt(t[s],e[s]))return!1}return!0}function zl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fl(t,e){var n=zl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zl(n)}}function Qc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yc(){for(var t=window,e=Rs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rs(t.document)}return e}function Ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _p(t){var e=Yc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qc(n.ownerDocument.documentElement,n)){if(r!==null&&Ra(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Fl(n,i);var o=Fl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kp=yt&&"documentMode"in document&&11>=document.documentMode,jn=null,To=null,wr=null,Po=!1;function Bl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Po||jn==null||jn!==Rs(r)||(r=jn,"selectionStart"in r&&Ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&Rr(wr,r)||(wr=r,r=Fs(To,"onSelect"),0<r.length&&(e=new Oa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jn)))}function us(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Mi={},Xc={};yt&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function di(t){if(Mi[t])return Mi[t];if(!Nn[t])return t;var e=Nn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xc)return Mi[t]=e[n];return t}var Zc=di("animationend"),ed=di("animationiteration"),td=di("animationstart"),nd=di("transitionend"),rd=new Map,Wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){rd.set(t,e),dn(e,[t])}for(var zi=0;zi<Wl.length;zi++){var Fi=Wl[zi],bp=Fi.toLowerCase(),Sp=Fi[0].toUpperCase()+Fi.slice(1);Bt(bp,"on"+Sp)}Bt(Zc,"onAnimationEnd");Bt(ed,"onAnimationIteration");Bt(td,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(nd,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(fr));function Hl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bf(r,e,void 0,t),t.currentTarget=null}function sd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hl(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hl(s,a,c),i=l}}}if(Ls)throw t=jo,Ls=!1,jo=null,t}function K(t,e){var n=e[$o];n===void 0&&(n=e[$o]=new Set);var r=t+"__bubble";n.has(r)||(id(e,t,2,!1),n.add(r))}function Bi(t,e,n){var r=0;e&&(r|=4),id(n,t,r,e)}var cs="_reactListening"+Math.random().toString(36).slice(2);function $r(t){if(!t[cs]){t[cs]=!0,hc.forEach(function(n){n!=="selectionchange"&&(jp.has(n)||Bi(n,!1,t),Bi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cs]||(e[cs]=!0,Bi("selectionchange",!1,e))}}function id(t,e,n,r){switch(Bc(e)){case 1:var s=Mf;break;case 4:s=zf;break;default:s=Ta}n=s.bind(null,e,n,t),s=void 0,!So||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zt(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cc(function(){var c=i,d=ja(n),h=[];e:{var f=rd.get(t);if(f!==void 0){var y=Oa,v=t;switch(t){case"keypress":if(Ns(n)===0)break e;case"keydown":case"keyup":y=tp;break;case"focusin":v="focus",y=Li;break;case"focusout":v="blur",y=Li;break;case"beforeblur":case"afterblur":y=Li;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sp;break;case Zc:case ed:case td:y=qf;break;case nd:y=op;break;case"scroll":y=Ff;break;case"wheel":y=lp;break;case"copy":case"cut":case"paste":y=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Rl}var x=(e&4)!==0,k=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=c,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Tr(p,g),w!=null&&x.push(Lr(p,w,m)))),k)break;p=p.return}0<x.length&&(f=new y(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==ko&&(v=n.relatedTarget||n.fromElement)&&(Zt(v)||v[vt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?Zt(v):null,v!==null&&(k=hn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(x=Al,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Rl,w="onPointerLeave",g="onPointerEnter",p="pointer"),k=y==null?f:En(y),m=v==null?f:En(v),f=new x(w,p+"leave",y,n,d),f.target=k,f.relatedTarget=m,w=null,Zt(d)===c&&(x=new x(g,p+"enter",v,n,d),x.target=m,x.relatedTarget=k,w=x),k=w,y&&v)t:{for(x=y,g=v,p=0,m=x;m;m=pn(m))p++;for(m=0,w=g;w;w=pn(w))m++;for(;0<p-m;)x=pn(x),p--;for(;0<m-p;)g=pn(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=pn(x),g=pn(g)}x=null}else x=null;y!==null&&Vl(h,f,y,x,!1),v!==null&&k!==null&&Vl(h,k,v,x,!0)}}e:{if(f=c?En(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=mp;else if(Ul(f))if(Gc)S=wp;else{S=yp;var b=gp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=vp);if(S&&(S=S(t,c))){Kc(h,S,n,d);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&yo(f,"number",f.value)}switch(b=c?En(c):window,t){case"focusin":(Ul(b)||b.contentEditable==="true")&&(jn=b,To=c,wr=null);break;case"focusout":wr=To=jn=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,Bl(h,n,d);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Bl(h,n,d)}var j;if(Ia)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sn?Vc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Hc&&n.locale!=="ko"&&(Sn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sn&&(j=Wc()):(Pt=d,Pa="value"in Pt?Pt.value:Pt.textContent,Sn=!0)),b=Fs(c,P),0<b.length&&(P=new Il(P,t,null,n,d),h.push({event:P,listeners:b}),j?P.data=j:(j=qc(n),j!==null&&(P.data=j)))),(j=cp?dp(t,n):hp(t,n))&&(c=Fs(c,"onBeforeInput"),0<c.length&&(d=new Il("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}sd(h,e)})}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tr(t,n),i!=null&&r.unshift(Lr(t,i,s)),i=Tr(t,e),i!=null&&r.push(Lr(t,i,s))),t=t.return}return r}function pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vl(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Tr(n,i),l!=null&&o.unshift(Lr(n,l,a))):s||(l=Tr(n,i),l!=null&&o.push(Lr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Np=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function ql(t){return(typeof t=="string"?t:""+t).replace(Np,`
`).replace(Ep,"")}function ds(t,e,n){if(e=ql(e),ql(t)!==e&&n)throw Error(_(425))}function Bs(){}var Oo=null,Ao=null;function Io(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,Cp=typeof clearTimeout=="function"?clearTimeout:void 0,Kl=typeof Promise=="function"?Promise:void 0,Tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Kl<"u"?function(t){return Kl.resolve(null).then(t).catch(Pp)}:Ro;function Pp(t){setTimeout(function(){throw t})}function Hi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ar(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ar(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Yn,Ur="__reactProps$"+Yn,vt="__reactContainer$"+Yn,$o="__reactEvents$"+Yn,Op="__reactListeners$"+Yn,Ap="__reactHandles$"+Yn;function Zt(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vt]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gl(t);t!==null;){if(n=t[ot])return n;t=Gl(t)}return e}t=n,n=t.parentNode}return null}function Jr(t){return t=t[ot]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function En(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function hi(t){return t[Ur]||null}var Lo=[],Cn=-1;function Wt(t){return{current:t}}function G(t){0>Cn||(t.current=Lo[Cn],Lo[Cn]=null,Cn--)}function q(t,e){Cn++,Lo[Cn]=t.current,t.current=e}var Ft={},ye=Wt(Ft),Ee=Wt(!1),on=Ft;function Bn(t,e){var n=t.type.contextTypes;if(!n)return Ft;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(t){return t=t.childContextTypes,t!=null}function Ws(){G(Ee),G(ye)}function Jl(t,e,n){if(ye.current!==Ft)throw Error(_(168));q(ye,e),q(Ee,n)}function od(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(_(108,gf(t)||"Unknown",s));return Z({},n,r)}function Hs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ft,on=ye.current,q(ye,t),q(Ee,Ee.current),!0}function Ql(t,e,n){var r=t.stateNode;if(!r)throw Error(_(169));n?(t=od(t,e,on),r.__reactInternalMemoizedMergedChildContext=t,G(Ee),G(ye),q(ye,t)):G(Ee),q(Ee,n)}var ft=null,fi=!1,Vi=!1;function ad(t){ft===null?ft=[t]:ft.push(t)}function Ip(t){fi=!0,ad(t)}function Ht(){if(!Vi&&ft!==null){Vi=!0;var t=0,e=F;try{var n=ft;for(F=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,fi=!1}catch(s){throw ft!==null&&(ft=ft.slice(t+1)),Ac(Na,Ht),s}finally{F=e,Vi=!1}}return null}var Tn=[],Pn=0,Vs=null,qs=0,De=[],Me=0,an=null,pt=1,mt="";function Jt(t,e){Tn[Pn++]=qs,Tn[Pn++]=Vs,Vs=t,qs=e}function ld(t,e,n){De[Me++]=pt,De[Me++]=mt,De[Me++]=an,an=t;var r=pt;t=mt;var s=32-Ze(r)-1;r&=~(1<<s),n+=1;var i=32-Ze(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pt=1<<32-Ze(e)+s|n<<s|r,mt=i+t}else pt=1<<i|n<<s|r,mt=t}function $a(t){t.return!==null&&(Jt(t,1),ld(t,1,0))}function La(t){for(;t===Vs;)Vs=Tn[--Pn],Tn[Pn]=null,qs=Tn[--Pn],Tn[Pn]=null;for(;t===an;)an=De[--Me],De[Me]=null,mt=De[--Me],De[Me]=null,pt=De[--Me],De[Me]=null}var Re=null,Ie=null,J=!1,Xe=null;function ud(t,e){var n=ze(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yl(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Re=t,Ie=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Re=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=an!==null?{id:pt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ze(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Re=t,Ie=null,!0):!1;default:return!1}}function Uo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Do(t){if(J){var e=Ie;if(e){var n=e;if(!Yl(t,e)){if(Uo(t))throw Error(_(418));e=$t(n.nextSibling);var r=Re;e&&Yl(t,e)?ud(r,n):(t.flags=t.flags&-4097|2,J=!1,Re=t)}}else{if(Uo(t))throw Error(_(418));t.flags=t.flags&-4097|2,J=!1,Re=t}}}function Xl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Re=t}function hs(t){if(t!==Re)return!1;if(!J)return Xl(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Io(t.type,t.memoizedProps)),e&&(e=Ie)){if(Uo(t))throw cd(),Error(_(418));for(;e;)ud(t,e),e=$t(e.nextSibling)}if(Xl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ie=$t(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Re?$t(t.stateNode.nextSibling):null;return!0}function cd(){for(var t=Ie;t;)t=$t(t.nextSibling)}function Wn(){Ie=Re=null,J=!1}function Ua(t){Xe===null?Xe=[t]:Xe.push(t)}var Rp=_t.ReactCurrentBatchConfig;function or(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,t))}return t}function fs(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zl(t){var e=t._init;return e(t._payload)}function dd(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Mt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,w){return p===null||p.tag!==6?(p=Xi(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,w){var S=m.type;return S===bn?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jt&&Zl(S)===p.type)?(w=s(p,m.props),w.ref=or(g,p,m),w.return=g,w):(w=Is(m.type,m.key,m.props,null,g.mode,w),w.ref=or(g,p,m),w.return=g,w)}function c(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Zi(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,S){return p===null||p.tag!==7?(p=rn(m,g.mode,w,S),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Xi(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ns:return m=Is(p.type,p.key,p.props,null,g.mode,m),m.ref=or(g,null,p),m.return=g,m;case kn:return p=Zi(p,g.mode,m),p.return=g,p;case jt:var w=p._init;return h(g,w(p._payload),m)}if(dr(p)||tr(p))return p=rn(p,g.mode,m,null),p.return=g,p;fs(g,p)}return null}function f(g,p,m,w){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:return m.key===S?l(g,p,m,w):null;case kn:return m.key===S?c(g,p,m,w):null;case jt:return S=m._init,f(g,p,S(m._payload),w)}if(dr(m)||tr(m))return S!==null?null:d(g,p,m,w,null);fs(g,m)}return null}function y(g,p,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(p,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ns:return g=g.get(w.key===null?m:w.key)||null,l(p,g,w,S);case kn:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,S);case jt:var b=w._init;return y(g,p,m,b(w._payload),S)}if(dr(w)||tr(w))return g=g.get(m)||null,d(p,g,w,S,null);fs(p,w)}return null}function v(g,p,m,w){for(var S=null,b=null,j=p,P=p=0,B=null;j!==null&&P<m.length;P++){j.index>P?(B=j,j=null):B=j.sibling;var R=f(g,j,m[P],w);if(R===null){j===null&&(j=B);break}t&&j&&R.alternate===null&&e(g,j),p=i(R,p,P),b===null?S=R:b.sibling=R,b=R,j=B}if(P===m.length)return n(g,j),J&&Jt(g,P),S;if(j===null){for(;P<m.length;P++)j=h(g,m[P],w),j!==null&&(p=i(j,p,P),b===null?S=j:b.sibling=j,b=j);return J&&Jt(g,P),S}for(j=r(g,j);P<m.length;P++)B=y(j,g,P,m[P],w),B!==null&&(t&&B.alternate!==null&&j.delete(B.key===null?P:B.key),p=i(B,p,P),b===null?S=B:b.sibling=B,b=B);return t&&j.forEach(function(ue){return e(g,ue)}),J&&Jt(g,P),S}function x(g,p,m,w){var S=tr(m);if(typeof S!="function")throw Error(_(150));if(m=S.call(m),m==null)throw Error(_(151));for(var b=S=null,j=p,P=p=0,B=null,R=m.next();j!==null&&!R.done;P++,R=m.next()){j.index>P?(B=j,j=null):B=j.sibling;var ue=f(g,j,R.value,w);if(ue===null){j===null&&(j=B);break}t&&j&&ue.alternate===null&&e(g,j),p=i(ue,p,P),b===null?S=ue:b.sibling=ue,b=ue,j=B}if(R.done)return n(g,j),J&&Jt(g,P),S;if(j===null){for(;!R.done;P++,R=m.next())R=h(g,R.value,w),R!==null&&(p=i(R,p,P),b===null?S=R:b.sibling=R,b=R);return J&&Jt(g,P),S}for(j=r(g,j);!R.done;P++,R=m.next())R=y(j,g,P,R.value,w),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?P:R.key),p=i(R,p,P),b===null?S=R:b.sibling=R,b=R);return t&&j.forEach(function(C){return e(g,C)}),J&&Jt(g,P),S}function k(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===bn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:e:{for(var S=m.key,b=p;b!==null;){if(b.key===S){if(S=m.type,S===bn){if(b.tag===7){n(g,b.sibling),p=s(b,m.props.children),p.return=g,g=p;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jt&&Zl(S)===b.type){n(g,b.sibling),p=s(b,m.props),p.ref=or(g,b,m),p.return=g,g=p;break e}n(g,b);break}else e(g,b);b=b.sibling}m.type===bn?(p=rn(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=Is(m.type,m.key,m.props,null,g.mode,w),w.ref=or(g,p,m),w.return=g,g=w)}return o(g);case kn:e:{for(b=m.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Zi(m,g.mode,w),p.return=g,g=p}return o(g);case jt:return b=m._init,k(g,p,b(m._payload),w)}if(dr(m))return v(g,p,m,w);if(tr(m))return x(g,p,m,w);fs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=Xi(m,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return k}var Hn=dd(!0),hd=dd(!1),Ks=Wt(null),Gs=null,On=null,Da=null;function Ma(){Da=On=Gs=null}function za(t){var e=Ks.current;G(Ks),t._currentValue=e}function Mo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dn(t,e){Gs=t,Da=On=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Da!==t)if(t={context:t,memoizedValue:e,next:null},On===null){if(Gs===null)throw Error(_(308));On=t,Gs.dependencies={lanes:0,firstContext:t}}else On=On.next=t;return e}var en=null;function Fa(t){en===null?en=[t]:en.push(t)}function fd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fa(e)):(n.next=s.next,s.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nt=!1;function Ba(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wt(t,n)}return s=r.interleaved,s===null?(e.next=e,Fa(r)):(e.next=s.next,s.next=e),r.interleaved=e,wt(t,n)}function Es(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ea(t,n)}}function eu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Js(t,e,n,r){var s=t.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,y=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=Z({},h,f);break e;case 2:Nt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);un|=o,t.lanes=o,t.memoizedState=h}}function tu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var Qr={},lt=Wt(Qr),Dr=Wt(Qr),Mr=Wt(Qr);function tn(t){if(t===Qr)throw Error(_(174));return t}function Wa(t,e){switch(q(Mr,e),q(Dr,t),q(lt,Qr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wo(e,t)}G(lt),q(lt,e)}function Vn(){G(lt),G(Dr),G(Mr)}function md(t){tn(Mr.current);var e=tn(lt.current),n=wo(e,t.type);e!==n&&(q(Dr,t),q(lt,n))}function Ha(t){Dr.current===t&&(G(lt),G(Dr))}var Y=Wt(0);function Qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qi=[];function Va(){for(var t=0;t<qi.length;t++)qi[t]._workInProgressVersionPrimary=null;qi.length=0}var Cs=_t.ReactCurrentDispatcher,Ki=_t.ReactCurrentBatchConfig,ln=0,X=null,ie=null,ae=null,Ys=!1,xr=!1,zr=0,$p=0;function pe(){throw Error(_(321))}function qa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tt(t[n],e[n]))return!1;return!0}function Ka(t,e,n,r,s,i){if(ln=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?Mp:zp,t=n(r,s),xr){i=0;do{if(xr=!1,zr=0,25<=i)throw Error(_(301));i+=1,ae=ie=null,e.updateQueue=null,Cs.current=Fp,t=n(r,s)}while(xr)}if(Cs.current=Xs,e=ie!==null&&ie.next!==null,ln=0,ae=ie=X=null,Ys=!1,e)throw Error(_(300));return t}function Ga(){var t=zr!==0;return zr=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?X.memoizedState=ae=t:ae=ae.next=t,ae}function He(){if(ie===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=ae===null?X.memoizedState:ae.next;if(e!==null)ae=e,ie=t;else{if(t===null)throw Error(_(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ae===null?X.memoizedState=ae=t:ae=ae.next=t}return ae}function Fr(t,e){return typeof e=="function"?e(t):e}function Gi(t){var e=He(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ln&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,X.lanes|=d,un|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,tt(r,e.memoizedState)||(Ne=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,un|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ji(t){var e=He(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tt(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gd(){}function yd(t,e){var n=X,r=He(),s=e(),i=!tt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ne=!0),r=r.queue,Ja(xd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,Br(9,wd.bind(null,n,r,s,e),void 0,null),le===null)throw Error(_(349));ln&30||vd(n,e,s)}return s}function vd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wd(t,e,n,r){e.value=n,e.getSnapshot=r,_d(e)&&kd(t)}function xd(t,e,n){return n(function(){_d(e)&&kd(t)})}function _d(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tt(t,n)}catch{return!0}}function kd(t){var e=wt(t,1);e!==null&&et(e,t,1,-1)}function nu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},e.queue=t,t=t.dispatch=Dp.bind(null,X,t),[e.memoizedState,t]}function Br(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bd(){return He().memoizedState}function Ts(t,e,n,r){var s=st();X.flags|=t,s.memoizedState=Br(1|e,n,void 0,r===void 0?null:r)}function pi(t,e,n,r){var s=He();r=r===void 0?null:r;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,r!==null&&qa(r,o.deps)){s.memoizedState=Br(e,n,i,r);return}}X.flags|=t,s.memoizedState=Br(1|e,n,i,r)}function ru(t,e){return Ts(8390656,8,t,e)}function Ja(t,e){return pi(2048,8,t,e)}function Sd(t,e){return pi(4,2,t,e)}function jd(t,e){return pi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ed(t,e,n){return n=n!=null?n.concat([t]):null,pi(4,4,Nd.bind(null,e,t),n)}function Qa(){}function Cd(t,e){var n=He();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Td(t,e){var n=He();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pd(t,e,n){return ln&21?(tt(n,e)||(n=$c(),X.lanes|=n,un|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function Lp(t,e){var n=F;F=n!==0&&4>n?n:4,t(!0);var r=Ki.transition;Ki.transition={};try{t(!1),e()}finally{F=n,Ki.transition=r}}function Od(){return He().memoizedState}function Up(t,e,n){var r=Dt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(t))Id(e,n);else if(n=fd(t,e,n,r),n!==null){var s=_e();et(n,t,r,s),Rd(n,e,r)}}function Dp(t,e,n){var r=Dt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))Id(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,tt(a,o)){var l=e.interleaved;l===null?(s.next=s,Fa(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=fd(t,e,s,r),n!==null&&(s=_e(),et(n,t,r,s),Rd(n,e,r))}}function Ad(t){var e=t.alternate;return t===X||e!==null&&e===X}function Id(t,e){xr=Ys=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ea(t,n)}}var Xs={readContext:We,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Mp={readContext:We,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:ru,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ts(4194308,4,Nd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ts(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ts(4,2,t,e)},useMemo:function(t,e){var n=st();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=st();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Up.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:nu,useDebugValue:Qa,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=nu(!1),e=t[0];return t=Lp.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,s=st();if(J){if(n===void 0)throw Error(_(407));n=n()}else{if(n=e(),le===null)throw Error(_(349));ln&30||vd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ru(xd.bind(null,r,i,t),[t]),r.flags|=2048,Br(9,wd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=st(),e=le.identifierPrefix;if(J){var n=mt,r=pt;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$p++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zp={readContext:We,useCallback:Cd,useContext:We,useEffect:Ja,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:jd,useMemo:Td,useReducer:Gi,useRef:bd,useState:function(){return Gi(Fr)},useDebugValue:Qa,useDeferredValue:function(t){var e=He();return Pd(e,ie.memoizedState,t)},useTransition:function(){var t=Gi(Fr)[0],e=He().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:yd,useId:Od,unstable_isNewReconciler:!1},Fp={readContext:We,useCallback:Cd,useContext:We,useEffect:Ja,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:jd,useMemo:Td,useReducer:Ji,useRef:bd,useState:function(){return Ji(Fr)},useDebugValue:Qa,useDeferredValue:function(t){var e=He();return ie===null?e.memoizedState=t:Pd(e,ie.memoizedState,t)},useTransition:function(){var t=Ji(Fr)[0],e=He().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:yd,useId:Od,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mi={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_e(),s=Dt(t),i=gt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Lt(t,i,s),e!==null&&(et(e,t,s,r),Es(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_e(),s=Dt(t),i=gt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Lt(t,i,s),e!==null&&(et(e,t,s,r),Es(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_e(),r=Dt(t),s=gt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Lt(t,s,r),e!==null&&(et(e,t,r,n),Es(e,t,r))}};function su(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rr(n,r)||!Rr(s,i):!0}function $d(t,e,n){var r=!1,s=Ft,i=e.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Ce(e)?on:ye.current,r=e.contextTypes,i=(r=r!=null)?Bn(t,s):Ft),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mi.enqueueReplaceState(e,e.state,null)}function Fo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ba(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Ce(e)?on:ye.current,s.context=Bn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mi.enqueueReplaceState(s,s.state,null),Js(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qn(t,e){try{var n="",r=e;do n+=mf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Ld(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ei||(ei=!0,Xo=r),Bo(t,e)},n}function Ud(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bo(t,e),typeof r!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ou(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=n0.bind(null,t,e,n),e.then(t,t))}function au(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Lt(n,e,1))),n.lanes|=1),t)}var Wp=_t.ReactCurrentOwner,Ne=!1;function xe(t,e,n,r){e.child=t===null?hd(e,null,n,r):Hn(e,t.child,n,r)}function uu(t,e,n,r,s){n=n.render;var i=e.ref;return Dn(e,s),r=Ka(t,e,n,r,i,s),n=Ga(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(J&&n&&$a(e),e.flags|=1,xe(t,e,r,s),e.child)}function cu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!sl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Dd(t,e,i,r,s)):(t=Is(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(o,r)&&t.ref===e.ref)return xt(t,e,s)}return e.flags|=1,t=Mt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Dd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rr(i,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,xt(t,e,s)}return Wo(t,e,n,r,s)}function Md(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(In,Ae),Ae|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(In,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(In,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,q(In,Ae),Ae|=r;return xe(t,e,s,n),e.child}function zd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wo(t,e,n,r,s){var i=Ce(n)?on:ye.current;return i=Bn(e,i),Dn(e,s),n=Ka(t,e,n,r,i,s),r=Ga(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(J&&r&&$a(e),e.flags|=1,xe(t,e,n,s),e.child)}function du(t,e,n,r,s){if(Ce(n)){var i=!0;Hs(e)}else i=!1;if(Dn(e,s),e.stateNode===null)Ps(t,e),$d(e,n,r),Fo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Ce(n)?on:ye.current,c=Bn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&iu(e,o,r,c),Nt=!1;var f=e.memoizedState;o.state=f,Js(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ee.current||Nt?(typeof d=="function"&&(zo(e,n,d,r),l=e.memoizedState),(a=Nt||su(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Je(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=We(l):(l=Ce(n)?on:ye.current,l=Bn(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&iu(e,o,r,l),Nt=!1,f=e.memoizedState,o.state=f,Js(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Ee.current||Nt?(typeof y=="function"&&(zo(e,n,y,r),v=e.memoizedState),(c=Nt||su(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ho(t,e,n,r,i,s)}function Ho(t,e,n,r,s,i){zd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ql(e,n,!1),xt(t,e,i);r=e.stateNode,Wp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hn(e,t.child,null,i),e.child=Hn(e,null,a,i)):xe(t,e,a,i),e.memoizedState=r.state,s&&Ql(e,n,!0),e.child}function Fd(t){var e=t.stateNode;e.pendingContext?Jl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jl(t,e.context,!1),Wa(t,e.containerInfo)}function hu(t,e,n,r,s){return Wn(),Ua(s),e.flags|=256,xe(t,e,n,r),e.child}var Vo={dehydrated:null,treeContext:null,retryLane:0};function qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bd(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(Y,s&1),t===null)return Do(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vi(o,r,0,null),t=rn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qo(n),e.memoizedState=Vo,t):Ya(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Hp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=rn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Vo,r}return i=t.child,t=i.sibling,r=Mt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ya(t,e){return e=vi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ps(t,e,n,r){return r!==null&&Ua(r),Hn(e,t.child,null,n),t=Ya(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Qi(Error(_(422))),ps(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vi({mode:"visible",children:r.children},s,0,null),i=rn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hn(e,t.child,null,o),e.child.memoizedState=qo(o),e.memoizedState=Vo,i);if(!(e.mode&1))return ps(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(_(419)),r=Qi(i,r,void 0),ps(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ne||a){if(r=le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),et(r,t,s,-1))}return rl(),r=Qi(Error(_(421))),ps(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=r0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=$t(s.nextSibling),Re=e,J=!0,Xe=null,t!==null&&(De[Me++]=pt,De[Me++]=mt,De[Me++]=an,pt=t.id,mt=t.overflow,an=e),e=Ya(e,r.children),e.flags|=4096,e)}function fu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mo(t.return,e,n)}function Yi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Wd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xe(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fu(t,n,e);else if(t.tag===19)fu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(q(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yi(e,!0,n,null,i);break;case"together":Yi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ps(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),un|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,n=Mt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vp(t,e,n){switch(e.tag){case 3:Fd(e),Wn();break;case 5:md(e);break;case 1:Ce(e.type)&&Hs(e);break;case 4:Wa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;q(Ks,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(q(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Bd(t,e,n):(q(Y,Y.current&1),t=xt(t,e,n),t!==null?t.sibling:null);q(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,Md(t,e,n)}return xt(t,e,n)}var Hd,Ko,Vd,qd;Hd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ko=function(){};Vd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,tn(lt.current);var i=null;switch(n){case"input":s=mo(t,s),r=mo(t,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=vo(t,s),r=vo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bs)}xo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Er.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Er.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&K("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};qd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ar(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qp(t,e,n){var r=e.pendingProps;switch(La(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Ce(e.type)&&Ws(),me(e),null;case 3:return r=e.stateNode,Vn(),G(Ee),G(ye),Va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(ta(Xe),Xe=null))),Ko(t,e),me(e),null;case 5:Ha(e);var s=tn(Mr.current);if(n=e.type,t!==null&&e.stateNode!=null)Vd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_(166));return me(e),null}if(t=tn(lt.current),hs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ot]=e,r[Ur]=i,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<fr.length;s++)K(fr[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":kl(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":Sl(r,i),K("invalid",r)}xo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ds(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ds(r.textContent,a,t),s=["children",""+a]):Er.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":rs(r),bl(r,i,!0);break;case"textarea":rs(r),jl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ot]=e,t[Ur]=r,Hd(t,e,!1,!1),e.stateNode=t;e:{switch(o=_o(n,r),n){case"dialog":K("cancel",t),K("close",t),s=r;break;case"iframe":case"object":case"embed":K("load",t),s=r;break;case"video":case"audio":for(s=0;s<fr.length;s++)K(fr[s],t);s=r;break;case"source":K("error",t),s=r;break;case"img":case"image":case"link":K("error",t),K("load",t),s=r;break;case"details":K("toggle",t),s=r;break;case"input":kl(t,r),s=mo(t,r),K("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),K("invalid",t);break;case"textarea":Sl(t,r),s=vo(t,r),K("invalid",t);break;default:s=r}xo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?bc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_c(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cr(t,l):typeof l=="number"&&Cr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Er.hasOwnProperty(i)?l!=null&&i==="onScroll"&&K("scroll",t):l!=null&&_a(t,i,l,o))}switch(n){case"input":rs(t),bl(t,r,!1);break;case"textarea":rs(t),jl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Rn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Rn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)qd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_(166));if(n=tn(Mr.current),tn(lt.current),hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ot]=e,(i=r.nodeValue!==n)&&(t=Re,t!==null))switch(t.tag){case 3:ds(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ds(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ot]=e,e.stateNode=r}return me(e),null;case 13:if(G(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ie!==null&&e.mode&1&&!(e.flags&128))cd(),Wn(),e.flags|=98560,i=!1;else if(i=hs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(_(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[ot]=e}else Wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else Xe!==null&&(ta(Xe),Xe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?oe===0&&(oe=3):rl())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Vn(),Ko(t,e),t===null&&$r(e.stateNode.containerInfo),me(e),null;case 10:return za(e.type._context),me(e),null;case 17:return Ce(e.type)&&Ws(),me(e),null;case 19:if(G(Y),i=e.memoizedState,i===null)return me(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ar(i,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qs(t),o!==null){for(e.flags|=128,ar(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&te()>Kn&&(e.flags|=128,r=!0,ar(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return me(e),null}else 2*te()-i.renderingStartTime>Kn&&n!==1073741824&&(e.flags|=128,r=!0,ar(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=te(),e.sibling=null,n=Y.current,q(Y,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return nl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ae&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function Kp(t,e){switch(La(e),e.tag){case 1:return Ce(e.type)&&Ws(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vn(),G(Ee),G(ye),Va(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ha(e),null;case 13:if(G(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));Wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Y),null;case 4:return Vn(),null;case 10:return za(e.type._context),null;case 22:case 23:return nl(),null;case 24:return null;default:return null}}var ms=!1,ge=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,T=null;function An(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function Go(t,e,n){try{n()}catch(r){ee(t,e,r)}}var pu=!1;function Jp(t,e){if(Oo=Ms,t=Yc(),Ra(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ao={focusedElem:t,selectionRange:n},Ms=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,k=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Je(e.type,x),k);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){ee(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return v=pu,pu=!1,v}function _r(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Go(e,n,i)}s=s.next}while(s!==r)}}function gi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kd(t){var e=t.alternate;e!==null&&(t.alternate=null,Kd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[Ur],delete e[$o],delete e[Op],delete e[Ap])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gd(t){return t.tag===5||t.tag===3||t.tag===4}function mu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bs));else if(r!==4&&(t=t.child,t!==null))for(Qo(t,e,n),t=t.sibling;t!==null;)Qo(t,e,n),t=t.sibling}function Yo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yo(t,e,n),t=t.sibling;t!==null;)Yo(t,e,n),t=t.sibling}var ce=null,Qe=!1;function kt(t,e,n){for(n=n.child;n!==null;)Jd(t,e,n),n=n.sibling}function Jd(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(li,n)}catch{}switch(n.tag){case 5:ge||An(n,e);case 6:var r=ce,s=Qe;ce=null,kt(t,e,n),ce=r,Qe=s,ce!==null&&(Qe?(t=ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(Qe?(t=ce,n=n.stateNode,t.nodeType===8?Hi(t.parentNode,n):t.nodeType===1&&Hi(t,n),Ar(t)):Hi(ce,n.stateNode));break;case 4:r=ce,s=Qe,ce=n.stateNode.containerInfo,Qe=!0,kt(t,e,n),ce=r,Qe=s;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Go(n,e,o),s=s.next}while(s!==r)}kt(t,e,n);break;case 1:if(!ge&&(An(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ee(n,e,a)}kt(t,e,n);break;case 21:kt(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,kt(t,e,n),ge=r):kt(t,e,n);break;default:kt(t,e,n)}}function gu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gp),e.forEach(function(r){var s=s0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ke(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ce=a.stateNode,Qe=!1;break e;case 3:ce=a.stateNode.containerInfo,Qe=!0;break e;case 4:ce=a.stateNode.containerInfo,Qe=!0;break e}a=a.return}if(ce===null)throw Error(_(160));Jd(i,o,s),ce=null,Qe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qd(e,t),e=e.sibling}function Qd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),rt(t),r&4){try{_r(3,t,t.return),gi(3,t)}catch(x){ee(t,t.return,x)}try{_r(5,t,t.return)}catch(x){ee(t,t.return,x)}}break;case 1:Ke(e,t),rt(t),r&512&&n!==null&&An(n,n.return);break;case 5:if(Ke(e,t),rt(t),r&512&&n!==null&&An(n,n.return),t.flags&32){var s=t.stateNode;try{Cr(s,"")}catch(x){ee(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vc(s,i),_o(a,o);var c=_o(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?bc(s,h):d==="dangerouslySetInnerHTML"?_c(s,h):d==="children"?Cr(s,h):_a(s,d,h,c)}switch(a){case"input":go(s,i);break;case"textarea":wc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Rn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Rn(s,!!i.multiple,i.defaultValue,!0):Rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ur]=i}catch(x){ee(t,t.return,x)}}break;case 6:if(Ke(e,t),rt(t),r&4){if(t.stateNode===null)throw Error(_(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ee(t,t.return,x)}}break;case 3:if(Ke(e,t),rt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(e.containerInfo)}catch(x){ee(t,t.return,x)}break;case 4:Ke(e,t),rt(t);break;case 13:Ke(e,t),rt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(el=te())),r&4&&gu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(c=ge)||d,Ke(e,t),ge=c):Ke(e,t),rt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,y=f.child,f.tag){case 0:case 11:case 14:case 15:_r(4,f,f.return);break;case 1:An(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ee(r,n,x)}}break;case 5:An(f,f.return);break;case 22:if(f.memoizedState!==null){vu(h);continue}}y!==null?(y.return=f,T=y):vu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kc("display",o))}catch(x){ee(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ee(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(e,t),rt(t),r&4&&gu(t);break;case 21:break;default:Ke(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cr(s,""),r.flags&=-33);var i=mu(t);Yo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mu(t);Qo(t,a,o);break;default:throw Error(_(161))}}catch(l){ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qp(t,e,n){T=t,Yd(t)}function Yd(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ms;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ge;a=ms;var c=ge;if(ms=o,(ge=l)&&!c)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?wu(s):l!==null?(l.return=o,T=l):wu(s);for(;i!==null;)T=i,Yd(i),i=i.sibling;T=s,ms=a,ge=c}yu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):yu(t)}}function yu(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||gi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Je(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ar(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}ge||e.flags&512&&Jo(e)}catch(f){ee(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function vu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function wu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gi(4,e)}catch(l){ee(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ee(e,s,l)}}var i=e.return;try{Jo(e)}catch(l){ee(e,i,l)}break;case 5:var o=e.return;try{Jo(e)}catch(l){ee(e,o,l)}}}catch(l){ee(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var Yp=Math.ceil,Zs=_t.ReactCurrentDispatcher,Xa=_t.ReactCurrentOwner,Fe=_t.ReactCurrentBatchConfig,M=0,le=null,ne=null,de=0,Ae=0,In=Wt(0),oe=0,Wr=null,un=0,yi=0,Za=0,kr=null,Se=null,el=0,Kn=1/0,dt=null,ei=!1,Xo=null,Ut=null,gs=!1,Ot=null,ti=0,br=0,Zo=null,Os=-1,As=0;function _e(){return M&6?te():Os!==-1?Os:Os=te()}function Dt(t){return t.mode&1?M&2&&de!==0?de&-de:Rp.transition!==null?(As===0&&(As=$c()),As):(t=F,t!==0||(t=window.event,t=t===void 0?16:Bc(t.type)),t):1}function et(t,e,n,r){if(50<br)throw br=0,Zo=null,Error(_(185));Kr(t,n,r),(!(M&2)||t!==le)&&(t===le&&(!(M&2)&&(yi|=n),oe===4&&Ct(t,de)),Te(t,r),n===1&&M===0&&!(e.mode&1)&&(Kn=te()+500,fi&&Ht()))}function Te(t,e){var n=t.callbackNode;Rf(t,e);var r=Ds(t,t===le?de:0);if(r===0)n!==null&&Cl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cl(n),e===1)t.tag===0?Ip(xu.bind(null,t)):ad(xu.bind(null,t)),Tp(function(){!(M&6)&&Ht()}),n=null;else{switch(Lc(r)){case 1:n=Na;break;case 4:n=Ic;break;case 16:n=Us;break;case 536870912:n=Rc;break;default:n=Us}n=ih(n,Xd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xd(t,e){if(Os=-1,As=0,M&6)throw Error(_(327));var n=t.callbackNode;if(Mn()&&t.callbackNode!==n)return null;var r=Ds(t,t===le?de:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ni(t,r);else{e=r;var s=M;M|=2;var i=eh();(le!==t||de!==e)&&(dt=null,Kn=te()+500,nn(t,e));do try{e0();break}catch(a){Zd(t,a)}while(!0);Ma(),Zs.current=i,M=s,ne!==null?e=0:(le=null,de=0,e=oe)}if(e!==0){if(e===2&&(s=No(t),s!==0&&(r=s,e=ea(t,s))),e===1)throw n=Wr,nn(t,0),Ct(t,r),Te(t,te()),n;if(e===6)Ct(t,r);else{if(s=t.current.alternate,!(r&30)&&!Xp(s)&&(e=ni(t,r),e===2&&(i=No(t),i!==0&&(r=i,e=ea(t,i))),e===1))throw n=Wr,nn(t,0),Ct(t,r),Te(t,te()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(_(345));case 2:Qt(t,Se,dt);break;case 3:if(Ct(t,r),(r&130023424)===r&&(e=el+500-te(),10<e)){if(Ds(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ro(Qt.bind(null,t,Se,dt),e);break}Qt(t,Se,dt);break;case 4:if(Ct(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ze(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yp(r/1960))-r,10<r){t.timeoutHandle=Ro(Qt.bind(null,t,Se,dt),r);break}Qt(t,Se,dt);break;case 5:Qt(t,Se,dt);break;default:throw Error(_(329))}}}return Te(t,te()),t.callbackNode===n?Xd.bind(null,t):null}function ea(t,e){var n=kr;return t.current.memoizedState.isDehydrated&&(nn(t,e).flags|=256),t=ni(t,e),t!==2&&(e=Se,Se=n,e!==null&&ta(e)),t}function ta(t){Se===null?Se=t:Se.push.apply(Se,t)}function Xp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ct(t,e){for(e&=~Za,e&=~yi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ze(e),r=1<<n;t[n]=-1,e&=~r}}function xu(t){if(M&6)throw Error(_(327));Mn();var e=Ds(t,0);if(!(e&1))return Te(t,te()),null;var n=ni(t,e);if(t.tag!==0&&n===2){var r=No(t);r!==0&&(e=r,n=ea(t,r))}if(n===1)throw n=Wr,nn(t,0),Ct(t,e),Te(t,te()),n;if(n===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qt(t,Se,dt),Te(t,te()),null}function tl(t,e){var n=M;M|=1;try{return t(e)}finally{M=n,M===0&&(Kn=te()+500,fi&&Ht())}}function cn(t){Ot!==null&&Ot.tag===0&&!(M&6)&&Mn();var e=M;M|=1;var n=Fe.transition,r=F;try{if(Fe.transition=null,F=1,t)return t()}finally{F=r,Fe.transition=n,M=e,!(M&6)&&Ht()}}function nl(){Ae=In.current,G(In)}function nn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cp(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(La(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:Vn(),G(Ee),G(ye),Va();break;case 5:Ha(r);break;case 4:Vn();break;case 13:G(Y);break;case 19:G(Y);break;case 10:za(r.type._context);break;case 22:case 23:nl()}n=n.return}if(le=t,ne=t=Mt(t.current,null),de=Ae=e,oe=0,Wr=null,Za=yi=un=0,Se=kr=null,en!==null){for(e=0;e<en.length;e++)if(n=en[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}en=null}return t}function Zd(t,e){do{var n=ne;try{if(Ma(),Cs.current=Xs,Ys){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ys=!1}if(ln=0,ae=ie=X=null,xr=!1,zr=0,Xa.current=null,n===null||n.return===null){oe=1,Wr=e,ne=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=de,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=au(o);if(y!==null){y.flags&=-257,lu(y,o,a,i,e),y.mode&1&&ou(i,c,e),e=y,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){ou(i,c,e),rl();break e}l=Error(_(426))}}else if(J&&a.mode&1){var k=au(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),lu(k,o,a,i,e),Ua(qn(l,a));break e}}i=l=qn(l,a),oe!==4&&(oe=2),kr===null?kr=[i]:kr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ld(i,l,e);eu(i,g);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ut===null||!Ut.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Ud(i,a,e);eu(i,w);break e}}i=i.return}while(i!==null)}nh(n)}catch(S){e=S,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(!0)}function eh(){var t=Zs.current;return Zs.current=Xs,t===null?Xs:t}function rl(){(oe===0||oe===3||oe===2)&&(oe=4),le===null||!(un&268435455)&&!(yi&268435455)||Ct(le,de)}function ni(t,e){var n=M;M|=2;var r=eh();(le!==t||de!==e)&&(dt=null,nn(t,e));do try{Zp();break}catch(s){Zd(t,s)}while(!0);if(Ma(),M=n,Zs.current=r,ne!==null)throw Error(_(261));return le=null,de=0,oe}function Zp(){for(;ne!==null;)th(ne)}function e0(){for(;ne!==null&&!jf();)th(ne)}function th(t){var e=sh(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?nh(t):ne=e,Xa.current=null}function nh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kp(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,ne=null;return}}else if(n=qp(n,e,Ae),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);oe===0&&(oe=5)}function Qt(t,e,n){var r=F,s=Fe.transition;try{Fe.transition=null,F=1,t0(t,e,n,r)}finally{Fe.transition=s,F=r}return null}function t0(t,e,n,r){do Mn();while(Ot!==null);if(M&6)throw Error(_(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($f(t,i),t===le&&(ne=le=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,ih(Us,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=F;F=1;var a=M;M|=4,Xa.current=null,Jp(t,n),Qd(n,t),_p(Ao),Ms=!!Oo,Ao=Oo=null,t.current=n,Qp(n),Nf(),M=a,F=o,Fe.transition=i}else t.current=n;if(gs&&(gs=!1,Ot=t,ti=s),i=t.pendingLanes,i===0&&(Ut=null),Tf(n.stateNode),Te(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ei)throw ei=!1,t=Xo,Xo=null,t;return ti&1&&t.tag!==0&&Mn(),i=t.pendingLanes,i&1?t===Zo?br++:(br=0,Zo=t):br=0,Ht(),null}function Mn(){if(Ot!==null){var t=Lc(ti),e=Fe.transition,n=F;try{if(Fe.transition=null,F=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,ti=0,M&6)throw Error(_(331));var s=M;for(M|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:_r(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,y=d.return;if(Kd(d),d===c){T=null;break}if(f!==null){f.return=y,T=f;break}T=y}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_r(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,T=m;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gi(9,a)}}catch(S){ee(a,a.return,S)}if(a===o){T=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,T=w;break e}T=a.return}}if(M=s,Ht(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(li,t)}catch{}r=!0}return r}finally{F=n,Fe.transition=e}}return!1}function _u(t,e,n){e=qn(n,e),e=Ld(t,e,1),t=Lt(t,e,1),e=_e(),t!==null&&(Kr(t,1,e),Te(t,e))}function ee(t,e,n){if(t.tag===3)_u(t,t,n);else for(;e!==null;){if(e.tag===3){_u(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ut===null||!Ut.has(r))){t=qn(n,t),t=Ud(e,t,1),e=Lt(e,t,1),t=_e(),e!==null&&(Kr(e,1,t),Te(e,t));break}}e=e.return}}function n0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_e(),t.pingedLanes|=t.suspendedLanes&n,le===t&&(de&n)===n&&(oe===4||oe===3&&(de&130023424)===de&&500>te()-el?nn(t,0):Za|=n),Te(t,e)}function rh(t,e){e===0&&(t.mode&1?(e=os,os<<=1,!(os&130023424)&&(os=4194304)):e=1);var n=_e();t=wt(t,e),t!==null&&(Kr(t,e,n),Te(t,n))}function r0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rh(t,n)}function s0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(e),rh(t,n)}var sh;sh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,Vp(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,J&&e.flags&1048576&&ld(e,qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ps(t,e),t=e.pendingProps;var s=Bn(e,ye.current);Dn(e,n),s=Ka(null,e,r,t,s,n);var i=Ga();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ce(r)?(i=!0,Hs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ba(e),s.updater=mi,e.stateNode=s,s._reactInternals=e,Fo(e,r,t,n),e=Ho(null,e,r,!0,i,n)):(e.tag=0,J&&i&&$a(e),xe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ps(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=o0(r),t=Je(r,t),s){case 0:e=Wo(null,e,r,t,n);break e;case 1:e=du(null,e,r,t,n);break e;case 11:e=uu(null,e,r,t,n);break e;case 14:e=cu(null,e,r,Je(r.type,t),n);break e}throw Error(_(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),Wo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),du(t,e,r,s,n);case 3:e:{if(Fd(e),t===null)throw Error(_(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pd(t,e),Js(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qn(Error(_(423)),e),e=hu(t,e,r,n,s);break e}else if(r!==s){s=qn(Error(_(424)),e),e=hu(t,e,r,n,s);break e}else for(Ie=$t(e.stateNode.containerInfo.firstChild),Re=e,J=!0,Xe=null,n=hd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===s){e=xt(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return md(e),t===null&&Do(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Io(r,s)?o=null:i!==null&&Io(r,i)&&(e.flags|=32),zd(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&Do(e),null;case 13:return Bd(t,e,n);case 4:return Wa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hn(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),uu(t,e,r,s,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(Ks,r._currentValue),r._currentValue=o,i!==null)if(tt(i.value,o)){if(i.children===s.children&&!Ee.current){e=xt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Mo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Mo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Dn(e,n),s=We(s),r=r(s),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,s=Je(r,e.pendingProps),s=Je(r.type,s),cu(t,e,r,s,n);case 15:return Dd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),Ps(t,e),e.tag=1,Ce(r)?(t=!0,Hs(e)):t=!1,Dn(e,n),$d(e,r,s),Fo(e,r,s,n),Ho(null,e,r,!0,t,n);case 19:return Wd(t,e,n);case 22:return Md(t,e,n)}throw Error(_(156,e.tag))};function ih(t,e){return Ac(t,e)}function i0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(t,e,n,r){return new i0(t,e,n,r)}function sl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function o0(t){if(typeof t=="function")return sl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ba)return 11;if(t===Sa)return 14}return 2}function Mt(t,e){var n=t.alternate;return n===null?(n=ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Is(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")sl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bn:return rn(n.children,s,i,e);case ka:o=8,s|=8;break;case co:return t=ze(12,n,e,s|2),t.elementType=co,t.lanes=i,t;case ho:return t=ze(13,n,e,s),t.elementType=ho,t.lanes=i,t;case fo:return t=ze(19,n,e,s),t.elementType=fo,t.lanes=i,t;case mc:return vi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fc:o=10;break e;case pc:o=9;break e;case ba:o=11;break e;case Sa:o=14;break e;case jt:o=16,r=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=ze(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function rn(t,e,n,r){return t=ze(7,t,r,e),t.lanes=n,t}function vi(t,e,n,r){return t=ze(22,t,r,e),t.elementType=mc,t.lanes=n,t.stateNode={isHidden:!1},t}function Xi(t,e,n){return t=ze(6,t,null,e),t.lanes=n,t}function Zi(t,e,n){return e=ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function il(t,e,n,r,s,i,o,a,l){return t=new a0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ba(i),t}function l0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oh(t){if(!t)return Ft;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ce(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var n=t.type;if(Ce(n))return od(t,n,e)}return e}function ah(t,e,n,r,s,i,o,a,l){return t=il(n,r,!0,t,s,i,o,a,l),t.context=oh(null),n=t.current,r=_e(),s=Dt(n),i=gt(r,s),i.callback=e??null,Lt(n,i,s),t.current.lanes=s,Kr(t,s,r),Te(t,r),t}function wi(t,e,n,r){var s=e.current,i=_e(),o=Dt(s);return n=oh(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lt(s,e,o),t!==null&&(et(t,s,o,i),Es(t,s,o)),o}function ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ku(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ol(t,e){ku(t,e),(t=t.alternate)&&ku(t,e)}function u0(){return null}var lh=typeof reportError=="function"?reportError:function(t){console.error(t)};function al(t){this._internalRoot=t}xi.prototype.render=al.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));wi(t,e,null,null)};xi.prototype.unmount=al.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cn(function(){wi(null,t,null,null)}),e[vt]=null}};function xi(t){this._internalRoot=t}xi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Et.length&&e!==0&&e<Et[n].priority;n++);Et.splice(n,0,t),n===0&&Fc(t)}};function ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _i(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bu(){}function c0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ri(o);i.call(c)}}var o=ah(e,r,t,0,null,!1,!1,"",bu);return t._reactRootContainer=o,t[vt]=o.current,$r(t.nodeType===8?t.parentNode:t),cn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ri(l);a.call(c)}}var l=il(t,0,!1,null,null,!1,!1,"",bu);return t._reactRootContainer=l,t[vt]=l.current,$r(t.nodeType===8?t.parentNode:t),cn(function(){wi(e,l,n,r)}),l}function ki(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ri(o);a.call(l)}}wi(e,o,t,s)}else o=c0(n,e,t,s,r);return ri(o)}Uc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hr(e.pendingLanes);n!==0&&(Ea(e,n|1),Te(e,te()),!(M&6)&&(Kn=te()+500,Ht()))}break;case 13:cn(function(){var r=wt(t,1);if(r!==null){var s=_e();et(r,t,1,s)}}),ol(t,1)}};Ca=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=_e();et(e,t,134217728,n)}ol(t,134217728)}};Dc=function(t){if(t.tag===13){var e=Dt(t),n=wt(t,e);if(n!==null){var r=_e();et(n,t,e,r)}ol(t,e)}};Mc=function(){return F};zc=function(t,e){var n=F;try{return F=t,e()}finally{F=n}};bo=function(t,e,n){switch(e){case"input":if(go(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=hi(r);if(!s)throw Error(_(90));yc(r),go(r,s)}}}break;case"textarea":wc(t,n);break;case"select":e=n.value,e!=null&&Rn(t,!!n.multiple,e,!1)}};Nc=tl;Ec=cn;var d0={usingClientEntryPoint:!1,Events:[Jr,En,hi,Sc,jc,tl]},lr={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h0={bundleType:lr.bundleType,version:lr.version,rendererPackageName:lr.rendererPackageName,rendererConfig:lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pc(t),t===null?null:t.stateNode},findFiberByHostInstance:lr.findFiberByHostInstance||u0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{li=ys.inject(h0),at=ys}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;Le.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ll(e))throw Error(_(200));return l0(t,e,null,n)};Le.createRoot=function(t,e){if(!ll(t))throw Error(_(299));var n=!1,r="",s=lh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=il(t,1,!1,null,null,n,!1,r,s),t[vt]=e.current,$r(t.nodeType===8?t.parentNode:t),new al(e)};Le.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=Pc(e),t=t===null?null:t.stateNode,t};Le.flushSync=function(t){return cn(t)};Le.hydrate=function(t,e,n){if(!_i(e))throw Error(_(200));return ki(null,t,e,!0,n)};Le.hydrateRoot=function(t,e,n){if(!ll(t))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ah(e,null,t,1,n??null,s,!1,i,o),t[vt]=e.current,$r(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xi(e)};Le.render=function(t,e,n){if(!_i(e))throw Error(_(200));return ki(null,t,e,!1,n)};Le.unmountComponentAtNode=function(t){if(!_i(t))throw Error(_(40));return t._reactRootContainer?(cn(function(){ki(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Le.unstable_batchedUpdates=tl;Le.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_i(n))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return ki(t,e,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(t){console.error(t)}}uh(),uc.exports=Le;var f0=uc.exports,ch,Su=f0;ch=Su.createRoot,Su.hydrateRoot;const p0="modulepreload",m0=function(t){return"/"+t},ju={},Yr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=m0(l),l in ju)return;ju[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":p0,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},g0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Xn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ul extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class y0 extends ul{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nu extends ul{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Eu extends ul{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var na;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(na||(na={}));var v0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class w0{constructor(e,{headers:n={},customFetch:r,region:s=na.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=g0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return v0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new y0(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Nu(h);if(!h.ok)throw new Eu(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Eu||s instanceof Nu?s.context:void 0}}})}}var je={},cl={},bi={},Xr={},Si={},ji={},x0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gn=x0();const _0=Gn.fetch,dh=Gn.fetch.bind(Gn),hh=Gn.Headers,k0=Gn.Request,b0=Gn.Response,Xn=Object.freeze(Object.defineProperty({__proto__:null,Headers:hh,Request:k0,Response:b0,default:dh,fetch:_0},Symbol.toStringTag,{value:"Module"})),S0=zh(Xn);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});let j0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ni.default=j0;var fh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});const N0=fh(S0),E0=fh(Ni);let C0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=N0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,h=null,f=null,y=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const k=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,y=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(h=[],d=null,y=200,v="OK")}catch{i.status===404&&k===""?(y=204,v="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,v="OK"),d&&this.shouldThrowOnError)throw new E0.default(d)}return{error:d,data:h,count:f,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ji.default=C0;var T0=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const P0=T0(ji);let O0=class extends P0.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Si.default=O0;var A0=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xr,"__esModule",{value:!0});const I0=A0(Si);let R0=class extends I0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Xr.default=R0;var $0=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});const ur=$0(Xr);let L0=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new ur.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ur.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ur.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ur.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ur.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bi.default=L0;var ph=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cl,"__esModule",{value:!0});const U0=ph(bi),D0=ph(Xr);let M0=class mh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new U0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new D0.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};cl.default=M0;var Zn=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const gh=Zn(cl);je.PostgrestClient=gh.default;const yh=Zn(bi);je.PostgrestQueryBuilder=yh.default;const vh=Zn(Xr);je.PostgrestFilterBuilder=vh.default;const wh=Zn(Si);je.PostgrestTransformBuilder=wh.default;const xh=Zn(ji);je.PostgrestBuilder=xh.default;const _h=Zn(Ni);je.PostgrestError=_h.default;var z0=je.default={PostgrestClient:gh.default,PostgrestQueryBuilder:yh.default,PostgrestFilterBuilder:vh.default,PostgrestTransformBuilder:wh.default,PostgrestBuilder:xh.default,PostgrestError:_h.default};const{PostgrestClient:F0,PostgrestQueryBuilder:hy,PostgrestFilterBuilder:fy,PostgrestTransformBuilder:py,PostgrestBuilder:my,PostgrestError:gy}=z0;class B0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const W0="2.15.5",H0=`realtime-js/${W0}`,V0="1.0.0",ra=1e4,q0=1e3,K0=100;var Sr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sr||(Sr={}));var re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(re||(re={}));var Ye;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ye||(Ye={}));var sa;(function(t){t.websocket="websocket"})(sa||(sa={}));var Xt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xt||(Xt={}));class G0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class kh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Cu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=J0(o,t,e,s),i),{})},J0=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?bh(i,o):ia(o)},bh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Z0(e,n)}switch(t){case V.bool:return Q0(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Y0(e);case V.json:case V.jsonb:return X0(e);case V.timestamp:return em(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return ia(e);default:return ia(e)}},ia=t=>t,Q0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Y0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},X0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Z0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>bh(e,a))}return t},em=t=>typeof t=="string"?t.replace(" ","T"):t,Sh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class eo{constructor(e,n,r={},s=ra){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tu||(Tu={}));class jr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=jr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(k=>k.presence_ref),y=h.map(k=>k.presence_ref),v=d.filter(k=>y.indexOf(k.presence_ref)<0),x=h.filter(k=>f.indexOf(k.presence_ref)<0);v.length>0&&(a[c]=v),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pu||(Pu={}));var Nr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nr||(Nr={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class dl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eo(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new kh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new jr(this),this.broadcastEndpointURL=Sh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==re.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Nr.PRESENCE]&&this.bindings[Nr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(ht.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){e==null||e(ht.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,k=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<k;p++){const m=x[p],{filter:{event:w,schema:S,table:b,filter:j}}=m,P=y&&y[p];if(P&&P.event===w&&P.schema===S&&P.table===b&&P.filter===j)g.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=re.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ht.SUBSCRIBED);return}}).receive("error",y=>{this.state=re.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===re.joined&&e===Nr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new eo(this,Ye.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=re.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new eo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>K0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ye;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,x,k;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(x=y.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,x,k,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,S=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((x=n.ids)===null||x===void 0?void 0:x.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:k,commit_timestamp:g,type:p,errors:m}=v;f=Object.assign(Object.assign({},{schema:x,table:k,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,r)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&dl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ye.close,{},e)}_onError(e){this._on(Ye.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Cu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Cu(e.columns,e.old_record)),n}}const to=()=>{},vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tm=[1e3,2e3,5e3,1e4],nm=1e4,rm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ra,this.transport=null,this.heartbeatIntervalMs=vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=to,this.ref=0,this.reconnectTimer=null,this.logger=to,this.conn=null,this.sendBuffer=[],this.serializer=new G0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Yr(async()=>{const{default:a}=await Promise.resolve().then(()=>Xn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sa.websocket}`,this.httpEndpoint=Sh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return Xt.Connecting;case Sr.open:return Xt.Open;case Sr.closing:return Xt.Closing;default:return Xt.Closed}}isConnected(){return this.connectionState()===Xt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new dl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(q0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ye.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:H0};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ye.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new kh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ra,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:vs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:to,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>tm[h-1]||nm,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class hl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class im extends hl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oa extends hl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var om=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const jh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Xn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},am=()=>om(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yr(()=>Promise.resolve().then(()=>Xn),void 0)).Response:Response}),aa=t=>{if(Array.isArray(t))return t.map(n=>aa(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=aa(r)}),e},lm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const no=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),um=(t,e,n)=>fn(void 0,void 0,void 0,function*(){const r=yield am();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new im(no(s),i,o))}).catch(s=>{e(new oa(no(s),s))}):e(new oa(no(t),t))}),cm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(lm(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Zr(t,e,n,r,s,i){return fn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,cm(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>um(l,a,r))})})}function si(t,e,n,r){return fn(this,void 0,void 0,function*(){return Zr(t,"GET",e,n,r)})}function it(t,e,n,r,s){return fn(this,void 0,void 0,function*(){return Zr(t,"POST",e,r,s,n)})}function la(t,e,n,r,s){return fn(this,void 0,void 0,function*(){return Zr(t,"PUT",e,r,s,n)})}function dm(t,e,n,r){return fn(this,void 0,void 0,function*(){return Zr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nh(t,e,n,r,s){return fn(this,void 0,void 0,function*(){return Zr(t,"DELETE",e,r,s,n)})}var we=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const hm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ou={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fm{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=jh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ou),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?la:it)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ou.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield la(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield it(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new hl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}update(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}copy(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield it(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return we(this,void 0,void 0,function*(){try{const s=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}download(e,n){return we(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield si(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(se(a))return{data:null,error:a};throw a}})}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield si(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:aa(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r)&&r instanceof oa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}list(e,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hm),n),{prefix:e||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}listV2(e,n){return we(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield it(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const pm="2.12.1",mm={"X-Client-Info":`storage-js/${pm}`};var mn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class gm{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},mm),n),this.fetch=jh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return mn(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}deleteBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}}class ym extends gm{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new fm(this.url,this.headers,e,this.fetch)}}const vm="2.57.4";let pr="";typeof Deno<"u"?pr="deno":typeof document<"u"?pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pr="react-native":pr="node";const wm={"X-Client-Info":`supabase-js-${pr}/${vm}`},xm={headers:wm},_m={schema:"public"},km={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bm={};var Sm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const jm=t=>{let e;return t?e=t:typeof fetch>"u"?e=dh:e=fetch,(...n)=>e(...n)},Nm=()=>typeof Headers>"u"?hh:Headers,Em=(t,e,n)=>{const r=jm(n),s=Nm();return(i,o)=>Sm(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Cm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Tm(t){return t.endsWith("/")?t:t+"/"}function Pm(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Cm(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Om(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Eh="2.71.1",xn=30*1e3,ua=3,ro=ua*xn,Am="http://localhost:9999",Im="supabase.auth.token",Rm={"X-Client-Info":`gotrue-js/${Eh}`},ca="X-Supabase-Api-Version",Ch={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$m=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lm=10*60*1e3;class fl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Um extends fl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Dm(t){return I(t)&&t.name==="AuthApiError"}class Th extends fl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vt extends fl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class St extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mm(t){return I(t)&&t.name==="AuthSessionMissingError"}class ws extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xs extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _s extends Vt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zm(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Au extends Vt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class da extends Vt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function so(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Iu extends Vt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ha extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ru=` 	
\r=`.split(""),Fm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ru.length;e+=1)t[Ru[e].charCodeAt(0)]=-2;for(let e=0;e<ii.length;e+=1)t[ii[e].charCodeAt(0)]=e;return t})();function $u(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ii[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ii[r]),e.queuedBits-=6}}function Ph(t,e,n){const r=Fm[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Hm(o,r,n)};for(let o=0;o<t.length;o+=1)Ph(t.charCodeAt(o),s,i);return e.join("")}function Bm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wm(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Bm(r,e)}}function Hm(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Vm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ph(t.charCodeAt(s),n,r);return new Uint8Array(e)}function qm(t){const e=[];return Wm(t,n=>e.push(n)),new Uint8Array(e)}function Km(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>$u(s,n,r)),$u(null,n,r),e.join("")}function Gm(t){return Math.round(Date.now()/1e3)+t}function Jm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Oh=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Qm(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Xn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ym=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_n=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bt=async(t,e)=>{await t.removeItem(e)};class Ei{constructor(){this.promise=new Ei.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ei.promiseConstructor=Promise;function io(t){const e=t.split(".");if(e.length!==3)throw new ha("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!$m.test(e[r]))throw new ha("JWT not in base64url format");return{header:JSON.parse(Lu(e[0])),payload:JSON.parse(Lu(e[1])),signature:Vm(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zm(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function eg(t){return("0"+t.toString(16)).substr(-2)}function tg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,eg).join("")}async function ng(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ng(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(t,e,n=!1){const r=tg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await _n(t,`${e}-code-verifier`,s);const i=await rg(r);return[i,r===i?"plain":"s256"]}const sg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ig(t){const e=t.headers.get(ca);if(!e||!e.match(sg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function og(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ag(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(t){if(!lg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uu(t){return JSON.parse(JSON.stringify(t))}var ug=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Yt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cg=[502,503,504];async function Du(t){var e;if(!Ym(t))throw new da(Yt(t),0);if(cg.includes(t.status))throw new da(Yt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Th(Yt(i),i)}let r;const s=ig(t);if(s&&s.getTime()>=Ch["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Iu(Yt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Iu(Yt(n),t.status,n.weak_password.reasons);throw new Um(Yt(n),t.status||500,r)}const dg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ca]||(i[ca]=Ch["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hg(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function hg(t,e,n,r,s,i){const o=dg(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new da(Yt(l),0)}if(a.ok||await Du(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Du(l)}}function ct(t){var e;let n=null;gg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Gm(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mu(t){const e=ct(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fg(t){return{data:t,error:null}}function pg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=ug(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mg(t){return t}function gg(t){return t.access_token&&t.refresh_token&&t.expires_in}const ao=["global","local","others"];var yg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class vg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ah(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ao[0]){if(ao.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ao.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=yg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mg});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);c[`${k}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){yn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yn(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yn(e.userId),yn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}function zu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function wg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vn={debug:!!(globalThis&&Oh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ih extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xg extends Ih{}async function _g(t,e,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wg();const kg={url:Am,storageKey:Im,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fu(t,e,n){return await n()}const wn={};class Hr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hr.nextInstanceID,Hr.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ah(s.fetch),this.lock=s.lock||Fu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ge()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_g:this.lock=Fu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Oh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zu(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=wn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Qm(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ge()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zm(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new Th("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ct}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await gn(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:ct})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ct})}else throw new xs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else throw new xs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ws}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,f,y;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:k,wallet:g,statement:p,options:m}=e;let w;if(Ge())if(typeof g=="object")w=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=b}}try{const{data:k,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Km(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ct});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ws}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if(I(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await Gt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ct});if(await bt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ct}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ws}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gn(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new xs("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gn(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fg})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new St;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xs("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ro:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Gt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=oo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(n){if(I(n))return Mm(n)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new St;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gn(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=io(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ge())throw new _s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Au("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Au("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new _s("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const y=f-d;y*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Dm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Jm(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ge()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zm(async s=>(s>0&&await Xm(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ct})),(s,i)=>{const o=200*Math.pow(2,s);return i&&so(i)&&Date.now()+o-r<xn})}catch(r){if(this._debug(n,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ge()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Gt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await _n(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:oo()}else if(s&&!s.user&&!s.user){const o=await Gt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await bt(this.storage,this.storageKey+"-user"),await _n(this.storage,this.storageKey,s)):s.user=oo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ro;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ro}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),so(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ei;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return so(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await _n(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Uu(s);await _n(this.storage,this.storageKey,i)}else{const s=Uu(n);await _n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xn}ms, refresh threshold is ${ua} ticks`),s<=ua&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ih)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=io(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Lm>s)return r;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=io(r);n!=null&&n.allowExpired||og(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=ag(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,qm(`${a}.${l}`)))throw new ha("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}Hr.nextInstanceID=0;const bg=Hr;class Sg extends bg{constructor(e){super(e)}}var jg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Ng{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=Om(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:_m,realtime:bm,auth:Object.assign(Object.assign({},km),{storageKey:l}),global:xm},d=Pm(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Em(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new F0(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ym(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new w0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return jg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sg({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Eg=(t,e,n)=>new Ng(t,e,n);function Cg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Cg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tg="https://bhttzmtvjvvgunjeqahp.supabase.co",Pg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJodHR6bXR2anZ2Z3VuamVxYWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MDUyNzAsImV4cCI6MjA4MTA4MTI3MH0.Y3vs4ZAmvA-BzgI-tvLbKP5eS1-LlX3TuI-5fnS5ljo",W=Eg(Tg,Pg),Rh=E.createContext(void 0);function Og({children:t}){const[e,n]=E.useState(null),[r,s]=E.useState(null),[i,o]=E.useState(!0);E.useEffect(()=>{W.auth.getSession().then(({data:{session:h}})=>{s(h),n((h==null?void 0:h.user)??null),o(!1)});const{data:{subscription:d}}=W.auth.onAuthStateChange((h,f)=>{(async()=>(s(f),n((f==null?void 0:f.user)??null)))()});return()=>d.unsubscribe()},[]);const a=async(d,h)=>{try{const{error:f}=await W.auth.signUp({email:d,password:h});return{error:f}}catch(f){return{error:f}}},l=async(d,h)=>{try{const{error:f}=await W.auth.signInWithPassword({email:d,password:h});return{error:f}}catch(f){return{error:f}}},c=async()=>{try{console.log("Signing out...");const{error:d}=await W.auth.signOut();d&&console.error("Sign out error:",d),console.log("Sign out completed"),s(null),n(null)}catch(d){console.error("Sign out failed:",d),s(null),n(null)}};return u.jsx(Rh.Provider,{value:{user:e,session:r,loading:i,signUp:a,signIn:l,signOut:c},children:t})}function er(){const t=E.useContext(Rh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ag={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>E.createElement("svg",{ref:d,...Ag,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ig(t)}`,a].join(" "),...c},[...e.map(([h,f])=>E.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=D("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=D("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=D("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=D("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=D("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=D("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=D("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=D("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=D("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=D("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=D("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=D("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=D("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=D("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=D("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=D("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=D("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=D("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=D("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=D("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),es=(t,e)=>{typeof window.gtag<"u"&&window.gtag("event",t,e)},Kg=()=>{es("sign_up",{method:"email"})},Gg=()=>{es("login",{method:"email"})},Qu=t=>{es("scan_file",{file_type:t})},Jg=()=>{es("game_play")};function Qg(){const[t,e]=E.useState(!1),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState(null),[l,c]=E.useState(!1),{signIn:d,signUp:h}=er(),f=async y=>{y.preventDefault(),a(null),c(!0);const{error:v}=t?await h(n,s):await d(n,s);v?a(v.message):t?Kg():Gg(),c(!1)};return u.jsxs("div",{className:"min-h-screen galaxy-bg galaxy-content flex flex-col items-center justify-center p-6",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-black mb-4 inline-flex",style:{letterSpacing:"-0.05em",transform:"rotate(-2deg)"},children:"NoCap".split("").map((y,v)=>u.jsx("span",{className:"inline-block bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-500 bg-clip-text text-transparent wave-letter",style:{textShadow:"0 0 40px rgba(34, 211, 238, 0.5)",animationDelay:`${v*.1}s`},children:y},v))}),u.jsx("p",{className:"text-cyan-300 text-base sm:text-lg md:text-xl font-bold px-4 drop-shadow-lg",children:"Detect fake content instantly"})]})}),u.jsx("div",{className:"w-full max-w-md space-y-4 mb-8",children:t?u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-cyan-500/30 p-6 space-y-4",children:[u.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent text-center mb-2",children:"Get Started!"}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&u.jsxs("div",{className:"bg-red-500/20 border-2 border-red-400 rounded-2xl p-3 flex items-start gap-3 backdrop-blur-sm",children:[u.jsx(Vr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-300 font-semibold",children:o})]}),u.jsx("input",{type:"email",value:n,onChange:y=>r(y.target.value),required:!0,className:"w-full px-5 py-4 bg-slate-800/50 border border-cyan-500/30 rounded-2xl font-semibold text-white placeholder-cyan-300/50 focus:ring-4 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",placeholder:"Email"}),u.jsx("input",{type:"password",value:s,onChange:y=>i(y.target.value),required:!0,minLength:6,className:"w-full px-5 py-4 bg-slate-800/50 border border-cyan-500/30 rounded-2xl font-semibold text-white placeholder-cyan-300/50 focus:ring-4 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",placeholder:"Password (6+ characters)"}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-black py-4 px-6 rounded-full text-lg shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:l?u.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin mx-auto"}):"Sign Up"}),u.jsx("button",{type:"button",onClick:()=>{e(!t),a(null)},className:"w-full text-center text-cyan-300 font-bold text-sm hover:text-cyan-200",children:"Already have an account? Sign in"})]})]}):u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-cyan-500/30 p-6 space-y-4",children:[u.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent text-center mb-2",children:"Welcome Back!"}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&u.jsxs("div",{className:"bg-red-500/20 border-2 border-red-400 rounded-2xl p-3 flex items-start gap-3 backdrop-blur-sm",children:[u.jsx(Vr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-300 font-semibold",children:o})]}),u.jsx("input",{type:"email",value:n,onChange:y=>r(y.target.value),required:!0,className:"w-full px-5 py-4 bg-slate-800/50 border border-cyan-500/30 rounded-2xl font-semibold text-white placeholder-cyan-300/50 focus:ring-4 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",placeholder:"Email"}),u.jsx("input",{type:"password",value:s,onChange:y=>i(y.target.value),required:!0,minLength:6,className:"w-full px-5 py-4 bg-slate-800/50 border border-cyan-500/30 rounded-2xl font-semibold text-white placeholder-cyan-300/50 focus:ring-4 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",placeholder:"Password"}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-black py-4 px-6 rounded-full text-lg shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:l?u.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin mx-auto"}):"Sign In"}),u.jsx("button",{type:"button",onClick:()=>{e(!t),a(null)},className:"w-full text-center text-cyan-300 font-bold text-sm hover:text-cyan-200",children:"Don't have an account? Sign up"})]})]})})]})}function Yg({onScanComplete:t,onInsufficientTokens:e}){const[n,r]=E.useState(null),[s,i]=E.useState(null),[o,a]=E.useState(!1),[l,c]=E.useState(null),[d,h]=E.useState(!1),[f,y]=E.useState(0),[v,x]=E.useState("file"),[k,g]=E.useState(""),p=E.useRef(null),{user:m}=er();E.useEffect(()=>{w()},[m]);const w=async()=>{if(!m)return;const{data:C}=await W.from("token_balances").select("free_scans_used").eq("user_id",m.id).maybeSingle();C&&y(3-(C.free_scans_used||0))},S=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?h(!0):C.type==="dragleave"&&h(!1)},b=C=>{C.preventDefault(),C.stopPropagation(),h(!1);const H=C.dataTransfer.files[0];H&&j(H)},j=C=>{if(!["image/jpeg","image/png","image/webp","video/mp4","video/webm"].includes(C.type)){c("Please upload a valid image (JPEG, PNG, WebP) or video (MP4, WebM) file");return}if(C.size>52428800){c("File size must be less than 50MB");return}if(r(C),c(null),C.type.startsWith("image/")){const Pe=new FileReader;Pe.onloadend=()=>{i(Pe.result)},Pe.readAsDataURL(C)}else i(null)},P=C=>{var fe;const H=(fe=C.target.files)==null?void 0:fe[0];H&&j(H)},B=C=>C.includes("instagram.com")||C.includes("twitter.com")||C.includes("x.com")||C.includes("tiktok.com")||C.includes("facebook.com"),R=async()=>{if(!(!k.trim()||!m)){a(!0),c(null);try{const{data:C}=await W.from("token_balances").select("balance, free_scans_used").eq("user_id",m.id).maybeSingle(),H=((C==null?void 0:C.free_scans_used)||0)<3,fe=((C==null?void 0:C.balance)||0)>=100;if(!H&&!fe){a(!1),e&&e();return}const{data:{session:Pe}}=await W.auth.getSession();if(!Pe)throw new Error("No active session");let ve=k.trim();if(B(ve)){const Oe=await fetch("https://bhttzmtvjvvgunjeqahp.supabase.co/functions/v1/extract-media-url",{method:"POST",headers:{Authorization:`Bearer ${Pe.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({url:ve})});if(!Oe.ok){const nt=await Oe.json();throw new Error(nt.error||"Failed to extract media from social media post")}const{mediaUrl:Ve}=await Oe.json();ve=Ve}const Q="https://bhttzmtvjvvgunjeqahp.supabase.co/functions/v1/analyze-content",N={Authorization:`Bearer ${Pe.access_token}`,"Content-Type":"application/json"},O=await fetch(Q,{method:"POST",headers:N,body:JSON.stringify({sourceUrl:ve})});if(O.status===402){a(!1),g(""),e?e():c("Insufficient tokens. Please purchase more tokens to continue scanning.");return}if(!O.ok){const $=await O.json();throw new Error($.error||"Failed to fetch media from URL")}const A=await O.json(),z=async()=>{const{data:$}=await W.from("scans").select().eq("id",A.scanId).single();if(($==null?void 0:$.status)==="completed")Qu($.file_type),t($,A.tokensRemaining,A.freeScansRemaining),y(A.freeScansRemaining||0),g(""),a(!1);else{if(($==null?void 0:$.status)==="failed")throw new Error($.error_message||"Analysis failed");setTimeout(z,2e3)}};setTimeout(z,2e3)}catch(C){c(C instanceof Error?C.message:"URL scan failed"),a(!1)}}},ue=async()=>{if(!(!n||!m)){a(!0),c(null);try{const{data:C}=await W.from("token_balances").select("balance, free_scans_used").eq("user_id",m.id).maybeSingle(),H=((C==null?void 0:C.free_scans_used)||0)<3,fe=((C==null?void 0:C.balance)||0)>=100;if(!H&&!fe){a(!1),e&&e();return}const Pe=n.name.split(".").pop(),ve=`${m.id}/${Date.now()}.${Pe}`,{error:Q}=await W.storage.from("scans").upload(ve,n);if(Q)throw Q;const{data:{publicUrl:N}}=W.storage.from("scans").getPublicUrl(ve),O=n.type.startsWith("image/")?"image":"video",{data:A,error:z}=await W.from("scans").insert({user_id:m.id,file_name:n.name,file_type:O,file_url:N,file_size:n.size,status:"pending"}).select().single();if(z)throw z;const{data:{session:$}}=await W.auth.getSession();if(!$)throw new Error("No active session");const Oe="https://bhttzmtvjvvgunjeqahp.supabase.co/functions/v1/analyze-content",Ve={Authorization:`Bearer ${$.access_token}`,"Content-Type":"application/json"},nt=await fetch(Oe,{method:"POST",headers:Ve,body:JSON.stringify({scanId:A.id,fileUrl:N,fileType:O})});if(nt.status===402){const ut=await nt.json();await W.from("scans").delete().eq("id",A.id),await W.storage.from("scans").remove([ve]),a(!1),r(null),i(null),e?e():c("Insufficient tokens. Please purchase more tokens to continue scanning.");return}if(!nt.ok)throw new Error("Failed to start analysis");const qe=await nt.json(),qt=async()=>{const{data:ut}=await W.from("scans").select().eq("id",A.id).single();if((ut==null?void 0:ut.status)==="completed")Qu(O),t(ut,qe.tokensRemaining,qe.freeScansRemaining),y(qe.freeScansRemaining||0),r(null),i(null),a(!1);else{if((ut==null?void 0:ut.status)==="failed")throw new Error(ut.error_message||"Analysis failed");setTimeout(qt,2e3)}};setTimeout(qt,2e3)}catch(C){c(C instanceof Error?C.message:"Upload failed"),a(!1)}}};return u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-cyan-500/30 p-4 sm:p-6 md:p-8",children:[u.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-2 sm:mb-3",style:{textShadow:"0 0 20px rgba(34, 211, 238, 0.3)"},children:"Scan Your Media"}),u.jsx("p",{className:"text-cyan-300 font-semibold text-sm sm:text-base md:text-lg",children:"Upload or paste a link to detect AI-generated content"})]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsxs("button",{onClick:()=>{x("file"),c(null),g("")},className:`flex-1 py-3 px-4 rounded-xl font-bold transition-all ${v==="file"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/30":"bg-slate-800/50 text-cyan-300 hover:bg-slate-800"}`,children:[u.jsx(oi,{className:"w-5 h-5 inline mr-2"}),"Upload File"]}),u.jsxs("button",{onClick:()=>{x("url"),c(null),r(null),i(null)},className:`flex-1 py-3 px-4 rounded-xl font-bold transition-all ${v==="url"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/30":"bg-slate-800/50 text-cyan-300 hover:bg-slate-800"}`,children:[u.jsx(Gu,{className:"w-5 h-5 inline mr-2"}),"Paste Link"]})]}),l&&u.jsxs("div",{className:"mb-6 bg-red-500/20 border border-red-400 rounded-lg p-4 flex items-start gap-3 backdrop-blur-sm",children:[u.jsx(Vr,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),u.jsx("p",{className:"text-sm text-red-300",children:l})]}),v==="url"?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-3 border-cyan-500/30 rounded-2xl p-6 bg-slate-800/30",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Gu,{className:"w-6 h-6 text-cyan-400"}),u.jsx("p",{className:"text-cyan-300 font-semibold",children:"Paste any social media post or direct media link"})]}),u.jsx("input",{type:"url",value:k,onChange:C=>g(C.target.value),placeholder:"https://instagram.com/p/xyz... or direct image URL",disabled:o,className:"w-full bg-slate-900/50 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-cyan-400/50 focus:outline-none focus:border-cyan-400 transition-colors disabled:opacity-50"}),u.jsxs("div",{className:"mt-3 space-y-1",children:[u.jsx("p",{className:"text-xs text-cyan-400/60",children:"Works with Instagram, Twitter/X, TikTok, Facebook posts, or direct media URLs"}),u.jsx("p",{className:"text-xs text-yellow-400/70 font-medium",children:"Note: Social media platforms often block automated access. If a link fails, download the image/video and upload the file instead."})]})]}),u.jsx("button",{onClick:R,disabled:!k.trim()||o,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-black py-4 px-6 rounded-full text-lg shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:o?u.jsxs(u.Fragment,{children:[u.jsx(sn,{className:"w-5 h-5 animate-spin"}),"Analyzing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(zn,{className:"w-5 h-5"}),"Scan Link"]})})]}):n?u.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[u.jsx("div",{className:"border border-cyan-500/30 rounded-xl p-4 sm:p-6 bg-slate-800/50",children:u.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[s?u.jsx("img",{src:s,alt:"Preview",className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg flex-shrink-0 border border-cyan-500/30"}):u.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-slate-700/50 rounded-lg flex items-center justify-center flex-shrink-0 border border-cyan-500/30",children:n.type.startsWith("image/")?u.jsx(Lh,{className:"w-10 h-10 sm:w-12 sm:h-12 text-cyan-400"}):u.jsx(Dh,{className:"w-10 h-10 sm:w-12 sm:h-12 text-cyan-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-sm sm:text-base text-white truncate",children:n.name}),u.jsxs("p",{className:"text-xs sm:text-sm text-cyan-300/70",children:[(n.size/(1024*1024)).toFixed(2)," MB"]}),o&&u.jsxs("div",{className:"mt-2 sm:mt-3 flex items-center gap-2 text-cyan-400",children:[u.jsx(sn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Analyzing..."})]})]})]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:ue,disabled:o,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-black py-3 sm:py-4 px-6 rounded-full text-base sm:text-lg shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?u.jsxs(u.Fragment,{children:[u.jsx(sn,{className:"w-5 h-5 animate-spin"}),"Analyzing..."]}):u.jsxs(u.Fragment,{children:[u.jsx(zn,{className:"w-5 h-5"}),"Start Scan"]})}),!o&&u.jsx("button",{onClick:()=>{r(null),i(null),c(null)},className:"px-6 py-3 sm:py-4 border-2 border-cyan-500/30 hover:bg-cyan-500/20 text-cyan-300 font-bold rounded-full transition-colors",children:"Cancel"})]})]}):u.jsxs("div",{onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:b,onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:`border-3 sm:border-4 border-dashed rounded-2xl sm:rounded-3xl p-8 sm:p-10 md:p-12 text-center cursor-pointer transition-all ${d?"border-cyan-500 bg-cyan-500/20":"border-cyan-500/30 hover:border-cyan-400 hover:bg-cyan-500/10"}`,children:[u.jsx(oi,{className:"w-14 h-14 sm:w-16 md:w-20 sm:h-16 md:h-20 text-cyan-400 mx-auto mb-3 sm:mb-4"}),u.jsx("p",{className:"text-lg sm:text-xl font-black text-white mb-2",children:"Drop your file here"}),u.jsx("p",{className:"text-sm sm:text-base font-semibold text-cyan-300 mb-3 sm:mb-4",children:"Images (JPEG, PNG, WebP)  Videos (MP4, WebM)"}),u.jsx("p",{className:"text-xs sm:text-sm text-cyan-400/70 font-medium",children:"Max 50MB"}),u.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/png,image/webp,video/mp4,video/webm",onChange:P,className:"hidden"})]})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-cyan-500/30 rounded-3xl p-6 text-center shadow-xl shadow-cyan-500/10",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg shadow-cyan-500/50",children:u.jsx(fa,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"font-black text-cyan-300 mb-1 text-lg",children:"Advanced AI"}),u.jsx("p",{className:"text-sm text-cyan-400/70 font-semibold",children:"Multiple detection algorithms"})]}),u.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-cyan-500/30 rounded-3xl p-6 text-center shadow-xl shadow-cyan-500/10",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg shadow-blue-500/50",children:u.jsx(zn,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"font-black text-cyan-300 mb-1 text-lg",children:"Instant Results"}),u.jsx("p",{className:"text-sm text-cyan-400/70 font-semibold",children:"Get confident scores fast"})]}),u.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-cyan-500/30 rounded-3xl p-6 text-center shadow-xl shadow-cyan-500/10",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg shadow-purple-500/50",children:u.jsx(fa,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"font-black text-cyan-300 mb-1 text-lg",children:"Full History"}),u.jsx("p",{className:"text-sm text-cyan-400/70 font-semibold",children:"Review all past scans"})]})]})]})}function Xg({onViewScan:t}){const[e,n]=E.useState([]),[r,s]=E.useState(!0),[i,o]=E.useState(null),[a,l]=E.useState(null);E.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:f,error:y}=await W.from("scans").select("*").order("created_at",{ascending:!1});if(y)throw y;n(f||[])}catch(f){o(f instanceof Error?f.message:"Failed to load scans")}finally{s(!1)}},d=async(f,y)=>{if(confirm("Are you sure you want to delete this scan?")){l(f);try{const v=y.split("/").slice(-2).join("/");await W.storage.from("scans").remove([v]);const{error:x}=await W.from("scans").delete().eq("id",f);if(x)throw x;n(e.filter(k=>k.id!==f))}catch(v){alert(v instanceof Error?v.message:"Failed to delete scan")}finally{l(null)}}},h=f=>f>=75?"text-red-600 bg-red-100":f>=50?"text-orange-600 bg-orange-100":f>=25?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100";return r?u.jsx("div",{className:"flex items-center justify-center py-16",children:u.jsx(sn,{className:"w-8 h-8 text-cyan-400 animate-spin"})}):i?u.jsxs("div",{className:"bg-red-500/20 border border-red-400 rounded-xl p-6 flex items-start gap-3 backdrop-blur-sm",children:[u.jsx(Vr,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-red-300",children:"Error loading scans"}),u.jsx("p",{className:"text-sm text-red-400 mt-1",children:i})]})]}):e.length===0?u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-cyan-500/30 rounded-2xl shadow-xl p-12 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-cyan-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Lh,{className:"w-10 h-10 text-cyan-400"})}),u.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-2",children:"No scans yet"}),u.jsx("p",{className:"text-cyan-400/70",children:"Upload your first image or video to detect AI-generated content"})]}):u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-2",style:{textShadow:"0 0 20px rgba(34, 211, 238, 0.3)"},children:"Your Scans"}),u.jsx("p",{className:"text-cyan-300 font-semibold",children:"View and manage all your scans"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(f=>u.jsx("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-cyan-500/30 rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl hover:shadow-cyan-500/20 transition-all hover:scale-[1.02]",children:u.jsx("div",{className:"p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[f.file_type==="image"?u.jsx("img",{src:f.file_url,alt:f.file_name,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg flex-shrink-0 border border-cyan-500/30"}):u.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-slate-800/50 rounded-lg flex items-center justify-center flex-shrink-0 border border-cyan-500/30",children:u.jsx(Dh,{className:"w-10 h-10 sm:w-12 sm:h-12 text-cyan-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4 mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold text-sm sm:text-base text-white truncate mb-1",children:f.file_name}),u.jsx("p",{className:"text-xs sm:text-sm text-cyan-400/70",children:new Date(f.created_at).toLocaleDateString()})]}),f.status==="completed"&&f.confidence_score!==null&&u.jsxs("div",{className:`px-2 sm:px-3 py-1 rounded-full font-semibold text-xs sm:text-sm flex-shrink-0 ${h(f.confidence_score)}`,children:[f.confidence_score.toFixed(0),"%"]})]}),f.status==="completed"&&u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("div",{className:`h-2 w-2 rounded-full ${f.is_ai_generated?"bg-red-500":"bg-green-500"}`}),u.jsx("span",{className:"text-sm text-cyan-300 font-medium",children:f.is_ai_generated?"Likely AI-Generated":"Likely Authentic"})]}),f.status==="processing"&&u.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-3",children:[u.jsx(sn,{className:"w-4 h-4 animate-spin"}),u.jsx("span",{className:"text-sm font-medium",children:"Analyzing..."})]}),f.status==="failed"&&u.jsxs("div",{className:"flex items-center gap-2 text-red-400 mb-3",children:[u.jsx(Vr,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Analysis failed"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("button",{onClick:()=>t(f),disabled:f.status!=="completed",className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white rounded-full font-bold text-sm sm:text-base transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-cyan-500/50",children:[u.jsx(Ug,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"View"]}),u.jsxs("button",{onClick:()=>d(f.id,f.file_url),disabled:a===f.id,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-5 py-2 sm:py-2.5 border-2 border-red-500/30 hover:bg-red-500/20 text-red-400 rounded-full font-bold text-sm sm:text-base transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[a===f.id?u.jsx(sn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}):u.jsx(Vg,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Delete"]})]})]})]})})},f.id))})]})}function Zg({scan:t,onBack:e}){const n=a=>a>=75?"text-red-600":a>=50?"text-orange-600":a>=25?"text-yellow-600":"text-green-600",r=a=>a>=75?"bg-red-100":a>=50?"bg-orange-100":a>=25?"bg-yellow-100":"bg-green-100",s=a=>a>=75?"Very Likely AI-Generated":a>=50?"Possibly AI-Generated":a>=25?"Unlikely AI-Generated":"Likely Authentic",i=a=>{switch(a){case"high":return u.jsx(Mh,{className:"w-5 h-5 text-red-600"});case"medium":return u.jsx(Bu,{className:"w-5 h-5 text-orange-600"});case"low":return u.jsx(lo,{className:"w-5 h-5 text-blue-600"});default:return u.jsx(lo,{className:"w-5 h-5 text-gray-600"})}},o=t.confidence_score||0;return u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("button",{onClick:e,className:"mb-6 flex items-center gap-2 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-300 font-bold px-4 py-2 rounded-full backdrop-blur-sm border border-cyan-500/30 transition-all",children:[u.jsx(Rg,{className:"w-5 h-5"}),"Back"]}),u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-cyan-500/30 rounded-3xl shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-6 sm:mb-8",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-2",style:{textShadow:"0 0 20px rgba(34, 211, 238, 0.3)"},children:"Scan Results"}),u.jsx("p",{className:"text-sm sm:text-base text-cyan-300 break-all",children:t.file_name}),u.jsx("p",{className:"text-xs sm:text-sm text-cyan-400/70 mt-1",children:new Date(t.created_at).toLocaleString()})]}),t.file_type==="image"&&u.jsx("img",{src:t.file_url,alt:t.file_name,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg border border-cyan-500/30 flex-shrink-0"})]}),u.jsxs("div",{className:"mb-6 sm:mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-cyan-300",children:"Confidence Score"}),u.jsxs("span",{className:`text-2xl sm:text-3xl font-bold ${n(o)}`,children:[o.toFixed(1),"%"]})]}),u.jsx("div",{className:"relative h-4 bg-slate-800/50 rounded-full overflow-hidden mb-3",children:u.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-500 ${o>=75?"bg-red-500":o>=50?"bg-orange-500":o>=25?"bg-yellow-500":"bg-green-500"}`,style:{width:`${o}%`}})}),u.jsxs("div",{className:`${r(o)} bg-opacity-20 backdrop-blur-sm rounded-lg p-4 flex items-center gap-3 border ${o>=75?"border-red-500/30":o>=50?"border-orange-500/30":o>=25?"border-yellow-500/30":"border-green-500/30"}`,children:[t.is_ai_generated?u.jsx(Bu,{className:`w-6 h-6 ${n(o)}`}):u.jsx(zn,{className:"w-6 h-6 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:`font-semibold ${n(o)}`,children:s(o)}),u.jsx("p",{className:"text-sm text-cyan-400/70 mt-1",children:t.is_ai_generated?"This content shows indicators of being AI-generated":"This content appears to be authentic"})]})]})]}),t.artifacts&&t.artifacts.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-lg font-semibold text-cyan-300 mb-4",children:"Detected Indicators"}),u.jsx("div",{className:"space-y-3",children:t.artifacts.map((a,l)=>u.jsxs("div",{className:"border border-cyan-500/30 bg-slate-800/50 rounded-lg p-4 flex items-start gap-3 hover:bg-slate-800/70 transition-colors",children:[i(a.severity),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("p",{className:"font-medium text-white capitalize",children:a.type.replace(/_/g," ")}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a.severity==="high"?"bg-red-500/20 text-red-400 border border-red-500/30":a.severity==="medium"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:a.severity})]}),u.jsx("p",{className:"text-sm text-cyan-400/70",children:a.description})]})]},l))})]}),u.jsxs("div",{className:"border-t border-cyan-500/30 pt-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-cyan-300 mb-4",children:"File Information"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-cyan-400/70 mb-1",children:"File Name"}),u.jsx("p",{className:"font-medium text-white break-all",children:t.file_name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-cyan-400/70 mb-1",children:"File Type"}),u.jsx("p",{className:"font-medium text-white uppercase",children:t.file_type})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-cyan-400/70 mb-1",children:"File Size"}),u.jsxs("p",{className:"font-medium text-white",children:[(t.file_size/(1024*1024)).toFixed(2)," MB"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-cyan-400/70 mb-1",children:"Analysis Status"}),u.jsx("p",{className:"font-medium text-white capitalize",children:t.status})]})]})]})]}),u.jsx("div",{className:"bg-slate-800/50 px-8 py-6 border-t border-cyan-500/30",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(lo,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-sm text-cyan-400/70",children:[u.jsx("p",{className:"font-medium mb-1 text-cyan-300",children:"About This Analysis"}),u.jsx("p",{children:"This analysis uses advanced AI detection algorithms to identify patterns and artifacts. Results should be used as a reference and combined with other verification methods for critical decisions."})]})]})})]})]})}const Yu=[{id:"small",tokens:500,price:.99,icon:pl},{id:"medium",tokens:3e3,price:4.99,popular:!0,icon:qg,savings:"Save 17%"},{id:"large",tokens:7e3,price:10,icon:Lg,savings:"Save 29%"}];function ey({isOpen:t,onClose:e,currentBalance:n=0,reason:r="voluntary",onPlayGame:s}){const[i,o]=E.useState(null);if(!t)return null;const a=async l=>{o(l);try{const{data:{session:c}}=await W.auth.getSession();if(!c){alert("Please log in to purchase tokens"),o(null);return}const d=Yu.find(y=>y.id===l);d&&es("begin_checkout",{currency:"USD",value:d.price,items:[{item_id:l,item_name:`${d.tokens} Tokens`,price:d.price,quantity:1}]});const{data:h,error:f}=await W.functions.invoke("create-checkout",{body:{packageType:l}});if(f)throw console.error("Checkout error:",f),f;h!=null&&h.url&&(window.location.href=h.url)}catch(c){console.error("Error creating checkout:",c);const d=(c==null?void 0:c.message)||"Failed to create checkout session";alert(d+". Please try logging out and back in."),o(null)}};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-50 p-3 sm:p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-purple-900 rounded-2xl sm:rounded-3xl shadow-2xl border-2 border-cyan-500/30 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-md border-b border-cyan-500/30 px-4 sm:px-6 py-3 sm:py-4 flex justify-between items-center gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent flex items-center gap-1.5 sm:gap-2",style:{textShadow:"0 0 20px rgba(34, 211, 238, 0.3)"},children:[u.jsx(Uh,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-cyan-400 drop-shadow-lg flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Power Up!"})]}),r==="insufficient"&&u.jsx("p",{className:"text-xs sm:text-sm font-bold text-cyan-300 mt-0.5 sm:mt-1 drop-shadow-md",children:"Out of tokens! Grab more to keep scanning"})]}),u.jsx("button",{onClick:e,className:"p-1.5 sm:p-2 hover:bg-cyan-500/20 rounded-full transition-all text-cyan-300 flex-shrink-0",children:u.jsx(ml,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),u.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s&&u.jsx("div",{className:"mb-4 sm:mb-6 p-4 sm:p-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl sm:rounded-3xl shadow-xl border-2 sm:border-4 border-cyan-500/30",children:u.jsxs("div",{className:"text-center",children:[u.jsx($h,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white mx-auto mb-2 sm:mb-3 drop-shadow-lg"}),u.jsx("h3",{className:"text-lg sm:text-xl font-black text-white mb-1.5 sm:mb-2 px-2",style:{textShadow:"0 0 10px rgba(34, 211, 238, 0.5)"},children:"Play to Earn Free Scans!"}),u.jsx("p",{className:"text-cyan-100 font-bold text-xs sm:text-sm mb-3 sm:mb-4 drop-shadow-md px-2",children:"Guess if content is AI-generated and earn points to unlock free scans"}),u.jsx("button",{onClick:()=>{s(),e()},className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-3.5 bg-cyan-400 text-slate-900 font-black text-base sm:text-lg rounded-full shadow-lg shadow-cyan-500/50 hover:shadow-xl transform hover:scale-105 transition-all",children:"PLAY GAME NOW"})]})}),u.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[u.jsxs("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-slate-800/80 backdrop-blur rounded-full mb-3 sm:mb-4 shadow-lg border border-cyan-500/30",children:[u.jsx(pl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"}),u.jsxs("span",{className:"text-xs sm:text-sm font-black text-cyan-300",children:["Balance: ",n," tokens"]})]}),u.jsx("p",{className:"text-cyan-300 font-bold text-sm sm:text-base md:text-lg drop-shadow-md px-4",children:s?"Or buy tokens to scan instantly:":"Each scan = 100 tokens. Choose your power pack:"})]}),u.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 md:gap-6",children:Yu.map(l=>{const c=l.icon;return u.jsxs("div",{className:`relative rounded-2xl sm:rounded-3xl p-4 sm:p-6 transition-all transform hover:scale-105 ${l.popular?"bg-slate-800/80 shadow-2xl border-2 sm:border-4 border-cyan-500":"bg-slate-800/60 backdrop-blur border border-cyan-500/30 shadow-xl"}`,children:[l.popular&&u.jsx("div",{className:"absolute -top-3 sm:-top-4 left-1/2 -translate-x-1/2",children:u.jsx("span",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-xs font-black px-3 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg shadow-cyan-500/50 whitespace-nowrap",children:"BEST DEAL"})}),u.jsxs("div",{className:"text-center mb-4 sm:mb-6 mt-1 sm:mt-2",children:[u.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-3 sm:mb-4 rounded-full flex items-center justify-center shadow-xl ${l.popular?"bg-gradient-to-br from-cyan-500 to-blue-600 shadow-cyan-500/50":"bg-gradient-to-br from-blue-500 to-purple-600 shadow-blue-500/50"}`,children:u.jsx(c,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white drop-shadow-lg"})}),u.jsx("div",{className:"text-3xl sm:text-4xl font-black text-cyan-300 mb-1",style:{textShadow:"0 0 10px rgba(34, 211, 238, 0.3)"},children:l.tokens.toLocaleString()}),u.jsx("div",{className:"text-xs sm:text-sm font-bold text-cyan-400/70 mb-2 sm:mb-3",children:"TOKENS"}),l.savings&&u.jsx("div",{className:"inline-block px-2.5 sm:px-3 py-0.5 sm:py-1 bg-emerald-500 text-white text-xs font-black rounded-full shadow-md shadow-emerald-500/50",children:l.savings})]}),u.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[u.jsxs("div",{className:"text-4xl sm:text-5xl font-black text-white mb-1",children:["$",l.price.toFixed(2)]}),u.jsxs("div",{className:"text-xs font-semibold text-cyan-400/70",children:["$",(l.price/l.tokens).toFixed(4)," per token"]})]}),u.jsx("button",{onClick:()=>a(l.id),disabled:i!==null,className:`w-full py-3 sm:py-3.5 rounded-full font-black text-base sm:text-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105 ${l.popular?"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white shadow-cyan-500/50":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white shadow-blue-500/50"}`,children:i===l.id?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-sm sm:text-base",children:"Processing..."})]}):"GET IT NOW"})]},l.id)})}),u.jsxs("div",{className:"mt-6 sm:mt-8 p-4 sm:p-5 bg-slate-800/60 backdrop-blur-xl border border-cyan-500/30 rounded-2xl sm:rounded-3xl shadow-lg",children:[u.jsx("h3",{className:"font-black text-cyan-300 mb-2 sm:mb-3 text-base sm:text-lg",children:"Why Tokens?"}),u.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm font-semibold text-cyan-400/70",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full flex-shrink-0"}),u.jsx("span",{children:"Each content scan uses 100 tokens"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full flex-shrink-0"}),u.jsx("span",{children:"Tokens never expire"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full flex-shrink-0"}),u.jsx("span",{children:"Secure payment via Stripe"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full flex-shrink-0"}),u.jsx("span",{children:"Works everywhere, anytime"})]})]})]})]})]})})}function ty({isOpen:t,onClose:e,onPointsUpdate:n}){const{user:r}=er(),[s,i]=E.useState("intro"),[o,a]=E.useState(3),[l,c]=E.useState(null),[d,h]=E.useState(10),[f,y]=E.useState(null),[v,x]=E.useState(!1),[k,g]=E.useState(0),[p,m]=E.useState(!1),[w,S]=E.useState([]),[b,j]=E.useState(!0),[P,B]=E.useState(!0);E.useEffect(()=>{t&&r&&(i("intro"),B(!0),R(),ue())},[t,r]),E.useEffect(()=>{if(s==="countdown"&&o>0){const Q=setTimeout(()=>a(o-1),1e3);return()=>clearTimeout(Q)}else s==="countdown"&&o===0&&H()},[s,o]),E.useEffect(()=>{if(s==="playing"&&d>0){const Q=setTimeout(()=>h(d-1),1e3);return()=>clearTimeout(Q)}else s==="playing"&&d===0&&i("guessing")},[s,d]);const R=async()=>{if(!r)return;const{data:Q}=await W.from("token_balances").select("game_points").eq("user_id",r.id).maybeSingle();g(Q&&Q.game_points||0),B(!1)},ue=async()=>{j(!0);try{const N=await fetch("https://bhttzmtvjvvgunjeqahp.supabase.co/functions/v1/fetch-game-media",{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJodHR6bXR2anZ2Z3VuamVxYWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MDUyNzAsImV4cCI6MjA4MTA4MTI3MH0.Y3vs4ZAmvA-BzgI-tvLbKP5eS1-LlX3TuI-5fnS5ljo","Content-Type":"application/json"}});if(!N.ok){const A=await N.json();A.code==="MISSING_API_KEY"?console.error("Pexels API key not configured"):console.error("Error fetching game media:",A),j(!1);return}const O=await N.json();O.media&&O.media.length>0&&(S(O.media),console.log(`Loaded ${O.media.length} media items from Pexels`))}catch(Q){console.error("Error fetching game media:",Q)}j(!1)},C=()=>{if(w.length===0){console.error("Cannot start game: no media available");return}i("countdown"),a(3),m(!1)},H=()=>{if(w.length===0)return;Jg();const Q=w[Math.floor(Math.random()*w.length)];c(Q),h(10),i("playing")},fe=async Q=>{if(!l||!r)return;y(Q);const N=Q===l.isAI;if(x(N),N){const O=k+1,A=O%10,z=O>=10&&k<10,{data:$}=await W.from("token_balances").select("free_scans_used").eq("user_id",r.id).maybeSingle();if(z&&$){const Oe=$.free_scans_used-1;await W.from("token_balances").update({game_points:A,free_scans_used:Oe,updated_at:new Date().toISOString()}).eq("user_id",r.id),m(!0),g(A),n(A,3-Oe)}else await W.from("token_balances").update({game_points:O,updated_at:new Date().toISOString()}).eq("user_id",r.id),g(O),n(O,0)}i("result")},Pe=()=>{y(null),c(null),C()},ve=()=>{i("intro"),y(null),c(null),a(3),h(10),m(!1),e()};return t?u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-purple-900 border-2 border-cyan-500/30 rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-md border-b border-cyan-500/30 px-6 py-4 flex items-center justify-between rounded-t-3xl",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center shadow-lg shadow-cyan-500/50",children:u.jsx(Uh,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Cap or No Cap?"}),u.jsxs("p",{className:"text-sm text-cyan-300 font-semibold",children:[k," points  ",k%10===0?10:10-k%10," more for free scan"]})]})]}),u.jsx("button",{onClick:ve,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-cyan-500/20 transition-colors",children:u.jsx(ml,{className:"w-5 h-5 text-cyan-300"})})]}),u.jsxs("div",{className:"p-6 sm:p-8",children:[s==="intro"&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-cyan-500/50",children:u.jsx(Bg,{className:"w-12 h-12 text-white ml-1"})}),u.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Cap or No Cap?"}),u.jsx("p",{className:"text-lg text-cyan-300 font-semibold mb-8 max-w-md mx-auto",children:"View an image or video for 10 seconds, then guess if it's AI-generated (Cap) or real (No Cap). Earn points for correct guesses!"}),u.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border-2 border-yellow-500/30 rounded-2xl p-6 mb-8 max-w-md mx-auto backdrop-blur-sm",children:[u.jsx(Ju,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),u.jsx("p",{className:"text-yellow-300 font-black text-lg",children:"10 points = 1 free scan!"})]}),u.jsx("button",{onClick:C,disabled:b||w.length===0,className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-black py-4 px-12 rounded-full text-xl shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:b?"Loading...":w.length===0?"No Media Available":"Start Game"})]}),s==="countdown"&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 animate-pulse",children:o}),u.jsx("p",{className:"text-xl text-cyan-300 font-bold mt-6",children:"Get ready..."})]}),s==="playing"&&l&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl p-4 text-center shadow-lg shadow-cyan-500/50",children:u.jsxs("p",{className:"text-white font-black text-2xl",children:[d,"s remaining"]})}),u.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-gray-100 aspect-video flex items-center justify-center",children:l.type==="image"?u.jsx("img",{src:l.url,alt:"Guess this",className:"w-full h-full object-cover"}):u.jsx("video",{src:l.url,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover"})}),u.jsx("p",{className:"text-center text-gray-600 font-bold",children:"Study it carefully..."})]}),s==="guessing"&&l&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-gray-100 aspect-video flex items-center justify-center opacity-50",children:l.type==="image"?u.jsx("img",{src:l.url,alt:"Guess this",className:"w-full h-full object-cover blur-sm"}):u.jsx("video",{src:l.url,muted:!0,className:"w-full h-full object-cover blur-sm"})}),u.jsx("h3",{className:"text-2xl font-black text-gray-900 text-center mb-6",children:"What's your guess?"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>fe(!0),className:"bg-gradient-to-br from-red-400 to-red-600 hover:from-red-500 hover:to-red-700 text-white font-black py-6 px-8 rounded-2xl text-xl shadow-lg transition-all transform hover:scale-105",children:["Cap",u.jsx("div",{className:"text-sm font-semibold mt-1",children:"It's AI"})]}),u.jsxs("button",{onClick:()=>fe(!1),className:"bg-gradient-to-br from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white font-black py-6 px-8 rounded-2xl text-xl shadow-lg transition-all transform hover:scale-105",children:["No Cap",u.jsx("div",{className:"text-sm font-semibold mt-1",children:"It's Real"})]})]})]}),s==="result"&&l&&u.jsxs("div",{className:"text-center py-8",children:[v?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-cyan-500/50",children:u.jsx(zn,{className:"w-16 h-16 text-white"})}),u.jsx("h3",{className:"text-4xl font-black text-cyan-400 mb-4",children:"Correct!"}),u.jsx("p",{className:"text-xl text-cyan-300 font-bold mb-6",children:l.isAI?"It was AI-generated":"It was real"}),p?u.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border-4 border-yellow-500/30 rounded-2xl p-6 mb-8 max-w-md mx-auto animate-pulse backdrop-blur-sm",children:[u.jsx(Ju,{className:"w-12 h-12 text-yellow-400 mx-auto mb-3"}),u.jsx("p",{className:"text-yellow-300 font-black text-2xl mb-2",children:"Free Scan Earned!"}),u.jsx("p",{className:"text-yellow-400/90 font-semibold",children:"You hit 10 points and earned a free scan!"})]}):u.jsxs("div",{className:"bg-emerald-500/20 border-2 border-emerald-500/30 rounded-2xl p-6 mb-8 max-w-md mx-auto backdrop-blur-sm",children:[u.jsx("p",{className:"text-emerald-300 font-black text-xl mb-2",children:"+1 Point"}),u.jsxs("p",{className:"text-emerald-400 font-semibold",children:[10-k%10," more points until free scan"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-red-500/50",children:u.jsx(Mh,{className:"w-16 h-16 text-white"})}),u.jsx("h3",{className:"text-4xl font-black text-red-400 mb-4",children:"Wrong!"}),u.jsx("p",{className:"text-xl text-cyan-300 font-bold mb-8",children:l.isAI?"It was AI-generated":"It was real"}),u.jsx("div",{className:"bg-red-500/20 border-2 border-red-500/30 rounded-2xl p-6 mb-8 max-w-md mx-auto backdrop-blur-sm",children:u.jsx("p",{className:"text-red-300 font-bold",children:"No points this time. Try again!"})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx("button",{onClick:Pe,className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-black py-4 px-8 rounded-full text-lg shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105",children:"Play Again"}),u.jsx("button",{onClick:ve,className:"bg-slate-800/80 hover:bg-slate-700/80 text-cyan-300 border-2 border-cyan-500/30 font-bold py-4 px-8 rounded-full text-lg transition-all",children:"Close"})]})]})]})]})}):null}const ny=[{value:"review",label:"Review",icon:u.jsx(Hg,{className:"w-5 h-5"}),description:"Share your experience"},{value:"bug",label:"Bug Report",icon:u.jsx($g,{className:"w-5 h-5"}),description:"Report an issue"},{value:"feature_request",label:"Feature Request",icon:u.jsx(Mg,{className:"w-5 h-5"}),description:"Suggest an improvement"},{value:"other",label:"Other",icon:u.jsx(Fg,{className:"w-5 h-5"}),description:"General feedback"}];function ry({onClose:t}){const{user:e}=er(),[n,r]=E.useState("review"),[s,i]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState((e==null?void 0:e.email)||""),[d,h]=E.useState(!1),[f,y]=E.useState(!1),[v,x]=E.useState(""),k=async g=>{if(g.preventDefault(),!e){x("You must be logged in to submit feedback");return}if(!s.trim()||!o.trim()||!l.trim()){x("Please fill in all fields");return}h(!0),x("");try{const{error:p}=await W.from("support_feedback").insert({user_id:e.id,email:l.trim(),feedback_type:n,subject:s.trim(),message:o.trim()});if(p)throw p;y(!0),setTimeout(()=>{t()},2e3)}catch(p){console.error("Error submitting feedback:",p),x("Failed to submit feedback. Please try again.")}finally{h(!1)}};return f?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 text-center",children:[u.jsx("div",{className:"mb-3 flex justify-center",children:u.jsx("div",{className:"bg-green-100 rounded-full p-2.5",children:u.jsx(zn,{className:"w-10 h-10 text-green-600"})})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Thank You!"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Your feedback has been submitted successfully. We appreciate you taking the time to help us improve."})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center z-50 overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-xl shadow-2xl w-full sm:max-w-lg sm:my-8 max-h-[85vh] sm:max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"p-4 sm:p-5 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Support & Feedback"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5",children:"We'd love to hear from you"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(ml,{className:"w-5 h-5 text-gray-500"})})]}),u.jsxs("form",{onSubmit:k,className:"p-4 sm:p-5 space-y-4 overflow-y-auto flex-1",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"What would you like to share?"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:ny.map(g=>u.jsx("button",{type:"button",onClick:()=>r(g.value),className:`p-3 rounded-lg border-2 transition-all text-left ${n===g.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("div",{className:`flex-shrink-0 ${n===g.value?"text-blue-600":"text-gray-400"}`,children:g.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`text-sm font-semibold ${n===g.value?"text-blue-900":"text-gray-900"}`,children:g.label}),u.jsx("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:g.description})]})]})},g.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1.5",children:"Email (for follow-up)"}),u.jsx("input",{type:"email",id:"email",value:l,onChange:g=>c(g.target.value),placeholder:"your@email.com",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject",className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1.5",children:"Subject"}),u.jsx("input",{type:"text",id:"subject",value:s,onChange:g=>i(g.target.value),placeholder:"Brief summary of your feedback",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"message",className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1.5",children:"Message"}),u.jsx("textarea",{id:"message",value:o,onChange:g=>a(g.target.value),placeholder:"Tell us more about your feedback...",rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",required:!0})]}),v&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:u.jsx("p",{className:"text-xs sm:text-sm text-red-600",children:v})}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?u.jsx(u.Fragment,{children:"Submitting..."}):u.jsxs(u.Fragment,{children:[u.jsx(Wg,{className:"w-4 h-4"}),"Submit"]})})]})]})]})})}function sy(){const{user:t,signOut:e}=er(),[n,r]=E.useState("upload"),[s,i]=E.useState(null),[o,a]=E.useState(0),[l,c]=E.useState(3),[d,h]=E.useState(!1),[f,y]=E.useState("voluntary"),[v,x]=E.useState(!1),[k,g]=E.useState(!1),[p,m]=E.useState(!1),w=async()=>{console.log("Logout button clicked"),await e()};E.useEffect(()=>{S()},[t]);const S=async()=>{if(!t)return;const{data:C,error:H}=await W.from("token_balances").select("balance, free_scans_used").eq("user_id",t.id).maybeSingle();!H&&C&&(a(C.balance),c(3-(C.free_scans_used||0)))},b=(C,H,fe)=>{i(C),r("results"),H!==void 0&&a(H),fe!==void 0&&c(fe)},j=()=>{y("insufficient"),h(!0)},P=C=>{i(C),r("results")},B=()=>{y("voluntary"),h(!0)},R=(C,H)=>{H>0&&c(H)},ue=()=>{x(!0)};return u.jsxs("div",{className:"min-h-screen galaxy-content",children:[u.jsx("nav",{className:"bg-slate-900/40 backdrop-blur-md border-b border-cyan-500/30 pt-safe-top shadow-lg shadow-cyan-500/10",style:{paddingTop:"max(env(safe-area-inset-top), 8px)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h1",{onClick:()=>r("upload"),className:"text-2xl font-black bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-500 bg-clip-text text-transparent cursor-pointer hover:opacity-80 transition-opacity",style:{textShadow:"0 0 20px rgba(34, 211, 238, 0.3)"},children:"NoCap"}),u.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white rounded-full font-black text-sm shadow-lg shadow-cyan-500/50 transition-all transform hover:scale-105 flex items-center gap-2",children:[u.jsx($h,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Play"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsxs("button",{onClick:B,className:"px-3 sm:px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-300 rounded-full font-bold transition-all flex items-center gap-2 backdrop-blur-sm border border-yellow-500/30 shadow-lg shadow-yellow-500/20",children:[u.jsx(pl,{className:"w-4 h-4"}),u.jsx("span",{children:o})]}),u.jsxs("button",{onClick:()=>g(!k),className:`flex items-center justify-center bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white rounded-full font-black text-sm shadow-lg shadow-emerald-500/50 transition-all duration-300 sm:w-auto sm:h-auto sm:px-4 sm:py-2 ${k?"w-auto px-3 h-10":"w-10 h-10"}`,children:[u.jsx("span",{className:`sm:hidden transition-all duration-300 ${k?"whitespace-nowrap":""}`,children:k?`${l} free ${l===1?"scan":"scans"}`:l}),u.jsxs("span",{className:"hidden sm:inline whitespace-nowrap",children:[l," free ",l===1?"scan":"scans"]})]}),u.jsxs("div",{className:"hidden sm:flex gap-2",children:[u.jsxs("button",{onClick:()=>r("upload"),className:`px-5 py-2 rounded-full font-bold transition-all flex items-center gap-2 ${n==="upload"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/50":"text-cyan-300 hover:bg-cyan-500/20 border border-cyan-500/30"}`,children:[u.jsx(oi,{className:"w-4 h-4"}),"Scan"]}),u.jsxs("button",{onClick:()=>r("history"),className:`px-5 py-2 rounded-full font-bold transition-all flex items-center gap-2 ${n==="history"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/50":"text-cyan-300 hover:bg-cyan-500/20 border border-cyan-500/30"}`,children:[u.jsx(Ku,{className:"w-4 h-4"}),"History"]})]}),u.jsx("button",{onClick:()=>m(!0),className:"px-3 py-2 bg-cyan-500/20 hover:bg-cyan-500/30 active:bg-cyan-500/40 text-cyan-300 rounded-full font-bold transition-all backdrop-blur-sm border border-cyan-500/30 shadow-lg shadow-cyan-500/20 min-h-[44px] min-w-[44px] flex items-center justify-center touch-manipulation","aria-label":"Support & Help",children:u.jsx(qu,{className:"w-5 h-5"})}),u.jsxs("button",{onClick:w,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 active:bg-red-500/40 text-red-300 rounded-full font-bold transition-all flex items-center gap-2 backdrop-blur-sm border border-red-500/30 shadow-lg shadow-red-500/20 min-h-[44px] min-w-[44px] justify-center relative z-50 touch-manipulation",children:[u.jsx(zg,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Exit"})]})]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 md:py-8 pb-20 sm:pb-8",children:[n==="upload"&&u.jsx(Yg,{onScanComplete:b,onInsufficientTokens:j}),n==="history"&&u.jsx(Xg,{onViewScan:P}),n==="results"&&s&&u.jsx(Zg,{scan:s,onBack:()=>r("history")})]}),u.jsx(ey,{isOpen:d,onClose:()=>h(!1),currentBalance:o,reason:f,onPlayGame:ue}),u.jsx(ty,{isOpen:v,onClose:()=>x(!1),onPointsUpdate:R},v?"open":"closed"),p&&u.jsx(ry,{onClose:()=>m(!1)}),u.jsx("div",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-slate-900/90 backdrop-blur-md shadow-2xl border-t border-cyan-500/30",children:u.jsxs("div",{className:"flex justify-around py-3",children:[u.jsxs("button",{onClick:()=>r("upload"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl ${n==="upload"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/50":"text-cyan-300 hover:text-cyan-400"}`,children:[u.jsx(oi,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs font-bold",children:"Scan"})]}),u.jsxs("button",{onClick:()=>r("history"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl ${n==="history"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/50":"text-cyan-300 hover:text-cyan-400"}`,children:[u.jsx(Ku,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs font-bold",children:"History"})]}),u.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 px-4 py-2 rounded-xl text-cyan-300 hover:text-cyan-400",children:[u.jsx(qu,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs font-bold",children:"Help"})]})]})})]})}function iy({onAccept:t}){const[e,n]=E.useState(!1),[r,s]=E.useState(!1),[i,o]=E.useState(!1),[a,l]=E.useState(!1),c=e&&r,d=()=>{c&&(localStorage.setItem("legal-agreement-accepted","true"),t())};return u.jsx("div",{className:"min-h-screen galaxy-bg galaxy-content flex flex-col items-center justify-center p-4 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-2xl my-8",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-black mb-4 inline-flex",style:{letterSpacing:"-0.05em",transform:"rotate(-2deg)"},children:"NoCap".split("").map((h,f)=>u.jsx("span",{className:"inline-block bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-500 bg-clip-text text-transparent wave-letter",style:{textShadow:"0 0 40px rgba(34, 211, 238, 0.5)",animationDelay:`${f*.1}s`},children:h},f))}),u.jsx("p",{className:"text-cyan-300 text-lg font-bold px-4 drop-shadow-lg",children:"Welcome! Please review and accept our policies"})]}),u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-cyan-500/30 p-6 space-y-4",children:[u.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent text-center mb-4",children:"Before You Get Started"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-slate-800/50 rounded-2xl border border-cyan-500/20 overflow-hidden",children:[u.jsxs("button",{onClick:()=>o(!i),className:"w-full px-5 py-4 flex items-center justify-between text-left hover:bg-slate-700/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Dg,{className:"w-6 h-6 text-cyan-400"}),u.jsx("span",{className:"font-bold text-white text-lg",children:"Terms of Service"})]}),i?u.jsx(Vu,{className:"w-5 h-5 text-cyan-400"}):u.jsx(Hu,{className:"w-5 h-5 text-cyan-400"})]}),i&&u.jsx("div",{className:"px-5 pb-4 max-h-96 overflow-y-auto",children:u.jsxs("div",{className:"text-sm text-gray-300 space-y-4 leading-relaxed",children:[u.jsx("h3",{className:"text-cyan-400 font-bold text-base mt-2",children:"1. Acceptance of Terms"}),u.jsx("p",{children:"By using NoCap, you agree to these Terms of Service. If you do not agree, please do not use the service."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"2. Description of Service"}),u.jsx("p",{children:"NoCap is a content scanning service that uses AI to analyze photos and videos for potentially inappropriate content. The service includes AI-powered analysis, scan history, and a token-based system."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"3. Eligibility"}),u.jsx("p",{children:"You must be at least 13 years old to use NoCap. If you are between 13 and 18, you must have parental consent."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"4. Account Security"}),u.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"5. Acceptable Use"}),u.jsx("p",{children:"You may only scan content you have legal rights to. You may not use the service for illegal activities, attempt to bypass security, or abuse the token system."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"6. Content Ownership"}),u.jsx("p",{children:"You retain ownership of content you upload. We only process it temporarily for analysis purposes."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"7. Tokens and Payments"}),u.jsx("p",{children:"Scans require tokens. You receive free daily scans and can purchase additional tokens. All sales are final and non-refundable except as required by law."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"8. Accuracy Disclaimer"}),u.jsx("p",{className:"font-semibold text-yellow-300",children:"Important: NoCap uses AI technology that is not perfect. Scan results are guidance only. False positives and negatives may occur. Use your own judgment."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"9. Limitation of Liability"}),u.jsx("p",{children:'The service is provided "as is" without warranties. We are not liable for decisions made based on scan results or for indirect damages.'}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"10. Termination"}),u.jsx("p",{children:"We may suspend or terminate accounts that violate these terms. You may delete your account at any time."}),u.jsx("div",{className:"mt-4 pt-4 border-t border-cyan-500/20",children:u.jsxs("p",{className:"text-xs text-gray-400",children:["For complete terms, visit: ",u.jsx("a",{href:"/terms-of-service.html",target:"_blank",className:"text-cyan-400 underline hover:text-cyan-300",children:"Full Terms of Service"})]})})]})})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-2xl border border-cyan-500/20 overflow-hidden",children:[u.jsxs("button",{onClick:()=>l(!a),className:"w-full px-5 py-4 flex items-center justify-between text-left hover:bg-slate-700/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(fa,{className:"w-6 h-6 text-cyan-400"}),u.jsx("span",{className:"font-bold text-white text-lg",children:"Privacy Policy"})]}),a?u.jsx(Vu,{className:"w-5 h-5 text-cyan-400"}):u.jsx(Hu,{className:"w-5 h-5 text-cyan-400"})]}),a&&u.jsx("div",{className:"px-5 pb-4 max-h-96 overflow-y-auto",children:u.jsxs("div",{className:"text-sm text-gray-300 space-y-4 leading-relaxed",children:[u.jsx("h3",{className:"text-cyan-400 font-bold text-base mt-2",children:"1. Information We Collect"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Account Information:"})," Email address, password (encrypted), and account creation date."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Content You Scan:"})," Photos and videos are temporarily processed. We store scan results but NOT your original files permanently."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Usage Data:"})," Number of scans, timestamps, token balance, game points, device info, and IP address."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Payment Information:"})," Handled by Stripe. We do not store credit card details."]}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"2. How We Use Your Information"}),u.jsx("p",{children:"We use your data to provide the service, process payments, improve features, ensure security, and comply with legal obligations."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"3. Data Storage and Security"}),u.jsx("p",{children:"All data is encrypted in transit. Passwords are hashed. Your uploaded media is temporarily stored during analysis only (typically less than 5 minutes), then deleted."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"4. Data Retention"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Account data: While account is active"}),u.jsx("li",{children:"Scan history: 90 days"}),u.jsx("li",{children:"Uploaded media: Deleted after analysis (under 5 minutes)"}),u.jsx("li",{children:"Transaction records: 7 years"})]}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"5. Third-Party Services"}),u.jsx("p",{children:"We use Supabase (database), Stripe (payments), and content analysis APIs. These services have their own privacy policies."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"6. Data Sharing"}),u.jsx("p",{className:"font-semibold text-green-300",children:"We do NOT sell, rent, or trade your personal information."}),u.jsx("p",{children:"We only share data with your consent, with service providers under confidentiality agreements, or when required by law."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"7. Your Rights"}),u.jsx("p",{children:"You can view, delete, and update your data. Request account deletion or data export by contacting us. We comply with GDPR and CCPA."}),u.jsx("h3",{className:"text-cyan-400 font-bold text-base",children:"8. Children's Privacy"}),u.jsx("p",{children:"Not intended for children under 13. We do not knowingly collect data from children."}),u.jsx("div",{className:"mt-4 pt-4 border-t border-cyan-500/20",children:u.jsxs("p",{className:"text-xs text-gray-400",children:["For complete privacy details, visit: ",u.jsx("a",{href:"/privacy-policy.html",target:"_blank",className:"text-cyan-400 underline hover:text-cyan-300",children:"Full Privacy Policy"})]})})]})})]})]}),u.jsxs("div",{className:"space-y-3 pt-4",children:[u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[u.jsxs("div",{className:"relative flex-shrink-0 mt-1",children:[u.jsx("input",{type:"checkbox",checked:e,onChange:h=>n(h.target.checked),className:"sr-only"}),u.jsx("div",{className:`w-6 h-6 rounded-lg border-2 transition-all ${e?"bg-cyan-500 border-cyan-500":"bg-slate-800 border-cyan-500/50 group-hover:border-cyan-500"}`,children:e&&u.jsx(Wu,{className:"w-5 h-5 text-white absolute inset-0.5"})})]}),u.jsxs("span",{className:"text-sm text-gray-300 group-hover:text-white transition-colors",children:["I have read and agree to the ",u.jsx("span",{className:"text-cyan-400 font-semibold",children:"Terms of Service"})]})]}),u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[u.jsxs("div",{className:"relative flex-shrink-0 mt-1",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:h=>s(h.target.checked),className:"sr-only"}),u.jsx("div",{className:`w-6 h-6 rounded-lg border-2 transition-all ${r?"bg-cyan-500 border-cyan-500":"bg-slate-800 border-cyan-500/50 group-hover:border-cyan-500"}`,children:r&&u.jsx(Wu,{className:"w-5 h-5 text-white absolute inset-0.5"})})]}),u.jsxs("span",{className:"text-sm text-gray-300 group-hover:text-white transition-colors",children:["I have read and agree to the ",u.jsx("span",{className:"text-cyan-400 font-semibold",children:"Privacy Policy"})]})]})]}),u.jsx("button",{onClick:d,disabled:!c,className:`w-full py-4 px-6 rounded-full text-lg font-black transition-all transform ${c?"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white shadow-lg shadow-cyan-500/50 hover:scale-105":"bg-slate-700 text-gray-500 cursor-not-allowed"}`,children:"Continue to NoCap"}),u.jsx("p",{className:"text-xs text-center text-gray-400 pt-2",children:"By continuing, you acknowledge that you understand and accept our policies"})]})]})})}function oy(){const{user:t,loading:e}=er(),[n,r]=E.useState(null);E.useEffect(()=>{document.documentElement.lang="en";const i=localStorage.getItem("legal-agreement-accepted")==="true";r(i)},[]);const s=()=>{r(!0)};return e||n===null?u.jsx("div",{className:"min-h-screen galaxy-bg flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading application",children:u.jsxs("div",{className:"galaxy-content",children:[u.jsx(sn,{className:"w-12 h-12 text-cyan-300 animate-spin","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Loading..."})]})}):!t&&!n?u.jsx("main",{role:"main",className:"galaxy-bg",children:u.jsx(iy,{onAccept:s})}):u.jsx("main",{role:"main",className:"galaxy-bg",children:t?u.jsx(sy,{}):u.jsx(Qg,{})})}const pa=document.getElementById("root");if(!pa)throw new Error("Root element not found");try{ch(pa).render(u.jsx(E.StrictMode,{children:u.jsx(Og,{children:u.jsx(oy,{})})}))}catch(t){console.error("Failed to initialize app:",t),pa.innerHTML=`
    <div style="padding: 20px; font-family: system-ui; max-width: 600px; margin: 50px auto;">
      <h1 style="color: #dc2626;">Initialization Error</h1>
      <p>The application failed to start. Please check the console for details.</p>
      <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px; overflow: auto;">${t instanceof Error?t.message:String(t)}</pre>
    </div>
  `}
