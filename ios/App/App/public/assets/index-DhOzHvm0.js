(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Bu={exports:{}},ri={},Wu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),Ih=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Lh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Mh=Symbol.for("react.memo"),Fh=Symbol.for("react.lazy"),ha=Symbol.iterator;function Bh(t){return t===null||typeof t!="object"?null:(t=ha&&t[ha]||t["@@iterator"],typeof t=="function"?t:null)}var Vu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hu=Object.assign,qu={};function Hn(t,e,n){this.props=t,this.context=e,this.refs=qu,this.updater=n||Vu}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ku(){}Ku.prototype=Hn.prototype;function hl(t,e,n){this.props=t,this.context=e,this.refs=qu,this.updater=n||Vu}var fl=hl.prototype=new Ku;fl.constructor=hl;Hu(fl,Hn.prototype);fl.isPureReactComponent=!0;var fa=Array.isArray,Gu=Object.prototype.hasOwnProperty,pl={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Qu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Gu.call(e,r)&&!Ju.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Fr,type:t,key:i,ref:o,props:s,_owner:pl.current}}function Wh(t,e){return{$$typeof:Fr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ml(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fr}function Vh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pa=/\/+/g;function ji(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vh(""+t.key):e.toString(36)}function ys(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fr:case Ih:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ji(o,0):r,fa(s)?(n="",t!=null&&(n=t.replace(pa,"$&/")+"/"),ys(s,e,n,"",function(u){return u})):s!=null&&(ml(s)&&(s=Wh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",fa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+ji(i,l);o+=ys(i,e,n,a,s)}else if(a=Bh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+ji(i,l++),o+=ys(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yr(t,e,n){if(t==null)return t;var r=[],s=0;return ys(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Hh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ye={current:null},ws={transition:null},qh={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ws,ReactCurrentOwner:pl};function Yu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Yr,forEach:function(t,e,n){Yr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yr(t,function(){e++}),e},toArray:function(t){return Yr(t,function(e){return e})||[]},only:function(t){if(!ml(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Hn;$.Fragment=Ah;$.Profiler=$h;$.PureComponent=hl;$.StrictMode=Rh;$.Suspense=zh;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qh;$.act=Yu;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Gu.call(e,a)&&!Ju.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fr,type:t.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:Uh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lh,_context:t},t.Consumer=t};$.createElement=Qu;$.createFactory=function(t){var e=Qu.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Dh,render:t}};$.isValidElement=ml;$.lazy=function(t){return{$$typeof:Fh,_payload:{_status:-1,_result:t},_init:Hh}};$.memo=function(t,e){return{$$typeof:Mh,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=ws.transition;ws.transition={};try{t()}finally{ws.transition=e}};$.unstable_act=Yu;$.useCallback=function(t,e){return ye.current.useCallback(t,e)};$.useContext=function(t){return ye.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return ye.current.useDeferredValue(t)};$.useEffect=function(t,e){return ye.current.useEffect(t,e)};$.useId=function(){return ye.current.useId()};$.useImperativeHandle=function(t,e,n){return ye.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return ye.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ye.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ye.current.useMemo(t,e)};$.useReducer=function(t,e,n){return ye.current.useReducer(t,e,n)};$.useRef=function(t){return ye.current.useRef(t)};$.useState=function(t){return ye.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return ye.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return ye.current.useTransition()};$.version="18.3.1";Wu.exports=$;var P=Wu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=P,Gh=Symbol.for("react.element"),Jh=Symbol.for("react.fragment"),Qh=Object.prototype.hasOwnProperty,Yh=Kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xh={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Qh.call(e,r)&&!Xh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Gh,type:t,key:i,ref:o,props:s,_owner:Yh.current}}ri.Fragment=Jh;ri.jsx=Xu;ri.jsxs=Xu;Bu.exports=ri;var c=Bu.exports,Zu={exports:{}},Pe={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,T){var O=E.length;E.push(T);e:for(;0<O;){var U=O-1>>>1,Y=E[U];if(0<s(Y,T))E[U]=T,E[O]=Y,O=U;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var T=E[0],O=E.pop();if(O!==T){E[0]=O;e:for(var U=0,Y=E.length,Mt=Y>>>1;U<Mt;){var Ft=2*(U+1)-1,bi=E[Ft],Bt=Ft+1,Qr=E[Bt];if(0>s(bi,O))Bt<Y&&0>s(Qr,bi)?(E[U]=Qr,E[Bt]=O,U=Bt):(E[U]=bi,E[Ft]=O,U=Ft);else if(Bt<Y&&0>s(Qr,O))E[U]=Qr,E[Bt]=O,U=Bt;else break e}}return T}function s(E,T){var O=E.sortIndex-T.sortIndex;return O!==0?O:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,f=3,v=!1,y=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=E)r(u),T.sortIndex=T.expirationTime,e(a,T);else break;T=n(u)}}function w(E){if(_=!1,m(E),!y)if(n(a)!==null)y=!0,zt(b);else{var T=n(u);T!==null&&ee(w,T.startTime-E)}}function b(E,T){y=!1,_&&(_=!1,g(N),N=-1),v=!0;var O=f;try{for(m(T),h=n(a);h!==null&&(!(h.expirationTime>T)||E&&!ce());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var Y=U(h.expirationTime<=T);T=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(a)&&r(a),m(T)}else r(a);h=n(a)}if(h!==null)var Mt=!0;else{var Ft=n(u);Ft!==null&&ee(w,Ft.startTime-T),Mt=!1}return Mt}finally{h=null,f=O,v=!1}}var x=!1,k=null,N=-1,L=5,A=-1;function ce(){return!(t.unstable_now()-A<L)}function ze(){if(k!==null){var E=t.unstable_now();A=E;var T=!0;try{T=k(!0,E)}finally{T?Je():(x=!1,k=null)}}else x=!1}var Je;if(typeof p=="function")Je=function(){p(ze)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,un=nt.port2;nt.port1.onmessage=ze,Je=function(){un.postMessage(null)}}else Je=function(){j(ze,0)};function zt(E){k=E,x||(x=!0,Je())}function ee(E,T){N=j(function(){E(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,zt(b))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var O=f;f=T;try{return E()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var O=f;f=E;try{return T()}finally{f=O}},t.unstable_scheduleCallback=function(E,T,O){var U=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?U+O:U):O=U,E){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,E={id:d++,callback:T,priorityLevel:E,startTime:O,expirationTime:Y,sortIndex:-1},O>U?(E.sortIndex=O,e(u,E),n(a)===null&&E===n(u)&&(_?(g(N),N=-1):_=!0,ee(w,O-U))):(E.sortIndex=Y,e(a,E),y||v||(y=!0,zt(b))),E},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(E){var T=f;return function(){var O=f;f=T;try{return E.apply(this,arguments)}finally{f=O}}}})(tc);ec.exports=tc;var Zh=ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=P,Te=Zh;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nc=new Set,kr={};function on(t,e){Un(t,e),Un(t+"Capture",e)}function Un(t,e){for(kr[t]=e,t=0;t<e.length;t++)nc.add(e[t])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,tf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ma={},ga={};function nf(t){return oo.call(ga,t)?!0:oo.call(ma,t)?!1:tf.test(t)?ga[t]=!0:(ma[t]=!0,!1)}function rf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sf(t,e,n,r){if(e===null||typeof e>"u"||rf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function vl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gl,vl);ue[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gl,vl);ue[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gl,vl);ue[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function yl(t,e,n,r){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sf(e,n,s,r)&&(n=null),r||s===null?nf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pt=ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xr=Symbol.for("react.element"),yn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),rc=Symbol.for("react.provider"),sc=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),ao=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),_l=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),ic=Symbol.for("react.offscreen"),va=Symbol.iterator;function Qn(t){return t===null||typeof t!="object"?null:(t=va&&t[va]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,Ei;function ir(t){if(Ei===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ei=e&&e[1]||""}return`
`+Ei+t}var Ni=!1;function Ci(t,e){if(!t||Ni)return"";Ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ni=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ir(t):""}function of(t){switch(t.tag){case 5:return ir(t.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 2:case 15:return t=Ci(t.type,!1),t;case 11:return t=Ci(t.type.render,!1),t;case 1:return t=Ci(t.type,!0),t;default:return""}}function co(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wn:return"Fragment";case yn:return"Portal";case lo:return"Profiler";case wl:return"StrictMode";case ao:return"Suspense";case uo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sc:return(t.displayName||"Context")+".Consumer";case rc:return(t._context.displayName||"Context")+".Provider";case xl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _l:return e=t.displayName||null,e!==null?e:co(t.type)||"Memo";case yt:e=t._payload,t=t._init;try{return co(t(e))}catch{}}return null}function lf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(e);case 8:return e===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function At(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function af(t){var e=oc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zr(t){t._valueTracker||(t._valueTracker=af(t))}function lc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ho(t,e){var n=e.checked;return K({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ya(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=At(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ac(t,e){e=e.checked,e!=null&&yl(t,"checked",e,!1)}function fo(t,e){ac(t,e);var n=At(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?po(t,e.type,n):e.hasOwnProperty("defaultValue")&&po(t,e.type,At(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function po(t,e,n){(e!=="number"||Ps(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var or=Array.isArray;function Pn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+At(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return K({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(or(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:At(n)}}function uc(t,e){var n=At(e.value),r=At(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _a(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var es,dc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=es.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uf=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(t){uf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cr[e]=cr[t]})});function hc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cr.hasOwnProperty(t)&&cr[t]?(""+e).trim():e+"px"}function fc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cf=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(t,e){if(e){if(cf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function yo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xo=null,On=null,In=null;function ka(t){if(t=Vr(t)){if(typeof xo!="function")throw Error(S(280));var e=t.stateNode;e&&(e=ai(e),xo(t.stateNode,t.type,e))}}function pc(t){On?In?In.push(t):In=[t]:On=t}function mc(){if(On){var t=On,e=In;if(In=On=null,ka(t),e)for(t=0;t<e.length;t++)ka(e[t])}}function gc(t,e){return t(e)}function vc(){}var Ti=!1;function yc(t,e,n){if(Ti)return t(e,n);Ti=!0;try{return gc(t,e,n)}finally{Ti=!1,(On!==null||In!==null)&&(vc(),mc())}}function br(t,e){var n=t.stateNode;if(n===null)return null;var r=ai(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var _o=!1;if(ct)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{_o=!1}function df(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var dr=!1,Os=null,Is=!1,ko=null,hf={onError:function(t){dr=!0,Os=t}};function ff(t,e,n,r,s,i,o,l,a){dr=!1,Os=null,df.apply(hf,arguments)}function pf(t,e,n,r,s,i,o,l,a){if(ff.apply(this,arguments),dr){if(dr){var u=Os;dr=!1,Os=null}else throw Error(S(198));Is||(Is=!0,ko=u)}}function ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sa(t){if(ln(t)!==t)throw Error(S(188))}function mf(t){var e=t.alternate;if(!e){if(e=ln(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sa(s),t;if(i===r)return Sa(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function xc(t){return t=mf(t),t!==null?_c(t):null}function _c(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_c(t);if(e!==null)return e;t=t.sibling}return null}var kc=Te.unstable_scheduleCallback,ba=Te.unstable_cancelCallback,gf=Te.unstable_shouldYield,vf=Te.unstable_requestPaint,X=Te.unstable_now,yf=Te.unstable_getCurrentPriorityLevel,Sl=Te.unstable_ImmediatePriority,Sc=Te.unstable_UserBlockingPriority,As=Te.unstable_NormalPriority,wf=Te.unstable_LowPriority,bc=Te.unstable_IdlePriority,si=null,et=null;function xf(t){if(et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:Sf,_f=Math.log,kf=Math.LN2;function Sf(t){return t>>>=0,t===0?32:31-(_f(t)/kf|0)|0}var ts=64,ns=4194304;function lr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=lr(l):(i&=o,i!==0&&(r=lr(i)))}else o=n&~s,o!==0?r=lr(o):i!==0&&(r=lr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qe(e),s=1<<n,r|=t[n],e&=~s;return r}function bf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=bf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function So(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jc(){var t=ts;return ts<<=1,!(ts&4194240)&&(ts=64),t}function Pi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Br(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qe(e),t[e]=n}function Ef(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function bl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var z=0;function Ec(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nc,jl,Cc,Tc,Pc,bo=!1,rs=[],jt=null,Et=null,Nt=null,jr=new Map,Er=new Map,xt=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(e.pointerId)}}function Xn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vr(e),e!==null&&jl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cf(t,e,n,r,s){switch(e){case"focusin":return jt=Xn(jt,t,e,n,r,s),!0;case"dragenter":return Et=Xn(Et,t,e,n,r,s),!0;case"mouseover":return Nt=Xn(Nt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jr.set(i,Xn(jr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Er.set(i,Xn(Er.get(i)||null,t,e,n,r,s)),!0}return!1}function Oc(t){var e=Jt(t.target);if(e!==null){var n=ln(e);if(n!==null){if(e=n.tag,e===13){if(e=wc(n),e!==null){t.blockedOn=e,Pc(t.priority,function(){Cc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wo=r,n.target.dispatchEvent(r),wo=null}else return e=Vr(n),e!==null&&jl(e),t.blockedOn=n,!1;e.shift()}return!0}function Ea(t,e,n){xs(t)&&n.delete(e)}function Tf(){bo=!1,jt!==null&&xs(jt)&&(jt=null),Et!==null&&xs(Et)&&(Et=null),Nt!==null&&xs(Nt)&&(Nt=null),jr.forEach(Ea),Er.forEach(Ea)}function Zn(t,e){t.blockedOn===e&&(t.blockedOn=null,bo||(bo=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,Tf)))}function Nr(t){function e(s){return Zn(s,t)}if(0<rs.length){Zn(rs[0],t);for(var n=1;n<rs.length;n++){var r=rs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&Zn(jt,t),Et!==null&&Zn(Et,t),Nt!==null&&Zn(Nt,t),jr.forEach(e),Er.forEach(e),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Oc(n),n.blockedOn===null&&xt.shift()}var An=pt.ReactCurrentBatchConfig,$s=!0;function Pf(t,e,n,r){var s=z,i=An.transition;An.transition=null;try{z=1,El(t,e,n,r)}finally{z=s,An.transition=i}}function Of(t,e,n,r){var s=z,i=An.transition;An.transition=null;try{z=4,El(t,e,n,r)}finally{z=s,An.transition=i}}function El(t,e,n,r){if($s){var s=jo(t,e,n,r);if(s===null)Mi(t,e,r,Ls,n),ja(t,r);else if(Cf(s,t,e,n,r))r.stopPropagation();else if(ja(t,r),e&4&&-1<Nf.indexOf(t)){for(;s!==null;){var i=Vr(s);if(i!==null&&Nc(i),i=jo(t,e,n,r),i===null&&Mi(t,e,r,Ls,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mi(t,e,r,null,n)}}var Ls=null;function jo(t,e,n,r){if(Ls=null,t=kl(r),t=Jt(t),t!==null)if(e=ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function Ic(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yf()){case Sl:return 1;case Sc:return 4;case As:case wf:return 16;case bc:return 536870912;default:return 16}default:return 16}}var St=null,Nl=null,_s=null;function Ac(){if(_s)return _s;var t,e=Nl,n=e.length,r,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _s=s.slice(t,1<r?1-r:void 0)}function ks(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function Na(){return!1}function Oe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ss:Na,this.isPropagationStopped=Na,this}return K(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),e}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Oe(qn),Wr=K({},qn,{view:0,detail:0}),If=Oe(Wr),Oi,Ii,er,ii=K({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(Oi=t.screenX-er.screenX,Ii=t.screenY-er.screenY):Ii=Oi=0,er=t),Oi)},movementY:function(t){return"movementY"in t?t.movementY:Ii}}),Ca=Oe(ii),Af=K({},ii,{dataTransfer:0}),Rf=Oe(Af),$f=K({},Wr,{relatedTarget:0}),Ai=Oe($f),Lf=K({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=Oe(Lf),Df=K({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zf=Oe(Df),Mf=K({},qn,{data:0}),Ta=Oe(Mf),Ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wf[t])?!!e[t]:!1}function Tl(){return Vf}var Hf=K({},Wr,{key:function(t){if(t.key){var e=Ff[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qf=Oe(Hf),Kf=K({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Oe(Kf),Gf=K({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Jf=Oe(Gf),Qf=K({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=Oe(Qf),Xf=K({},ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=Oe(Xf),ep=[9,13,27,32],Pl=ct&&"CompositionEvent"in window,hr=null;ct&&"documentMode"in document&&(hr=document.documentMode);var tp=ct&&"TextEvent"in window&&!hr,Rc=ct&&(!Pl||hr&&8<hr&&11>=hr),Oa=" ",Ia=!1;function $c(t,e){switch(t){case"keyup":return ep.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function np(t,e){switch(t){case"compositionend":return Lc(e);case"keypress":return e.which!==32?null:(Ia=!0,Oa);case"textInput":return t=e.data,t===Oa&&Ia?null:t;default:return null}}function rp(t,e){if(xn)return t==="compositionend"||!Pl&&$c(t,e)?(t=Ac(),_s=Nl=St=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rc&&e.locale!=="ko"?null:e.data;default:return null}}var sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sp[t.type]:e==="textarea"}function Uc(t,e,n,r){pc(r),e=Us(e,"onChange"),0<e.length&&(n=new Cl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fr=null,Cr=null;function ip(t){Gc(t,0)}function oi(t){var e=Sn(t);if(lc(e))return t}function op(t,e){if(t==="change")return e}var Dc=!1;if(ct){var Ri;if(ct){var $i="oninput"in document;if(!$i){var Ra=document.createElement("div");Ra.setAttribute("oninput","return;"),$i=typeof Ra.oninput=="function"}Ri=$i}else Ri=!1;Dc=Ri&&(!document.documentMode||9<document.documentMode)}function $a(){fr&&(fr.detachEvent("onpropertychange",zc),Cr=fr=null)}function zc(t){if(t.propertyName==="value"&&oi(Cr)){var e=[];Uc(e,Cr,t,kl(t)),yc(ip,e)}}function lp(t,e,n){t==="focusin"?($a(),fr=e,Cr=n,fr.attachEvent("onpropertychange",zc)):t==="focusout"&&$a()}function ap(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(Cr)}function up(t,e){if(t==="click")return oi(e)}function cp(t,e){if(t==="input"||t==="change")return oi(e)}function dp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:dp;function Tr(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oo.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function La(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ua(t,e){var n=La(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=La(n)}}function Mc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fc(){for(var t=window,e=Ps();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ps(t.document)}return e}function Ol(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hp(t){var e=Fc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mc(n.ownerDocument.documentElement,n)){if(r!==null&&Ol(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ua(n,i);var o=Ua(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fp=ct&&"documentMode"in document&&11>=document.documentMode,_n=null,Eo=null,pr=null,No=!1;function Da(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||_n==null||_n!==Ps(r)||(r=_n,"selectionStart"in r&&Ol(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pr&&Tr(pr,r)||(pr=r,r=Us(Eo,"onSelect"),0<r.length&&(e=new Cl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_n)))}function is(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kn={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionend:is("Transition","TransitionEnd")},Li={},Bc={};ct&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function li(t){if(Li[t])return Li[t];if(!kn[t])return t;var e=kn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bc)return Li[t]=e[n];return t}var Wc=li("animationend"),Vc=li("animationiteration"),Hc=li("animationstart"),qc=li("transitionend"),Kc=new Map,za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(t,e){Kc.set(t,e),on(e,[t])}for(var Ui=0;Ui<za.length;Ui++){var Di=za[Ui],pp=Di.toLowerCase(),mp=Di[0].toUpperCase()+Di.slice(1);$t(pp,"on"+mp)}$t(Wc,"onAnimationEnd");$t(Vc,"onAnimationIteration");$t(Hc,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(qc,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ar));function Ma(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pf(r,e,void 0,t),t.currentTarget=null}function Gc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ma(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ma(s,l,u),i=a}}}if(Is)throw t=ko,Is=!1,ko=null,t}function B(t,e){var n=e[Io];n===void 0&&(n=e[Io]=new Set);var r=t+"__bubble";n.has(r)||(Jc(e,t,2,!1),n.add(r))}function zi(t,e,n){var r=0;e&&(r|=4),Jc(n,t,r,e)}var os="_reactListening"+Math.random().toString(36).slice(2);function Pr(t){if(!t[os]){t[os]=!0,nc.forEach(function(n){n!=="selectionchange"&&(gp.has(n)||zi(n,!1,t),zi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[os]||(e[os]=!0,zi("selectionchange",!1,e))}}function Jc(t,e,n,r){switch(Ic(e)){case 1:var s=Pf;break;case 4:s=Of;break;default:s=El}n=s.bind(null,e,n,t),s=void 0,!_o||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Jt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}yc(function(){var u=i,d=kl(n),h=[];e:{var f=Kc.get(t);if(f!==void 0){var v=Cl,y=t;switch(t){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":v=qf;break;case"focusin":y="focus",v=Ai;break;case"focusout":y="blur",v=Ai;break;case"beforeblur":case"afterblur":v=Ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Jf;break;case Wc:case Vc:case Hc:v=Uf;break;case qc:v=Yf;break;case"scroll":v=If;break;case"wheel":v=Zf;break;case"copy":case"cut":case"paste":v=zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Pa}var _=(e&4)!==0,j=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=br(p,g),w!=null&&_.push(Or(p,w,m)))),j)break;p=p.return}0<_.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==wo&&(y=n.relatedTarget||n.fromElement)&&(Jt(y)||y[dt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Jt(y):null,y!==null&&(j=ln(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=Ca,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Pa,w="onPointerLeave",g="onPointerEnter",p="pointer"),j=v==null?f:Sn(v),m=y==null?f:Sn(y),f=new _(w,p+"leave",v,n,d),f.target=j,f.relatedTarget=m,w=null,Jt(d)===u&&(_=new _(g,p+"enter",y,n,d),_.target=m,_.relatedTarget=j,w=_),j=w,v&&y)t:{for(_=v,g=y,p=0,m=_;m;m=cn(m))p++;for(m=0,w=g;w;w=cn(w))m++;for(;0<p-m;)_=cn(_),p--;for(;0<m-p;)g=cn(g),m--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=cn(_),g=cn(g)}_=null}else _=null;v!==null&&Fa(h,f,v,_,!1),y!==null&&j!==null&&Fa(h,j,y,_,!0)}}e:{if(f=u?Sn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=op;else if(Aa(f))if(Dc)b=cp;else{b=ap;var x=lp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=up);if(b&&(b=b(t,u))){Uc(h,b,n,d);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&po(f,"number",f.value)}switch(x=u?Sn(u):window,t){case"focusin":(Aa(x)||x.contentEditable==="true")&&(_n=x,Eo=u,pr=null);break;case"focusout":pr=Eo=_n=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Da(h,n,d);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":Da(h,n,d)}var k;if(Pl)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else xn?$c(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Rc&&n.locale!=="ko"&&(xn||N!=="onCompositionStart"?N==="onCompositionEnd"&&xn&&(k=Ac()):(St=d,Nl="value"in St?St.value:St.textContent,xn=!0)),x=Us(u,N),0<x.length&&(N=new Ta(N,t,null,n,d),h.push({event:N,listeners:x}),k?N.data=k:(k=Lc(n),k!==null&&(N.data=k)))),(k=tp?np(t,n):rp(t,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(d=new Ta("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}Gc(h,e)})}function Or(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Us(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=br(t,n),i!=null&&r.unshift(Or(t,i,s)),i=br(t,e),i!=null&&r.push(Or(t,i,s))),t=t.return}return r}function cn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fa(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=br(n,i),a!=null&&o.unshift(Or(n,a,l))):s||(a=br(n,i),a!=null&&o.push(Or(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function Ba(t){return(typeof t=="string"?t:""+t).replace(vp,`
`).replace(yp,"")}function ls(t,e,n){if(e=Ba(e),Ba(t)!==e&&n)throw Error(S(425))}function Ds(){}var Co=null,To=null;function Po(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,wp=typeof clearTimeout=="function"?clearTimeout:void 0,Wa=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wa<"u"?function(t){return Wa.resolve(null).then(t).catch(_p)}:Oo;function _p(t){setTimeout(function(){throw t})}function Fi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nr(e)}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Va(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Kn,Ir="__reactProps$"+Kn,dt="__reactContainer$"+Kn,Io="__reactEvents$"+Kn,kp="__reactListeners$"+Kn,Sp="__reactHandles$"+Kn;function Jt(t){var e=t[Ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dt]||n[Ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Va(t);t!==null;){if(n=t[Ze])return n;t=Va(t)}return e}t=n,n=t.parentNode}return null}function Vr(t){return t=t[Ze]||t[dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function ai(t){return t[Ir]||null}var Ao=[],bn=-1;function Lt(t){return{current:t}}function W(t){0>bn||(t.current=Ao[bn],Ao[bn]=null,bn--)}function F(t,e){bn++,Ao[bn]=t.current,t.current=e}var Rt={},pe=Lt(Rt),Se=Lt(!1),en=Rt;function Dn(t,e){var n=t.type.contextTypes;if(!n)return Rt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function be(t){return t=t.childContextTypes,t!=null}function zs(){W(Se),W(pe)}function Ha(t,e,n){if(pe.current!==Rt)throw Error(S(168));F(pe,e),F(Se,n)}function Qc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,lf(t)||"Unknown",s));return K({},n,r)}function Ms(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rt,en=pe.current,F(pe,t),F(Se,Se.current),!0}function qa(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Qc(t,e,en),r.__reactInternalMemoizedMergedChildContext=t,W(Se),W(pe),F(pe,t)):W(Se),F(Se,n)}var ot=null,ui=!1,Bi=!1;function Yc(t){ot===null?ot=[t]:ot.push(t)}function bp(t){ui=!0,Yc(t)}function Ut(){if(!Bi&&ot!==null){Bi=!0;var t=0,e=z;try{var n=ot;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ot=null,ui=!1}catch(s){throw ot!==null&&(ot=ot.slice(t+1)),kc(Sl,Ut),s}finally{z=e,Bi=!1}}return null}var jn=[],En=0,Fs=null,Bs=0,Ie=[],Ae=0,tn=null,lt=1,at="";function Ht(t,e){jn[En++]=Bs,jn[En++]=Fs,Fs=t,Bs=e}function Xc(t,e,n){Ie[Ae++]=lt,Ie[Ae++]=at,Ie[Ae++]=tn,tn=t;var r=lt;t=at;var s=32-qe(r)-1;r&=~(1<<s),n+=1;var i=32-qe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,lt=1<<32-qe(e)+s|n<<s|r,at=i+t}else lt=1<<i|n<<s|r,at=t}function Il(t){t.return!==null&&(Ht(t,1),Xc(t,1,0))}function Al(t){for(;t===Fs;)Fs=jn[--En],jn[En]=null,Bs=jn[--En],jn[En]=null;for(;t===tn;)tn=Ie[--Ae],Ie[Ae]=null,at=Ie[--Ae],Ie[Ae]=null,lt=Ie[--Ae],Ie[Ae]=null}var Ce=null,Ne=null,V=!1,He=null;function Zc(t,e){var n=Re(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ka(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ce=t,Ne=Ct(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ce=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tn!==null?{id:lt,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Re(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ce=t,Ne=null,!0):!1;default:return!1}}function Ro(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $o(t){if(V){var e=Ne;if(e){var n=e;if(!Ka(t,e)){if(Ro(t))throw Error(S(418));e=Ct(n.nextSibling);var r=Ce;e&&Ka(t,e)?Zc(r,n):(t.flags=t.flags&-4097|2,V=!1,Ce=t)}}else{if(Ro(t))throw Error(S(418));t.flags=t.flags&-4097|2,V=!1,Ce=t}}}function Ga(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ce=t}function as(t){if(t!==Ce)return!1;if(!V)return Ga(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Po(t.type,t.memoizedProps)),e&&(e=Ne)){if(Ro(t))throw ed(),Error(S(418));for(;e;)Zc(t,e),e=Ct(e.nextSibling)}if(Ga(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ne=Ct(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Ce?Ct(t.stateNode.nextSibling):null;return!0}function ed(){for(var t=Ne;t;)t=Ct(t.nextSibling)}function zn(){Ne=Ce=null,V=!1}function Rl(t){He===null?He=[t]:He.push(t)}var jp=pt.ReactCurrentBatchConfig;function tr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function us(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ja(t){var e=t._init;return e(t._payload)}function td(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=It(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,w){return p===null||p.tag!==6?(p=Ji(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function a(g,p,m,w){var b=m.type;return b===wn?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yt&&Ja(b)===p.type)?(w=s(p,m.props),w.ref=tr(g,p,m),w.return=g,w):(w=Ts(m.type,m.key,m.props,null,g.mode,w),w.ref=tr(g,p,m),w.return=g,w)}function u(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Qi(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,b){return p===null||p.tag!==7?(p=Zt(m,g.mode,w,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ji(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xr:return m=Ts(p.type,p.key,p.props,null,g.mode,m),m.ref=tr(g,null,p),m.return=g,m;case yn:return p=Qi(p,g.mode,m),p.return=g,p;case yt:var w=p._init;return h(g,w(p._payload),m)}if(or(p)||Qn(p))return p=Zt(p,g.mode,m,null),p.return=g,p;us(g,p)}return null}function f(g,p,m,w){var b=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:l(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xr:return m.key===b?a(g,p,m,w):null;case yn:return m.key===b?u(g,p,m,w):null;case yt:return b=m._init,f(g,p,b(m._payload),w)}if(or(m)||Qn(m))return b!==null?null:d(g,p,m,w,null);us(g,m)}return null}function v(g,p,m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,l(p,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xr:return g=g.get(w.key===null?m:w.key)||null,a(p,g,w,b);case yn:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,b);case yt:var x=w._init;return v(g,p,m,x(w._payload),b)}if(or(w)||Qn(w))return g=g.get(m)||null,d(p,g,w,b,null);us(p,w)}return null}function y(g,p,m,w){for(var b=null,x=null,k=p,N=p=0,L=null;k!==null&&N<m.length;N++){k.index>N?(L=k,k=null):L=k.sibling;var A=f(g,k,m[N],w);if(A===null){k===null&&(k=L);break}t&&k&&A.alternate===null&&e(g,k),p=i(A,p,N),x===null?b=A:x.sibling=A,x=A,k=L}if(N===m.length)return n(g,k),V&&Ht(g,N),b;if(k===null){for(;N<m.length;N++)k=h(g,m[N],w),k!==null&&(p=i(k,p,N),x===null?b=k:x.sibling=k,x=k);return V&&Ht(g,N),b}for(k=r(g,k);N<m.length;N++)L=v(k,g,N,m[N],w),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?N:L.key),p=i(L,p,N),x===null?b=L:x.sibling=L,x=L);return t&&k.forEach(function(ce){return e(g,ce)}),V&&Ht(g,N),b}function _(g,p,m,w){var b=Qn(m);if(typeof b!="function")throw Error(S(150));if(m=b.call(m),m==null)throw Error(S(151));for(var x=b=null,k=p,N=p=0,L=null,A=m.next();k!==null&&!A.done;N++,A=m.next()){k.index>N?(L=k,k=null):L=k.sibling;var ce=f(g,k,A.value,w);if(ce===null){k===null&&(k=L);break}t&&k&&ce.alternate===null&&e(g,k),p=i(ce,p,N),x===null?b=ce:x.sibling=ce,x=ce,k=L}if(A.done)return n(g,k),V&&Ht(g,N),b;if(k===null){for(;!A.done;N++,A=m.next())A=h(g,A.value,w),A!==null&&(p=i(A,p,N),x===null?b=A:x.sibling=A,x=A);return V&&Ht(g,N),b}for(k=r(g,k);!A.done;N++,A=m.next())A=v(k,g,N,A.value,w),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?N:A.key),p=i(A,p,N),x===null?b=A:x.sibling=A,x=A);return t&&k.forEach(function(ze){return e(g,ze)}),V&&Ht(g,N),b}function j(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===wn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Xr:e:{for(var b=m.key,x=p;x!==null;){if(x.key===b){if(b=m.type,b===wn){if(x.tag===7){n(g,x.sibling),p=s(x,m.props.children),p.return=g,g=p;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yt&&Ja(b)===x.type){n(g,x.sibling),p=s(x,m.props),p.ref=tr(g,x,m),p.return=g,g=p;break e}n(g,x);break}else e(g,x);x=x.sibling}m.type===wn?(p=Zt(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=Ts(m.type,m.key,m.props,null,g.mode,w),w.ref=tr(g,p,m),w.return=g,g=w)}return o(g);case yn:e:{for(x=m.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Qi(m,g.mode,w),p.return=g,g=p}return o(g);case yt:return x=m._init,j(g,p,x(m._payload),w)}if(or(m))return y(g,p,m,w);if(Qn(m))return _(g,p,m,w);us(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=Ji(m,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return j}var Mn=td(!0),nd=td(!1),Ws=Lt(null),Vs=null,Nn=null,$l=null;function Ll(){$l=Nn=Vs=null}function Ul(t){var e=Ws.current;W(Ws),t._currentValue=e}function Lo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rn(t,e){Vs=t,$l=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if($l!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(Vs===null)throw Error(S(308));Nn=t,Vs.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var Qt=null;function Dl(t){Qt===null?Qt=[t]:Qt.push(t)}function rd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Dl(e)):(n.next=s.next,s.next=n),e.interleaved=n,ht(t,r)}function ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wt=!1;function zl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ht(t,n)}return s=r.interleaved,s===null?(e.next=e,Dl(r)):(e.next=s.next,s.next=e),r.interleaved=e,ht(t,n)}function Ss(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bl(t,n)}}function Qa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hs(t,e,n,r){var s=t.updateQueue;wt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(f=e,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=K({},h,f);break e;case 2:wt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);rn|=o,t.lanes=o,t.memoizedState=h}}function Ya(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Hr={},tt=Lt(Hr),Ar=Lt(Hr),Rr=Lt(Hr);function Yt(t){if(t===Hr)throw Error(S(174));return t}function Ml(t,e){switch(F(Rr,e),F(Ar,t),F(tt,Hr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:go(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=go(e,t)}W(tt),F(tt,e)}function Fn(){W(tt),W(Ar),W(Rr)}function id(t){Yt(Rr.current);var e=Yt(tt.current),n=go(e,t.type);e!==n&&(F(Ar,t),F(tt,n))}function Fl(t){Ar.current===t&&(W(tt),W(Ar))}var H=Lt(0);function qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wi=[];function Bl(){for(var t=0;t<Wi.length;t++)Wi[t]._workInProgressVersionPrimary=null;Wi.length=0}var bs=pt.ReactCurrentDispatcher,Vi=pt.ReactCurrentBatchConfig,nn=0,q=null,re=null,ie=null,Ks=!1,mr=!1,$r=0,Ep=0;function de(){throw Error(S(321))}function Wl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function Vl(t,e,n,r,s,i){if(nn=i,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bs.current=t===null||t.memoizedState===null?Pp:Op,t=n(r,s),mr){i=0;do{if(mr=!1,$r=0,25<=i)throw Error(S(301));i+=1,ie=re=null,e.updateQueue=null,bs.current=Ip,t=n(r,s)}while(mr)}if(bs.current=Gs,e=re!==null&&re.next!==null,nn=0,ie=re=q=null,Ks=!1,e)throw Error(S(300));return t}function Hl(){var t=$r!==0;return $r=0,t}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?q.memoizedState=ie=t:ie=ie.next=t,ie}function De(){if(re===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=ie===null?q.memoizedState:ie.next;if(e!==null)ie=e,re=t;else{if(t===null)throw Error(S(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ie===null?q.memoizedState=ie=t:ie=ie.next=t}return ie}function Lr(t,e){return typeof e=="function"?e(t):e}function Hi(t){var e=De(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((nn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,q.lanes|=d,rn|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,q.lanes|=i,rn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qi(t){var e=De(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function od(){}function ld(t,e){var n=q,r=De(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,ql(cd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Ur(9,ud.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(S(349));nn&30||ad(n,e,s)}return s}function ad(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ud(t,e,n,r){e.value=n,e.getSnapshot=r,dd(e)&&hd(t)}function cd(t,e,n){return n(function(){dd(e)&&hd(t)})}function dd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function hd(t){var e=ht(t,1);e!==null&&Ke(e,t,1,-1)}function Xa(t){var e=Ye();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},e.queue=t,t=t.dispatch=Tp.bind(null,q,t),[e.memoizedState,t]}function Ur(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fd(){return De().memoizedState}function js(t,e,n,r){var s=Ye();q.flags|=t,s.memoizedState=Ur(1|e,n,void 0,r===void 0?null:r)}function ci(t,e,n,r){var s=De();r=r===void 0?null:r;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,r!==null&&Wl(r,o.deps)){s.memoizedState=Ur(e,n,i,r);return}}q.flags|=t,s.memoizedState=Ur(1|e,n,i,r)}function Za(t,e){return js(8390656,8,t,e)}function ql(t,e){return ci(2048,8,t,e)}function pd(t,e){return ci(4,2,t,e)}function md(t,e){return ci(4,4,t,e)}function gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vd(t,e,n){return n=n!=null?n.concat([t]):null,ci(4,4,gd.bind(null,e,t),n)}function Kl(){}function yd(t,e){var n=De();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wd(t,e){var n=De();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xd(t,e,n){return nn&21?(Ge(n,e)||(n=jc(),q.lanes|=n,rn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function Np(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=Vi.transition;Vi.transition={};try{t(!1),e()}finally{z=n,Vi.transition=r}}function _d(){return De().memoizedState}function Cp(t,e,n){var r=Ot(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kd(t))Sd(e,n);else if(n=rd(t,e,n,r),n!==null){var s=ve();Ke(n,t,r,s),bd(n,e,r)}}function Tp(t,e,n){var r=Ot(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Sd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,Dl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=rd(t,e,s,r),n!==null&&(s=ve(),Ke(n,t,r,s),bd(n,e,r))}}function kd(t){var e=t.alternate;return t===q||e!==null&&e===q}function Sd(t,e){mr=Ks=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bl(t,n)}}var Gs={readContext:Ue,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},Pp={readContext:Ue,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:Za,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,js(4194308,4,gd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return js(4194308,4,t,e)},useInsertionEffect:function(t,e){return js(4,2,t,e)},useMemo:function(t,e){var n=Ye();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ye();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cp.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:Xa,useDebugValue:Kl,useDeferredValue:function(t){return Ye().memoizedState=t},useTransition:function(){var t=Xa(!1),e=t[0];return t=Np.bind(null,t[1]),Ye().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,s=Ye();if(V){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),oe===null)throw Error(S(349));nn&30||ad(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Za(cd.bind(null,r,i,t),[t]),r.flags|=2048,Ur(9,ud.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ye(),e=oe.identifierPrefix;if(V){var n=at,r=lt;n=(r&~(1<<32-qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$r++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ep++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Op={readContext:Ue,useCallback:yd,useContext:Ue,useEffect:ql,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:Hi,useRef:fd,useState:function(){return Hi(Lr)},useDebugValue:Kl,useDeferredValue:function(t){var e=De();return xd(e,re.memoizedState,t)},useTransition:function(){var t=Hi(Lr)[0],e=De().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ld,useId:_d,unstable_isNewReconciler:!1},Ip={readContext:Ue,useCallback:yd,useContext:Ue,useEffect:ql,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:md,useMemo:wd,useReducer:qi,useRef:fd,useState:function(){return qi(Lr)},useDebugValue:Kl,useDeferredValue:function(t){var e=De();return re===null?e.memoizedState=t:xd(e,re.memoizedState,t)},useTransition:function(){var t=qi(Lr)[0],e=De().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ld,useId:_d,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=K({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:K({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var di={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ve(),s=Ot(t),i=ut(r,s);i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Ke(e,t,s,r),Ss(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ve(),s=Ot(t),i=ut(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Ke(e,t,s,r),Ss(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ve(),r=Ot(t),s=ut(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tt(t,s,r),e!==null&&(Ke(e,t,r,n),Ss(e,t,r))}};function eu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Tr(n,r)||!Tr(s,i):!0}function jd(t,e,n){var r=!1,s=Rt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=be(e)?en:pe.current,r=e.contextTypes,i=(r=r!=null)?Dn(t,s):Rt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=di,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&di.enqueueReplaceState(e,e.state,null)}function Do(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},zl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=be(e)?en:pe.current,s.context=Dn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&di.enqueueReplaceState(s,s.state,null),Hs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bn(t,e){try{var n="",r=e;do n+=of(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ki(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ap=typeof WeakMap=="function"?WeakMap:Map;function Ed(t,e,n){n=ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qs||(Qs=!0,Jo=r),zo(t,e)},n}function Nd(t,e,n){n=ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zo(t,e),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ap;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Kp.bind(null,t,e,n),e.then(t,t))}function ru(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function su(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ut(-1,1),e.tag=2,Tt(n,e,1))),n.lanes|=1),t)}var Rp=pt.ReactCurrentOwner,ke=!1;function ge(t,e,n,r){e.child=t===null?nd(e,null,n,r):Mn(e,t.child,n,r)}function iu(t,e,n,r,s){n=n.render;var i=e.ref;return Rn(e,s),r=Vl(t,e,n,r,i,s),n=Hl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(V&&n&&Il(e),e.flags|=1,ge(t,e,r,s),e.child)}function ou(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Cd(t,e,i,r,s)):(t=Ts(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(o,r)&&t.ref===e.ref)return ft(t,e,s)}return e.flags|=1,t=It(i,r),t.ref=e.ref,t.return=e,e.child=t}function Cd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Tr(i,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,ft(t,e,s)}return Mo(t,e,n,r,s)}function Td(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(Tn,Ee),Ee|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F(Tn,Ee),Ee|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,F(Tn,Ee),Ee|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,F(Tn,Ee),Ee|=r;return ge(t,e,s,n),e.child}function Pd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mo(t,e,n,r,s){var i=be(n)?en:pe.current;return i=Dn(e,i),Rn(e,s),n=Vl(t,e,n,r,i,s),r=Hl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(V&&r&&Il(e),e.flags|=1,ge(t,e,n,s),e.child)}function lu(t,e,n,r,s){if(be(n)){var i=!0;Ms(e)}else i=!1;if(Rn(e,s),e.stateNode===null)Es(t,e),jd(e,n,r),Do(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=be(n)?en:pe.current,u=Dn(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&tu(e,o,r,u),wt=!1;var f=e.memoizedState;o.state=f,Hs(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Se.current||wt?(typeof d=="function"&&(Uo(e,n,d,r),a=e.memoizedState),(l=wt||eu(e,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Be(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=be(n)?en:pe.current,a=Dn(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&tu(e,o,r,a),wt=!1,f=e.memoizedState,o.state=f,Hs(e,r,o,s);var y=e.memoizedState;l!==h||f!==y||Se.current||wt?(typeof v=="function"&&(Uo(e,n,v,r),y=e.memoizedState),(u=wt||eu(e,n,u,r,f,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Fo(t,e,n,r,i,s)}function Fo(t,e,n,r,s,i){Pd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&qa(e,n,!1),ft(t,e,i);r=e.stateNode,Rp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mn(e,t.child,null,i),e.child=Mn(e,null,l,i)):ge(t,e,l,i),e.memoizedState=r.state,s&&qa(e,n,!0),e.child}function Od(t){var e=t.stateNode;e.pendingContext?Ha(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ha(t,e.context,!1),Ml(t,e.containerInfo)}function au(t,e,n,r,s){return zn(),Rl(s),e.flags|=256,ge(t,e,n,r),e.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Wo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Id(t,e,n){var r=e.pendingProps,s=H.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(H,s&1),t===null)return $o(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),t=Zt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wo(n),e.memoizedState=Bo,t):Gl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $p(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=It(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=It(l,i):(i=Zt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bo,r}return i=t.child,t=i.sibling,r=It(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gl(t,e){return e=pi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cs(t,e,n,r){return r!==null&&Rl(r),Mn(e,t.child,null,n),t=Gl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $p(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ki(Error(S(422))),cs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=Zt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mn(e,t.child,null,o),e.child.memoizedState=Wo(o),e.memoizedState=Bo,i);if(!(e.mode&1))return cs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=Ki(i,r,void 0),cs(t,e,o,r)}if(l=(o&t.childLanes)!==0,ke||l){if(r=oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ht(t,s),Ke(r,t,s,-1))}return ea(),r=Ki(Error(S(421))),cs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ne=Ct(s.nextSibling),Ce=e,V=!0,He=null,t!==null&&(Ie[Ae++]=lt,Ie[Ae++]=at,Ie[Ae++]=tn,lt=t.id,at=t.overflow,tn=e),e=Gl(e,r.children),e.flags|=4096,e)}function uu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lo(t.return,e,n)}function Gi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ad(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ge(t,e,r.children,n),r=H.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uu(t,n,e);else if(t.tag===19)uu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(F(H,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gi(e,!0,n,null,i);break;case"together":Gi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Es(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ft(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=It(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=It(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lp(t,e,n){switch(e.tag){case 3:Od(e),zn();break;case 5:id(e);break;case 1:be(e.type)&&Ms(e);break;case 4:Ml(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;F(Ws,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(F(H,H.current&1),e.flags|=128,null):n&e.child.childLanes?Id(t,e,n):(F(H,H.current&1),t=ft(t,e,n),t!==null?t.sibling:null);F(H,H.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ad(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(H,H.current),r)break;return null;case 22:case 23:return e.lanes=0,Td(t,e,n)}return ft(t,e,n)}var Rd,Vo,$d,Ld;Rd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vo=function(){};$d=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yt(tt.current);var i=null;switch(n){case"input":s=ho(t,s),r=ho(t,r),i=[];break;case"select":s=K({},s,{value:void 0}),r=K({},r,{value:void 0}),i=[];break;case"textarea":s=mo(t,s),r=mo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ds)}vo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&B("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ld=function(t,e,n,r){n!==r&&(e.flags|=4)};function nr(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Up(t,e,n){var r=e.pendingProps;switch(Al(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return be(e.type)&&zs(),he(e),null;case 3:return r=e.stateNode,Fn(),W(Se),W(pe),Bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(as(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(Xo(He),He=null))),Vo(t,e),he(e),null;case 5:Fl(e);var s=Yt(Rr.current);if(n=e.type,t!==null&&e.stateNode!=null)$d(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return he(e),null}if(t=Yt(tt.current),as(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ze]=e,r[Ir]=i,t=(e.mode&1)!==0,n){case"dialog":B("cancel",r),B("close",r);break;case"iframe":case"object":case"embed":B("load",r);break;case"video":case"audio":for(s=0;s<ar.length;s++)B(ar[s],r);break;case"source":B("error",r);break;case"img":case"image":case"link":B("error",r),B("load",r);break;case"details":B("toggle",r);break;case"input":ya(r,i),B("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},B("invalid",r);break;case"textarea":xa(r,i),B("invalid",r)}vo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ls(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ls(r.textContent,l,t),s=["children",""+l]):kr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&B("scroll",r)}switch(n){case"input":Zr(r),wa(r,i,!0);break;case"textarea":Zr(r),_a(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ds)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ze]=e,t[Ir]=r,Rd(t,e,!1,!1),e.stateNode=t;e:{switch(o=yo(n,r),n){case"dialog":B("cancel",t),B("close",t),s=r;break;case"iframe":case"object":case"embed":B("load",t),s=r;break;case"video":case"audio":for(s=0;s<ar.length;s++)B(ar[s],t);s=r;break;case"source":B("error",t),s=r;break;case"img":case"image":case"link":B("error",t),B("load",t),s=r;break;case"details":B("toggle",t),s=r;break;case"input":ya(t,r),s=ho(t,r),B("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=K({},r,{value:void 0}),B("invalid",t);break;case"textarea":xa(t,r),s=mo(t,r),B("invalid",t);break;default:s=r}vo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?fc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&dc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Sr(t,a):typeof a=="number"&&Sr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&B("scroll",t):a!=null&&yl(t,i,a,o))}switch(n){case"input":Zr(t),wa(t,r,!1);break;case"textarea":Zr(t),_a(t);break;case"option":r.value!=null&&t.setAttribute("value",""+At(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)Ld(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Yt(Rr.current),Yt(tt.current),as(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ze]=e,(i=r.nodeValue!==n)&&(t=Ce,t!==null))switch(t.tag){case 3:ls(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ls(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=e,e.stateNode=r}return he(e),null;case 13:if(W(H),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&Ne!==null&&e.mode&1&&!(e.flags&128))ed(),zn(),e.flags|=98560,i=!1;else if(i=as(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Ze]=e}else zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else He!==null&&(Xo(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||H.current&1?se===0&&(se=3):ea())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Fn(),Vo(t,e),t===null&&Pr(e.stateNode.containerInfo),he(e),null;case 10:return Ul(e.type._context),he(e),null;case 17:return be(e.type)&&zs(),he(e),null;case 19:if(W(H),i=e.memoizedState,i===null)return he(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)nr(i,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qs(t),o!==null){for(e.flags|=128,nr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return F(H,H.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Wn&&(e.flags|=128,r=!0,nr(i,!1),e.lanes=4194304)}else{if(!r)if(t=qs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return he(e),null}else 2*X()-i.renderingStartTime>Wn&&n!==1073741824&&(e.flags|=128,r=!0,nr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,n=H.current,F(H,r?n&1|2:n&1),e):(he(e),null);case 22:case 23:return Zl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ee&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Dp(t,e){switch(Al(e),e.tag){case 1:return be(e.type)&&zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fn(),W(Se),W(pe),Bl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fl(e),null;case 13:if(W(H),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(H),null;case 4:return Fn(),null;case 10:return Ul(e.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var ds=!1,fe=!1,zp=typeof WeakSet=="function"?WeakSet:Set,C=null;function Cn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function Ho(t,e,n){try{n()}catch(r){J(t,e,r)}}var cu=!1;function Mp(t,e){if(Co=$s,t=Fc(),Ol(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(To={focusedElem:t,selectionRange:n},$s=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,j=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Be(e.type,_),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){J(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=cu,cu=!1,y}function gr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ho(e,n,i)}s=s.next}while(s!==r)}}function hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ud(t){var e=t.alternate;e!==null&&(t.alternate=null,Ud(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ze],delete e[Ir],delete e[Io],delete e[kp],delete e[Sp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dd(t){return t.tag===5||t.tag===3||t.tag===4}function du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ko(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ds));else if(r!==4&&(t=t.child,t!==null))for(Ko(t,e,n),t=t.sibling;t!==null;)Ko(t,e,n),t=t.sibling}function Go(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Go(t,e,n),t=t.sibling;t!==null;)Go(t,e,n),t=t.sibling}var le=null,We=!1;function mt(t,e,n){for(n=n.child;n!==null;)zd(t,e,n),n=n.sibling}function zd(t,e,n){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:fe||Cn(n,e);case 6:var r=le,s=We;le=null,mt(t,e,n),le=r,We=s,le!==null&&(We?(t=le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(We?(t=le,n=n.stateNode,t.nodeType===8?Fi(t.parentNode,n):t.nodeType===1&&Fi(t,n),Nr(t)):Fi(le,n.stateNode));break;case 4:r=le,s=We,le=n.stateNode.containerInfo,We=!0,mt(t,e,n),le=r,We=s;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ho(n,e,o),s=s.next}while(s!==r)}mt(t,e,n);break;case 1:if(!fe&&(Cn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}mt(t,e,n);break;case 21:mt(t,e,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,mt(t,e,n),fe=r):mt(t,e,n);break;default:mt(t,e,n)}}function hu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zp),e.forEach(function(r){var s=Jp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Me(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,We=!1;break e;case 3:le=l.stateNode.containerInfo,We=!0;break e;case 4:le=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(le===null)throw Error(S(160));zd(i,o,s),le=null,We=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){J(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Md(e,t),e=e.sibling}function Md(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Me(e,t),Qe(t),r&4){try{gr(3,t,t.return),hi(3,t)}catch(_){J(t,t.return,_)}try{gr(5,t,t.return)}catch(_){J(t,t.return,_)}}break;case 1:Me(e,t),Qe(t),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Me(e,t),Qe(t),r&512&&n!==null&&Cn(n,n.return),t.flags&32){var s=t.stateNode;try{Sr(s,"")}catch(_){J(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ac(s,i),yo(l,o);var u=yo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?fc(s,h):d==="dangerouslySetInnerHTML"?dc(s,h):d==="children"?Sr(s,h):yl(s,d,h,u)}switch(l){case"input":fo(s,i);break;case"textarea":uc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Pn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Pn(s,!!i.multiple,i.defaultValue,!0):Pn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ir]=i}catch(_){J(t,t.return,_)}}break;case 6:if(Me(e,t),Qe(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){J(t,t.return,_)}}break;case 3:if(Me(e,t),Qe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nr(e.containerInfo)}catch(_){J(t,t.return,_)}break;case 4:Me(e,t),Qe(t);break;case 13:Me(e,t),Qe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yl=X())),r&4&&hu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(u=fe)||d,Me(e,t),fe=u):Me(e,t),Qe(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(f=C,v=f.child,f.tag){case 0:case 11:case 14:case 15:gr(4,f,f.return);break;case 1:Cn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){J(r,n,_)}}break;case 5:Cn(f,f.return);break;case 22:if(f.memoizedState!==null){pu(h);continue}}v!==null?(v.return=f,C=v):pu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=hc("display",o))}catch(_){J(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){J(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Me(e,t),Qe(t),r&4&&hu(t);break;case 21:break;default:Me(e,t),Qe(t)}}function Qe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dd(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sr(s,""),r.flags&=-33);var i=du(t);Go(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=du(t);Ko(t,l,o);break;default:throw Error(S(161))}}catch(a){J(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fp(t,e,n){C=t,Fd(t)}function Fd(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ds;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||fe;l=ds;var u=fe;if(ds=o,(fe=a)&&!u)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?mu(s):a!==null?(a.return=o,C=a):mu(s);for(;i!==null;)C=i,Fd(i),i=i.sibling;C=s,ds=l,fe=u}fu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):fu(t)}}function fu(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||hi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Be(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ya(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ya(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Nr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}fe||e.flags&512&&qo(e)}catch(f){J(e,e.return,f)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function pu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function mu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hi(4,e)}catch(a){J(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){J(e,s,a)}}var i=e.return;try{qo(e)}catch(a){J(e,i,a)}break;case 5:var o=e.return;try{qo(e)}catch(a){J(e,o,a)}}}catch(a){J(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Bp=Math.ceil,Js=pt.ReactCurrentDispatcher,Jl=pt.ReactCurrentOwner,$e=pt.ReactCurrentBatchConfig,D=0,oe=null,Z=null,ae=0,Ee=0,Tn=Lt(0),se=0,Dr=null,rn=0,fi=0,Ql=0,vr=null,xe=null,Yl=0,Wn=1/0,st=null,Qs=!1,Jo=null,Pt=null,hs=!1,bt=null,Ys=0,yr=0,Qo=null,Ns=-1,Cs=0;function ve(){return D&6?X():Ns!==-1?Ns:Ns=X()}function Ot(t){return t.mode&1?D&2&&ae!==0?ae&-ae:jp.transition!==null?(Cs===0&&(Cs=jc()),Cs):(t=z,t!==0||(t=window.event,t=t===void 0?16:Ic(t.type)),t):1}function Ke(t,e,n,r){if(50<yr)throw yr=0,Qo=null,Error(S(185));Br(t,n,r),(!(D&2)||t!==oe)&&(t===oe&&(!(D&2)&&(fi|=n),se===4&&_t(t,ae)),je(t,r),n===1&&D===0&&!(e.mode&1)&&(Wn=X()+500,ui&&Ut()))}function je(t,e){var n=t.callbackNode;jf(t,e);var r=Rs(t,t===oe?ae:0);if(r===0)n!==null&&ba(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ba(n),e===1)t.tag===0?bp(gu.bind(null,t)):Yc(gu.bind(null,t)),xp(function(){!(D&6)&&Ut()}),n=null;else{switch(Ec(r)){case 1:n=Sl;break;case 4:n=Sc;break;case 16:n=As;break;case 536870912:n=bc;break;default:n=As}n=Jd(n,Bd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bd(t,e){if(Ns=-1,Cs=0,D&6)throw Error(S(327));var n=t.callbackNode;if($n()&&t.callbackNode!==n)return null;var r=Rs(t,t===oe?ae:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xs(t,r);else{e=r;var s=D;D|=2;var i=Vd();(oe!==t||ae!==e)&&(st=null,Wn=X()+500,Xt(t,e));do try{Hp();break}catch(l){Wd(t,l)}while(!0);Ll(),Js.current=i,D=s,Z!==null?e=0:(oe=null,ae=0,e=se)}if(e!==0){if(e===2&&(s=So(t),s!==0&&(r=s,e=Yo(t,s))),e===1)throw n=Dr,Xt(t,0),_t(t,r),je(t,X()),n;if(e===6)_t(t,r);else{if(s=t.current.alternate,!(r&30)&&!Wp(s)&&(e=Xs(t,r),e===2&&(i=So(t),i!==0&&(r=i,e=Yo(t,i))),e===1))throw n=Dr,Xt(t,0),_t(t,r),je(t,X()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:qt(t,xe,st);break;case 3:if(_t(t,r),(r&130023424)===r&&(e=Yl+500-X(),10<e)){if(Rs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oo(qt.bind(null,t,xe,st),e);break}qt(t,xe,st);break;case 4:if(_t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bp(r/1960))-r,10<r){t.timeoutHandle=Oo(qt.bind(null,t,xe,st),r);break}qt(t,xe,st);break;case 5:qt(t,xe,st);break;default:throw Error(S(329))}}}return je(t,X()),t.callbackNode===n?Bd.bind(null,t):null}function Yo(t,e){var n=vr;return t.current.memoizedState.isDehydrated&&(Xt(t,e).flags|=256),t=Xs(t,e),t!==2&&(e=xe,xe=n,e!==null&&Xo(e)),t}function Xo(t){xe===null?xe=t:xe.push.apply(xe,t)}function Wp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Ql,e&=~fi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qe(e),r=1<<n;t[n]=-1,e&=~r}}function gu(t){if(D&6)throw Error(S(327));$n();var e=Rs(t,0);if(!(e&1))return je(t,X()),null;var n=Xs(t,e);if(t.tag!==0&&n===2){var r=So(t);r!==0&&(e=r,n=Yo(t,r))}if(n===1)throw n=Dr,Xt(t,0),_t(t,e),je(t,X()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,xe,st),je(t,X()),null}function Xl(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(Wn=X()+500,ui&&Ut())}}function sn(t){bt!==null&&bt.tag===0&&!(D&6)&&$n();var e=D;D|=1;var n=$e.transition,r=z;try{if($e.transition=null,z=1,t)return t()}finally{z=r,$e.transition=n,D=e,!(D&6)&&Ut()}}function Zl(){Ee=Tn.current,W(Tn)}function Xt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wp(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(Al(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zs();break;case 3:Fn(),W(Se),W(pe),Bl();break;case 5:Fl(r);break;case 4:Fn();break;case 13:W(H);break;case 19:W(H);break;case 10:Ul(r.type._context);break;case 22:case 23:Zl()}n=n.return}if(oe=t,Z=t=It(t.current,null),ae=Ee=e,se=0,Dr=null,Ql=fi=rn=0,xe=vr=null,Qt!==null){for(e=0;e<Qt.length;e++)if(n=Qt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qt=null}return t}function Wd(t,e){do{var n=Z;try{if(Ll(),bs.current=Gs,Ks){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ks=!1}if(nn=0,ie=re=q=null,mr=!1,$r=0,Jl.current=null,n===null||n.return===null){se=1,Dr=e,Z=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ru(o);if(v!==null){v.flags&=-257,su(v,o,l,i,e),v.mode&1&&nu(i,u,e),e=v,a=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(a),e.updateQueue=_}else y.add(a);break e}else{if(!(e&1)){nu(i,u,e),ea();break e}a=Error(S(426))}}else if(V&&l.mode&1){var j=ru(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),su(j,o,l,i,e),Rl(Bn(a,l));break e}}i=a=Bn(a,l),se!==4&&(se=2),vr===null?vr=[i]:vr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ed(i,a,e);Qa(i,g);break e;case 1:l=a;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pt===null||!Pt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Nd(i,l,e);Qa(i,w);break e}}i=i.return}while(i!==null)}qd(n)}catch(b){e=b,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function Vd(){var t=Js.current;return Js.current=Gs,t===null?Gs:t}function ea(){(se===0||se===3||se===2)&&(se=4),oe===null||!(rn&268435455)&&!(fi&268435455)||_t(oe,ae)}function Xs(t,e){var n=D;D|=2;var r=Vd();(oe!==t||ae!==e)&&(st=null,Xt(t,e));do try{Vp();break}catch(s){Wd(t,s)}while(!0);if(Ll(),D=n,Js.current=r,Z!==null)throw Error(S(261));return oe=null,ae=0,se}function Vp(){for(;Z!==null;)Hd(Z)}function Hp(){for(;Z!==null&&!gf();)Hd(Z)}function Hd(t){var e=Gd(t.alternate,t,Ee);t.memoizedProps=t.pendingProps,e===null?qd(t):Z=e,Jl.current=null}function qd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Dp(n,e),n!==null){n.flags&=32767,Z=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,Z=null;return}}else if(n=Up(n,e,Ee),n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);se===0&&(se=5)}function qt(t,e,n){var r=z,s=$e.transition;try{$e.transition=null,z=1,qp(t,e,n,r)}finally{$e.transition=s,z=r}return null}function qp(t,e,n,r){do $n();while(bt!==null);if(D&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ef(t,i),t===oe&&(Z=oe=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,Jd(As,function(){return $n(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var o=z;z=1;var l=D;D|=4,Jl.current=null,Mp(t,n),Md(n,t),hp(To),$s=!!Co,To=Co=null,t.current=n,Fp(n),vf(),D=l,z=o,$e.transition=i}else t.current=n;if(hs&&(hs=!1,bt=t,Ys=s),i=t.pendingLanes,i===0&&(Pt=null),xf(n.stateNode),je(t,X()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qs)throw Qs=!1,t=Jo,Jo=null,t;return Ys&1&&t.tag!==0&&$n(),i=t.pendingLanes,i&1?t===Qo?yr++:(yr=0,Qo=t):yr=0,Ut(),null}function $n(){if(bt!==null){var t=Ec(Ys),e=$e.transition,n=z;try{if($e.transition=null,z=16>t?16:t,bt===null)var r=!1;else{if(t=bt,bt=null,Ys=0,D&6)throw Error(S(331));var s=D;for(D|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(C=u;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:gr(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var f=d.sibling,v=d.return;if(Ud(d),d===u){C=null;break}if(f!==null){f.return=v,C=f;break}C=v}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var p=t.current;for(C=p;C!==null;){o=C;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,C=m;else e:for(o=p;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(b){J(l,l.return,b)}if(l===o){C=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,C=w;break e}C=l.return}}if(D=s,Ut(),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(si,t)}catch{}r=!0}return r}finally{z=n,$e.transition=e}}return!1}function vu(t,e,n){e=Bn(n,e),e=Ed(t,e,1),t=Tt(t,e,1),e=ve(),t!==null&&(Br(t,1,e),je(t,e))}function J(t,e,n){if(t.tag===3)vu(t,t,n);else for(;e!==null;){if(e.tag===3){vu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){t=Bn(n,t),t=Nd(e,t,1),e=Tt(e,t,1),t=ve(),e!==null&&(Br(e,1,t),je(e,t));break}}e=e.return}}function Kp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ve(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ae&n)===n&&(se===4||se===3&&(ae&130023424)===ae&&500>X()-Yl?Xt(t,0):Ql|=n),je(t,e)}function Kd(t,e){e===0&&(t.mode&1?(e=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):e=1);var n=ve();t=ht(t,e),t!==null&&(Br(t,e,n),je(t,n))}function Gp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kd(t,n)}function Jp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Kd(t,n)}var Gd;Gd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,Lp(t,e,n);ke=!!(t.flags&131072)}else ke=!1,V&&e.flags&1048576&&Xc(e,Bs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Es(t,e),t=e.pendingProps;var s=Dn(e,pe.current);Rn(e,n),s=Vl(null,e,r,t,s,n);var i=Hl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(i=!0,Ms(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zl(e),s.updater=di,e.stateNode=s,s._reactInternals=e,Do(e,r,t,n),e=Fo(null,e,r,!0,i,n)):(e.tag=0,V&&i&&Il(e),ge(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Es(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Yp(r),t=Be(r,t),s){case 0:e=Mo(null,e,r,t,n);break e;case 1:e=lu(null,e,r,t,n);break e;case 11:e=iu(null,e,r,t,n);break e;case 14:e=ou(null,e,r,Be(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Mo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),lu(t,e,r,s,n);case 3:e:{if(Od(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,sd(t,e),Hs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bn(Error(S(423)),e),e=au(t,e,r,n,s);break e}else if(r!==s){s=Bn(Error(S(424)),e),e=au(t,e,r,n,s);break e}else for(Ne=Ct(e.stateNode.containerInfo.firstChild),Ce=e,V=!0,He=null,n=nd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){e=ft(t,e,n);break e}ge(t,e,r,n)}e=e.child}return e;case 5:return id(e),t===null&&$o(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Po(r,s)?o=null:i!==null&&Po(r,i)&&(e.flags|=32),Pd(t,e),ge(t,e,o,n),e.child;case 6:return t===null&&$o(e),null;case 13:return Id(t,e,n);case 4:return Ml(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mn(e,null,r,n):ge(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),iu(t,e,r,s,n);case 7:return ge(t,e,e.pendingProps,n),e.child;case 8:return ge(t,e,e.pendingProps.children,n),e.child;case 12:return ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(Ws,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!Se.current){e=ft(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ut(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ge(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rn(e,n),s=Ue(s),r=r(s),e.flags|=1,ge(t,e,r,n),e.child;case 14:return r=e.type,s=Be(r,e.pendingProps),s=Be(r.type,s),ou(t,e,r,s,n);case 15:return Cd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Es(t,e),e.tag=1,be(r)?(t=!0,Ms(e)):t=!1,Rn(e,n),jd(e,r,s),Do(e,r,s,n),Fo(null,e,r,!0,t,n);case 19:return Ad(t,e,n);case 22:return Td(t,e,n)}throw Error(S(156,e.tag))};function Jd(t,e){return kc(t,e)}function Qp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Re(t,e,n,r){return new Qp(t,e,n,r)}function ta(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yp(t){if(typeof t=="function")return ta(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xl)return 11;if(t===_l)return 14}return 2}function It(t,e){var n=t.alternate;return n===null?(n=Re(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ts(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ta(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wn:return Zt(n.children,s,i,e);case wl:o=8,s|=8;break;case lo:return t=Re(12,n,e,s|2),t.elementType=lo,t.lanes=i,t;case ao:return t=Re(13,n,e,s),t.elementType=ao,t.lanes=i,t;case uo:return t=Re(19,n,e,s),t.elementType=uo,t.lanes=i,t;case ic:return pi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rc:o=10;break e;case sc:o=9;break e;case xl:o=11;break e;case _l:o=14;break e;case yt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Re(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zt(t,e,n,r){return t=Re(7,t,r,e),t.lanes=n,t}function pi(t,e,n,r){return t=Re(22,t,r,e),t.elementType=ic,t.lanes=n,t.stateNode={isHidden:!1},t}function Ji(t,e,n){return t=Re(6,t,null,e),t.lanes=n,t}function Qi(t,e,n){return e=Re(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function na(t,e,n,r,s,i,o,l,a){return t=new Xp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Re(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(i),t}function Zp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qd(t){if(!t)return Rt;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(be(n))return Qc(t,n,e)}return e}function Yd(t,e,n,r,s,i,o,l,a){return t=na(n,r,!0,t,s,i,o,l,a),t.context=Qd(null),n=t.current,r=ve(),s=Ot(n),i=ut(r,s),i.callback=e??null,Tt(n,i,s),t.current.lanes=s,Br(t,s,r),je(t,r),t}function mi(t,e,n,r){var s=e.current,i=ve(),o=Ot(s);return n=Qd(n),e.context===null?e.context=n:e.pendingContext=n,e=ut(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tt(s,e,o),t!==null&&(Ke(t,s,o,i),Ss(t,s,o)),o}function Zs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ra(t,e){yu(t,e),(t=t.alternate)&&yu(t,e)}function em(){return null}var Xd=typeof reportError=="function"?reportError:function(t){console.error(t)};function sa(t){this._internalRoot=t}gi.prototype.render=sa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));mi(t,e,null,null)};gi.prototype.unmount=sa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sn(function(){mi(null,t,null,null)}),e[dt]=null}};function gi(t){this._internalRoot=t}gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&Oc(t)}};function ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wu(){}function tm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Zs(o);i.call(u)}}var o=Yd(e,r,t,0,null,!1,!1,"",wu);return t._reactRootContainer=o,t[dt]=o.current,Pr(t.nodeType===8?t.parentNode:t),sn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Zs(a);l.call(u)}}var a=na(t,0,!1,null,null,!1,!1,"",wu);return t._reactRootContainer=a,t[dt]=a.current,Pr(t.nodeType===8?t.parentNode:t),sn(function(){mi(e,a,n,r)}),a}function yi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Zs(o);l.call(a)}}mi(e,o,t,s)}else o=tm(n,e,t,s,r);return Zs(o)}Nc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lr(e.pendingLanes);n!==0&&(bl(e,n|1),je(e,X()),!(D&6)&&(Wn=X()+500,Ut()))}break;case 13:sn(function(){var r=ht(t,1);if(r!==null){var s=ve();Ke(r,t,1,s)}}),ra(t,1)}};jl=function(t){if(t.tag===13){var e=ht(t,134217728);if(e!==null){var n=ve();Ke(e,t,134217728,n)}ra(t,134217728)}};Cc=function(t){if(t.tag===13){var e=Ot(t),n=ht(t,e);if(n!==null){var r=ve();Ke(n,t,e,r)}ra(t,e)}};Tc=function(){return z};Pc=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};xo=function(t,e,n){switch(e){case"input":if(fo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ai(r);if(!s)throw Error(S(90));lc(r),fo(r,s)}}}break;case"textarea":uc(t,n);break;case"select":e=n.value,e!=null&&Pn(t,!!n.multiple,e,!1)}};gc=Xl;vc=sn;var nm={usingClientEntryPoint:!1,Events:[Vr,Sn,ai,pc,mc,Xl]},rr={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rm={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xc(t),t===null?null:t.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{si=fs.inject(rm),et=fs}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nm;Pe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ia(e))throw Error(S(200));return Zp(t,e,null,n)};Pe.createRoot=function(t,e){if(!ia(t))throw Error(S(299));var n=!1,r="",s=Xd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=na(t,1,!1,null,null,n,!1,r,s),t[dt]=e.current,Pr(t.nodeType===8?t.parentNode:t),new sa(e)};Pe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=xc(e),t=t===null?null:t.stateNode,t};Pe.flushSync=function(t){return sn(t)};Pe.hydrate=function(t,e,n){if(!vi(e))throw Error(S(200));return yi(null,t,e,!0,n)};Pe.hydrateRoot=function(t,e,n){if(!ia(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Xd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yd(e,null,t,1,n??null,s,!1,i,o),t[dt]=e.current,Pr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gi(e)};Pe.render=function(t,e,n){if(!vi(e))throw Error(S(200));return yi(null,t,e,!1,n)};Pe.unmountComponentAtNode=function(t){if(!vi(t))throw Error(S(40));return t._reactRootContainer?(sn(function(){yi(null,null,t,!1,function(){t._reactRootContainer=null,t[dt]=null})}),!0):!1};Pe.unstable_batchedUpdates=Xl;Pe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vi(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return yi(t,e,n,!1,r)};Pe.version="18.3.1-next-f1338f8080-20240426";function Zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zd)}catch(t){console.error(t)}}Zd(),Zu.exports=Pe;var sm=Zu.exports,eh,xu=sm;eh=xu.createRoot,xu.hydrateRoot;const im="modulepreload",om=function(t){return"/"+t},_u={},qr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=om(a),a in _u)return;_u[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":im,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},lm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class oa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class am extends oa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ku extends oa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Su extends oa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zo||(Zo={}));var um=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class cm{constructor(e,{headers:n={},customFetch:r,region:s=Zo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=lm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return um(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new am(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new ku(h);if(!h.ok)throw new Su(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Su||s instanceof ku?s.context:void 0}}})}}var _e={},la={},wi={},Kr={},xi={},_i={},dm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vn=dm();const hm=Vn.fetch,th=Vn.fetch.bind(Vn),nh=Vn.Headers,fm=Vn.Request,pm=Vn.Response,Gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:nh,Request:fm,Response:pm,default:th,fetch:hm},Symbol.toStringTag,{value:"Module"})),mm=Oh(Gn);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});let gm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ki.default=gm;var rh=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const vm=rh(mm),ym=rh(ki);let wm=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let d=null,h=null,f=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&j===""?(v=204,y="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new ym.default(d)}return{error:d,data:h,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};_i.default=wm;var xm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});const _m=xm(_i);let km=class extends _m.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};xi.default=km;var Sm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});const bm=Sm(xi);let jm=class extends bm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Kr.default=jm;var Em=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const sr=Em(Kr);let Nm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new sr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new sr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};wi.default=Nm;var sh=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});const Cm=sh(wi),Tm=sh(Kr);let Pm=class ih{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Cm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ih(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Tm.default({method:l,url:a,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};la.default=Pm;var Jn=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const oh=Jn(la);_e.PostgrestClient=oh.default;const lh=Jn(wi);_e.PostgrestQueryBuilder=lh.default;const ah=Jn(Kr);_e.PostgrestFilterBuilder=ah.default;const uh=Jn(xi);_e.PostgrestTransformBuilder=uh.default;const ch=Jn(_i);_e.PostgrestBuilder=ch.default;const dh=Jn(ki);_e.PostgrestError=dh.default;var Om=_e.default={PostgrestClient:oh.default,PostgrestQueryBuilder:lh.default,PostgrestFilterBuilder:ah.default,PostgrestTransformBuilder:uh.default,PostgrestBuilder:ch.default,PostgrestError:dh.default};const{PostgrestClient:Im,PostgrestQueryBuilder:qg,PostgrestFilterBuilder:Kg,PostgrestTransformBuilder:Gg,PostgrestBuilder:Jg,PostgrestError:Qg}=Om;class Am{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Rm="2.15.5",$m=`realtime-js/${Rm}`,Lm="1.0.0",el=1e4,Um=1e3,Dm=100;var wr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wr||(wr={}));var te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(te||(te={}));var Ve;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ve||(Ve={}));var tl;(function(t){t.websocket="websocket"})(tl||(tl={}));var Gt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gt||(Gt={}));class zm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class hh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(M||(M={}));const bu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Mm(o,t,e,s),i),{})},Mm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?fh(i,o):nl(o)},fh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Vm(e,n)}switch(t){case M.bool:return Fm(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return Bm(e);case M.json:case M.jsonb:return Wm(e);case M.timestamp:return Hm(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return nl(e);default:return nl(e)}},nl=t=>t,Fm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Bm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Vm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>fh(e,l))}return t},Hm=t=>typeof t=="string"?t.replace(" ","T"):t,ph=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Yi{constructor(e,n,r={},s=el){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ju;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ju||(ju={}));class xr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=xr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),y=d.filter(j=>v.indexOf(j.presence_ref)<0),_=h.filter(j=>f.indexOf(j.presence_ref)<0);y.length>0&&(l[u]=y),_.length>0&&(a[u]=_)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Eu||(Eu={}));var _r;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_r||(_r={}));var it;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class aa{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yi(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new hh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xr(this),this.broadcastEndpointURL=ph(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[_r.PRESENCE]&&this.bindings[_r.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(it.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(it.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(it.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<j;p++){const m=_[p],{filter:{event:w,schema:b,table:x,filter:k}}=m,N=v&&v[p];if(N&&N.event===w&&N.schema===b&&N.table===x&&N.filter===k)g.push(Object.assign(Object.assign({},m),{id:N.id}));else{this.unsubscribe(),this.state=te.errored,e==null||e(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(it.SUBSCRIBED);return}}).receive("error",v=>{this.state=te.errored,e==null||e(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===te.joined&&e===_r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Yi(this,Ve.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yi(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Dm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Ve;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,j;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,_,j,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,b=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:j,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(f,r)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&aa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bu(e.columns,e.old_record)),n}}const Xi=()=>{},ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qm=[1e3,2e3,5e3,1e4],Km=1e4,Gm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=el,this.transport=null,this.heartbeatIntervalMs=ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xi,this.ref=0,this.reconnectTimer=null,this.logger=Xi,this.conn=null,this.sendBuffer=[],this.serializer=new zm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>qr(async()=>{const{default:l}=await Promise.resolve().then(()=>Gn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${tl.websocket}`,this.httpEndpoint=ph(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Am.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Gt.Connecting;case wr.open:return Gt.Open;case wr.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new aa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Um,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Gm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:$m};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ve.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new hh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:el,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ps.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Xi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>qm[h-1]||Km,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ua extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qm extends ua{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rl extends ua{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ym=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const mh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xm=()=>Ym(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qr(()=>Promise.resolve().then(()=>Gn),void 0)).Response:Response}),sl=t=>{if(Array.isArray(t))return t.map(n=>sl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sl(r)}),e},Zm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var an=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Zi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e0=(t,e,n)=>an(void 0,void 0,void 0,function*(){const r=yield Xm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Qm(Zi(s),i,o))}).catch(s=>{e(new rl(Zi(s),s))}):e(new rl(Zi(t),t))}),t0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Zm(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Gr(t,e,n,r,s,i){return an(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,t0(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>e0(a,l,r))})})}function ei(t,e,n,r){return an(this,void 0,void 0,function*(){return Gr(t,"GET",e,n,r)})}function Xe(t,e,n,r,s){return an(this,void 0,void 0,function*(){return Gr(t,"POST",e,r,s,n)})}function il(t,e,n,r,s){return an(this,void 0,void 0,function*(){return Gr(t,"PUT",e,r,s,n)})}function n0(t,e,n,r){return an(this,void 0,void 0,function*(){return Gr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gh(t,e,n,r,s){return an(this,void 0,void 0,function*(){return Gr(t,"DELETE",e,r,s,n)})}var me=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const r0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=mh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Nu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?il:Xe)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}upload(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Nu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield il(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ne(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ua("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}update(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}copy(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return me(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}download(e,n){return me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ei(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}info(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ei(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}exists(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield n0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r)&&r instanceof rl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}list(e,n,r){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},r0),n),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}listV2(e,n){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const i0="2.12.1",o0={"X-Client-Info":`storage-js/${i0}`};var dn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class l0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},o0),n),this.fetch=mh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return dn(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return dn(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return dn(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return dn(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return dn(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}deleteBucket(e){return dn(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}}class a0 extends l0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new s0(this.url,this.headers,e,this.fetch)}}const u0="2.57.4";let ur="";typeof Deno<"u"?ur="deno":typeof document<"u"?ur="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ur="react-native":ur="node";const c0={"X-Client-Info":`supabase-js-${ur}/${u0}`},d0={headers:c0},h0={schema:"public"},f0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p0={};var m0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const g0=t=>{let e;return t?e=t:typeof fetch>"u"?e=th:e=fetch,(...n)=>e(...n)},v0=()=>typeof Headers>"u"?nh:Headers,y0=(t,e,n)=>{const r=g0(n),s=v0();return(i,o)=>m0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var w0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function x0(t){return t.endsWith("/")?t:t+"/"}function _0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>w0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function k0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vh="2.71.1",gn=30*1e3,ol=3,eo=ol*gn,S0="http://localhost:9999",b0="supabase.auth.token",j0={"X-Client-Info":`gotrue-js/${vh}`},ll="X-Supabase-Api-Version",yh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N0=10*60*1e3;class ca extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class C0 extends ca{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T0(t){return I(t)&&t.name==="AuthApiError"}class wh extends ca{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Dt extends ca{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class vt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function P0(t){return I(t)&&t.name==="AuthSessionMissingError"}class ms extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gs extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vs extends Dt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O0(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cu extends Dt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class al extends Dt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function to(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Tu extends Dt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ul extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pu=` 	
\r=`.split(""),I0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pu.length;e+=1)t[Pu[e].charCodeAt(0)]=-2;for(let e=0;e<ti.length;e+=1)t[ti[e].charCodeAt(0)]=e;return t})();function Ou(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ti[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ti[r]),e.queuedBits-=6}}function xh(t,e,n){const r=I0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{$0(o,r,n)};for(let o=0;o<t.length;o+=1)xh(t.charCodeAt(o),s,i);return e.join("")}function A0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function R0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}A0(r,e)}}function $0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function L0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)xh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function U0(t){const e=[];return R0(t,n=>e.push(n)),new Uint8Array(e)}function D0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ou(s,n,r)),Ou(null,n,r),e.join("")}function z0(t){return Math.round(Date.now()/1e3)+t}function M0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},_h=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function F0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},B0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(t,e)=>{await t.removeItem(e)};class Si{constructor(){this.promise=new Si.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Si.promiseConstructor=Promise;function no(t){const e=t.split(".");if(e.length!==3)throw new ul("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!E0.test(e[r]))throw new ul("JWT not in base64url format");return{header:JSON.parse(Iu(e[0])),payload:JSON.parse(Iu(e[1])),signature:L0(e[2]),raw:{header:e[0],payload:e[1]}}}async function W0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function V0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function H0(t){return("0"+t.toString(16)).substr(-2)}function q0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,H0).join("")}async function K0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function G0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await K0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hn(t,e,n=!1){const r=q0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vn(t,`${e}-code-verifier`,s);const i=await G0(r);return[i,r===i?"plain":"s256"]}const J0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q0(t){const e=t.headers.get(ll);if(!e||!e.match(J0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Y0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function X0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fn(t){if(!Z0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ro(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Au(t){return JSON.parse(JSON.stringify(t))}var eg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tg=[502,503,504];async function Ru(t){var e;if(!B0(t))throw new al(Kt(t),0);if(tg.includes(t.status))throw new al(Kt(t),t.status);let n;try{n=await t.json()}catch(i){throw new wh(Kt(i),i)}let r;const s=Q0(t);if(s&&s.getTime()>=yh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tu(Kt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Tu(Kt(n),t.status,n.weak_password.reasons);throw new C0(Kt(n),t.status||500,r)}const ng=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function R(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ll]||(i[ll]=yh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await rg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function rg(t,e,n,r,s,i){const o=ng(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new al(Kt(a),0)}if(l.ok||await Ru(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Ru(a)}}function rt(t){var e;let n=null;lg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=z0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function $u(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sg(t){return{data:t,error:null}}function ig(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=eg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function og(t){return t}function lg(t){return t.access_token&&t.refresh_token&&t.expires_in}const so=["global","local","others"];var ag=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class ug{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=kh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=so[0]){if(so.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${so.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ag(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ig,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:og});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){fn(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){fn(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){fn(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){fn(e.userId);try{const{data:n,error:r}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){fn(e.userId),fn(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Lu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function cg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pn={debug:!!(globalThis&&_h()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dg extends Sh{}async function hg(t,e,n){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}cg();const fg={url:S0,storageKey:b0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uu(t,e,n){return await n()}const mn={};class zr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zr.nextInstanceID,zr.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},fg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ug({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kh(s.fetch),this.lock=s.lock||Uu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hg:this.lock=Uu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_h()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Lu(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=mn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=mn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=F0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?{error:n}:{error:new wh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await hn(this.storage,this.storageKey)),i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:rt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rt})}else throw new gs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$u})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$u})}else throw new gs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ms}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,d,h,f,v;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:j,wallet:g,statement:p,options:m}=e;let w;if(Fe())if(typeof g=="object")w=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))w=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const x=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let k;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")k=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)k=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),_=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const x=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=x}}try{const{data:j,error:g}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:D0(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ms}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(I(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rt});if(await gt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ms}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ms}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await hn(this.storage,this.storageKey));const{error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new gs("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hn(this.storage,this.storageKey)),await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:sg})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new vt;const{error:s}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await R(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await R(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new gs("You must provide either an email or phone number and a type")}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<eo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Vt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ro()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(n){if(I(n))return P0(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new vt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await hn(this.storage,this.storageKey));const{data:u,error:d}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:kt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=no(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(I(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(I(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Fe())throw new vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new vs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(I(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(T0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=M0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await hn(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(I(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await V0(async s=>(s>0&&await W0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&to(i)&&Date.now()+o-r<gn})}catch(r){if(this._debug(n,"error",r),I(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Vt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await vn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ro()}else if(s&&!s.user&&!s.user){const o=await Vt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await gt(this.storage,this.storageKey+"-user"),await vn(this.storage,this.storageKey,s)):s.user=ro()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<eo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${eo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),to(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Si;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return to(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await vn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Au(s);await vn(this.storage,this.storageKey,i)}else{const s=Au(n);await vn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gn}ms, refresh threshold is ${ol} ticks`),s<=ol&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await hn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await R(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=no(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+N0>s)return r;const{data:i,error:o}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=no(r);n!=null&&n.allowExpired||Y0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=X0(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,U0(`${l}.${a}`)))throw new ul("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}zr.nextInstanceID=0;const pg=zr;class mg extends pg{constructor(e){super(e)}}var gg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class vg{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=k0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:h0,realtime:p0,auth:Object.assign(Object.assign({},f0),{storageKey:a}),global:d0},d=_0(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=y0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Im(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new a0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return gg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mg({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Jm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yg=(t,e,n)=>new vg(t,e,n);function wg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xg="https://bhttzmtvjvvgunjeqahp.supabase.co",_g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJodHR6bXR2anZ2Z3VuamVxYWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MDUyNzAsImV4cCI6MjA4MTA4MTI3MH0.Y3vs4ZAmvA-BzgI-tvLbKP5eS1-LlX3TuI-5fnS5ljo",Q=yg(xg,_g),bh=P.createContext(void 0);function kg({children:t}){const[e,n]=P.useState(null),[r,s]=P.useState(null),[i,o]=P.useState(!0);P.useEffect(()=>{Q.auth.getSession().then(({data:{session:h}})=>{s(h),n((h==null?void 0:h.user)??null),o(!1)});const{data:{subscription:d}}=Q.auth.onAuthStateChange((h,f)=>{(async()=>(s(f),n((f==null?void 0:f.user)??null)))()});return()=>d.unsubscribe()},[]);const l=async(d,h)=>{try{const{error:f}=await Q.auth.signUp({email:d,password:h});return{error:f}}catch(f){return{error:f}}},a=async(d,h)=>{try{const{error:f}=await Q.auth.signInWithPassword({email:d,password:h});return{error:f}}catch(f){return{error:f}}},u=async()=>{await Q.auth.signOut()};return c.jsx(bh.Provider,{value:{user:e,session:r,loading:i,signUp:l,signIn:a,signOut:u},children:t})}function Jr(){const t=P.useContext(bh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>P.createElement("svg",{ref:d,...Sg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bg(t)}`,l].join(" "),...u},[...e.map(([h,f])=>P.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=G("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=G("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=G("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=G("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=G("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Ig(){const[t,e]=P.useState(!1),[n,r]=P.useState(""),[s,i]=P.useState(""),[o,l]=P.useState(null),[a,u]=P.useState(!1),{signIn:d,signUp:h}=Jr(),f=async v=>{v.preventDefault(),l(null),u(!0);const{error:y}=t?await h(n,s):await d(n,s);y&&l(y.message),u(!1)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-500 via-pink-400 to-orange-400 flex flex-col items-center justify-between p-6",children:[c.jsxs("div",{className:"w-full flex justify-between items-center pt-2",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-white rounded-full"}),c.jsx("div",{className:"text-white text-sm font-semibold",children:"9:41"})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-black text-white mb-4",style:{textShadow:"4px 4px 0px rgba(0,0,0,1)",letterSpacing:"-0.05em",transform:"rotate(-2deg)"},children:"NoCap"}),c.jsx("p",{className:"text-white text-base sm:text-lg md:text-xl font-bold px-4",children:"Detect fake content instantly"})]})}),c.jsx("div",{className:"w-full max-w-md space-y-4 mb-8",children:t?c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 space-y-4",children:[c.jsx("h2",{className:"text-2xl font-black text-gray-900 text-center mb-2",children:"Get Started!"}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&c.jsxs("div",{className:"bg-red-50 border-2 border-red-400 rounded-2xl p-3 flex items-start gap-3",children:[c.jsx(Mr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-800 font-semibold",children:o})]}),c.jsx("input",{type:"email",value:n,onChange:v=>r(v.target.value),required:!0,className:"w-full px-5 py-4 bg-gray-100 border-0 rounded-2xl font-semibold text-gray-900 placeholder-gray-500 focus:ring-4 focus:ring-pink-300 transition-all",placeholder:"Email"}),c.jsx("input",{type:"password",value:s,onChange:v=>i(v.target.value),required:!0,minLength:6,className:"w-full px-5 py-4 bg-gray-100 border-0 rounded-2xl font-semibold text-gray-900 placeholder-gray-500 focus:ring-4 focus:ring-pink-300 transition-all",placeholder:"Password (6+ characters)"}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white font-black py-4 px-6 rounded-full text-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:a?c.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin mx-auto"}):"Sign Up"}),c.jsx("button",{type:"button",onClick:()=>{e(!t),l(null)},className:"w-full text-center text-gray-600 font-bold text-sm hover:text-gray-900",children:"Already have an account? Sign in"})]})]}):c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 space-y-4",children:[c.jsx("h2",{className:"text-2xl font-black text-gray-900 text-center mb-2",children:"Welcome Back!"}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&c.jsxs("div",{className:"bg-red-50 border-2 border-red-400 rounded-2xl p-3 flex items-start gap-3",children:[c.jsx(Mr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-800 font-semibold",children:o})]}),c.jsx("input",{type:"email",value:n,onChange:v=>r(v.target.value),required:!0,className:"w-full px-5 py-4 bg-gray-100 border-0 rounded-2xl font-semibold text-gray-900 placeholder-gray-500 focus:ring-4 focus:ring-pink-300 transition-all",placeholder:"Email"}),c.jsx("input",{type:"password",value:s,onChange:v=>i(v.target.value),required:!0,minLength:6,className:"w-full px-5 py-4 bg-gray-100 border-0 rounded-2xl font-semibold text-gray-900 placeholder-gray-500 focus:ring-4 focus:ring-pink-300 transition-all",placeholder:"Password"}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white font-black py-4 px-6 rounded-full text-lg shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:a?c.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin mx-auto"}):"Sign In"}),c.jsx("button",{type:"button",onClick:()=>{e(!t),l(null)},className:"w-full text-center text-gray-600 font-bold text-sm hover:text-gray-900",children:"Don't have an account? Sign up"})]})]})})]})}function Ag({onScanComplete:t,onInsufficientTokens:e}){const[n,r]=P.useState(null),[s,i]=P.useState(null),[o,l]=P.useState(!1),[a,u]=P.useState(null),[d,h]=P.useState(!1),[f,v]=P.useState(0),y=P.useRef(null),{user:_}=Jr();P.useEffect(()=>{j()},[_]);const j=async()=>{if(!_)return;const{data:x}=await Q.from("token_balances").select("free_scans_used").eq("user_id",_.id).maybeSingle();x&&v(3-(x.free_scans_used||0))},g=x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?h(!0):x.type==="dragleave"&&h(!1)},p=x=>{x.preventDefault(),x.stopPropagation(),h(!1);const k=x.dataTransfer.files[0];k&&m(k)},m=x=>{if(!["image/jpeg","image/png","image/webp","video/mp4","video/webm"].includes(x.type)){u("Please upload a valid image (JPEG, PNG, WebP) or video (MP4, WebM) file");return}if(x.size>52428800){u("File size must be less than 50MB");return}if(r(x),u(null),x.type.startsWith("image/")){const L=new FileReader;L.onloadend=()=>{i(L.result)},L.readAsDataURL(x)}else i(null)},w=x=>{var N;const k=(N=x.target.files)==null?void 0:N[0];k&&m(k)},b=async()=>{if(!(!n||!_)){l(!0),u(null);try{const{data:x}=await Q.from("token_balances").select("balance, free_scans_used").eq("user_id",_.id).maybeSingle(),k=((x==null?void 0:x.free_scans_used)||0)<3,N=((x==null?void 0:x.balance)||0)>=100;if(!k&&!N){l(!1),e&&e();return}const L=n.name.split(".").pop(),A=`${_.id}/${Date.now()}.${L}`,{error:ce}=await Q.storage.from("scans").upload(A,n);if(ce)throw ce;const{data:{publicUrl:ze}}=Q.storage.from("scans").getPublicUrl(A),Je=n.type.startsWith("image/")?"image":"video",{data:nt,error:un}=await Q.from("scans").insert({user_id:_.id,file_name:n.name,file_type:Je,file_url:ze,file_size:n.size,status:"pending"}).select().single();if(un)throw un;const E=await fetch("https://bhttzmtvjvvgunjeqahp.supabase.co/functions/v1/analyze-content",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJodHR6bXR2anZ2Z3VuamVxYWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MDUyNzAsImV4cCI6MjA4MTA4MTI3MH0.Y3vs4ZAmvA-BzgI-tvLbKP5eS1-LlX3TuI-5fnS5ljo","Content-Type":"application/json"},body:JSON.stringify({scanId:nt.id,fileUrl:ze,fileType:Je})});if(E.status===402){const U=await E.json();await Q.from("scans").delete().eq("id",nt.id),await Q.storage.from("scans").remove([A]),l(!1),r(null),i(null),e?e():u("Insufficient tokens. Please purchase more tokens to continue scanning.");return}if(!E.ok)throw new Error("Failed to start analysis");const T=await E.json(),O=async()=>{const{data:U}=await Q.from("scans").select().eq("id",nt.id).single();if((U==null?void 0:U.status)==="completed")t(U,T.tokensRemaining,T.freeScansRemaining),v(T.freeScansRemaining||0),r(null),i(null),l(!1);else{if((U==null?void 0:U.status)==="failed")throw new Error(U.error_message||"Analysis failed");setTimeout(O,2e3)}};setTimeout(O,2e3)}catch(x){u(x instanceof Error?x.message:"Upload failed"),l(!1)}}};return c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-4 sm:p-6 md:p-8",children:[c.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-gray-900 mb-2 sm:mb-3",style:{textShadow:"2px 2px 0px rgba(255,192,203,0.3)"},children:"Scan Your Media"}),c.jsx("p",{className:"text-gray-700 font-semibold text-sm sm:text-base md:text-lg",children:"Upload to detect AI-generated content"})]}),a&&c.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[c.jsx(Mr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-800",children:a})]}),n?c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-6",children:c.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[s?c.jsx("img",{src:s,alt:"Preview",className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg flex-shrink-0"}):c.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.type.startsWith("image/")?c.jsx(Eh,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"}):c.jsx(Ch,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-sm sm:text-base text-gray-900 truncate",children:n.name}),c.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[(n.size/(1024*1024)).toFixed(2)," MB"]}),o&&c.jsxs("div",{className:"mt-2 sm:mt-3 flex items-center gap-2 text-pink-600",children:[c.jsx(Ln,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Analyzing..."})]})]})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsx("button",{onClick:b,disabled:o,className:"flex-1 bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white font-black py-3 sm:py-4 px-6 rounded-full text-base sm:text-lg shadow-lg transition-all transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?c.jsxs(c.Fragment,{children:[c.jsx(Ln,{className:"w-5 h-5 animate-spin"}),"Analyzing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ni,{className:"w-5 h-5"}),"Start Scan"]})}),!o&&c.jsx("button",{onClick:()=>{r(null),i(null),u(null)},className:"px-6 py-3 sm:py-4 border-2 border-gray-300 hover:bg-gray-100 text-gray-700 font-bold rounded-full transition-colors",children:"Cancel"})]})]}):c.jsxs("div",{onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:p,onClick:()=>{var x;return(x=y.current)==null?void 0:x.click()},className:`border-3 sm:border-4 border-dashed rounded-2xl sm:rounded-3xl p-8 sm:p-10 md:p-12 text-center cursor-pointer transition-all ${d?"border-pink-500 bg-pink-50":"border-gray-300 hover:border-pink-400 hover:bg-pink-50/50"}`,children:[c.jsx(cl,{className:"w-14 h-14 sm:w-16 md:w-20 sm:h-16 md:h-20 text-pink-500 mx-auto mb-3 sm:mb-4"}),c.jsx("p",{className:"text-lg sm:text-xl font-black text-gray-900 mb-2",children:"Drop your file here"}),c.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-600 mb-3 sm:mb-4",children:"Images (JPEG, PNG, WebP)  Videos (MP4, WebM)"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Max 50MB"}),c.jsx("input",{ref:y,type:"file",accept:"image/jpeg,image/png,image/webp,video/mp4,video/webm",onChange:w,className:"hidden"})]})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-3xl p-6 text-center shadow-xl",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-400 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:c.jsx(Mu,{className:"w-7 h-7 text-white"})}),c.jsx("h3",{className:"font-black text-gray-900 mb-1 text-lg",children:"Advanced AI"}),c.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Multiple detection algorithms"})]}),c.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-3xl p-6 text-center shadow-xl",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:c.jsx(ni,{className:"w-7 h-7 text-white"})}),c.jsx("h3",{className:"font-black text-gray-900 mb-1 text-lg",children:"Instant Results"}),c.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Get confidence scores fast"})]}),c.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-3xl p-6 text-center shadow-xl",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-pink-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:c.jsx(Mu,{className:"w-7 h-7 text-white"})}),c.jsx("h3",{className:"font-black text-gray-900 mb-1 text-lg",children:"Full History"}),c.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Review all past scans"})]})]})]})}function Rg({onViewScan:t}){const[e,n]=P.useState([]),[r,s]=P.useState(!0),[i,o]=P.useState(null),[l,a]=P.useState(null);P.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:f,error:v}=await Q.from("scans").select("*").order("created_at",{ascending:!1});if(v)throw v;n(f||[])}catch(f){o(f instanceof Error?f.message:"Failed to load scans")}finally{s(!1)}},d=async(f,v)=>{if(confirm("Are you sure you want to delete this scan?")){a(f);try{const y=v.split("/").slice(-2).join("/");await Q.storage.from("scans").remove([y]);const{error:_}=await Q.from("scans").delete().eq("id",f);if(_)throw _;n(e.filter(j=>j.id!==f))}catch(y){alert(y instanceof Error?y.message:"Failed to delete scan")}finally{a(null)}}},h=f=>f>=75?"text-red-600 bg-red-100":f>=50?"text-orange-600 bg-orange-100":f>=25?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100";return r?c.jsx("div",{className:"flex items-center justify-center py-16",children:c.jsx(Ln,{className:"w-8 h-8 text-blue-500 animate-spin"})}):i?c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 flex items-start gap-3",children:[c.jsx(Mr,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-red-900",children:"Error loading scans"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i})]})]}):e.length===0?c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Eh,{className:"w-10 h-10 text-gray-400"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No scans yet"}),c.jsx("p",{className:"text-gray-600",children:"Upload your first image or video to detect AI-generated content"})]}):c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-3xl font-black text-white mb-2",style:{textShadow:"3px 3px 0px rgba(0,0,0,0.2)"},children:"Your Scans"}),c.jsx("p",{className:"text-white/80 font-semibold",children:"View and manage all your scans"})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(f=>c.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl transition-all hover:scale-[1.02]",children:c.jsx("div",{className:"p-4 sm:p-6",children:c.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[f.file_type==="image"?c.jsx("img",{src:f.file_url,alt:f.file_name,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg flex-shrink-0"}):c.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(Ch,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4 mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-sm sm:text-base text-gray-900 truncate mb-1",children:f.file_name}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:new Date(f.created_at).toLocaleDateString()})]}),f.status==="completed"&&f.confidence_score!==null&&c.jsxs("div",{className:`px-2 sm:px-3 py-1 rounded-full font-semibold text-xs sm:text-sm flex-shrink-0 ${h(f.confidence_score)}`,children:[f.confidence_score.toFixed(0),"%"]})]}),f.status==="completed"&&c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${f.is_ai_generated?"bg-red-500":"bg-green-500"}`}),c.jsx("span",{className:"text-sm text-gray-700 font-medium",children:f.is_ai_generated?"Likely AI-Generated":"Likely Authentic"})]}),f.status==="processing"&&c.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-3",children:[c.jsx(Ln,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{className:"text-sm font-medium",children:"Analyzing..."})]}),f.status==="failed"&&c.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-3",children:[c.jsx(Mr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Analysis failed"})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("button",{onClick:()=>t(f),disabled:f.status!=="completed",className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white rounded-full font-bold text-sm sm:text-base transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[c.jsx(Ng,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"View"]}),c.jsxs("button",{onClick:()=>d(f.id,f.file_url),disabled:l===f.id,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-5 py-2 sm:py-2.5 border-2 border-red-400 hover:bg-red-50 text-red-600 rounded-full font-bold text-sm sm:text-base transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[l===f.id?c.jsx(Ln,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 animate-spin"}):c.jsx(Pg,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Delete"]})]})]})]})})},f.id))})]})}function $g({scan:t,onBack:e}){const n=l=>l>=75?"text-red-600":l>=50?"text-orange-600":l>=25?"text-yellow-600":"text-green-600",r=l=>l>=75?"bg-red-100":l>=50?"bg-orange-100":l>=25?"bg-yellow-100":"bg-green-100",s=l=>l>=75?"Very Likely AI-Generated":l>=50?"Possibly AI-Generated":l>=25?"Unlikely AI-Generated":"Likely Authentic",i=l=>{switch(l){case"high":return c.jsx(Th,{className:"w-5 h-5 text-red-600"});case"medium":return c.jsx(Du,{className:"w-5 h-5 text-orange-600"});case"low":return c.jsx(io,{className:"w-5 h-5 text-blue-600"});default:return c.jsx(io,{className:"w-5 h-5 text-gray-600"})}},o=t.confidence_score||0;return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("button",{onClick:e,className:"mb-6 flex items-center gap-2 bg-white/20 hover:bg-white/30 text-white font-bold px-4 py-2 rounded-full backdrop-blur-sm transition-all",children:[c.jsx(jg,{className:"w-5 h-5"}),"Back"]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 mb-6 sm:mb-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-gray-900 mb-2",style:{textShadow:"2px 2px 0px rgba(255,192,203,0.2)"},children:"Scan Results"}),c.jsx("p",{className:"text-sm sm:text-base text-gray-600 break-all",children:t.file_name}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:new Date(t.created_at).toLocaleString()})]}),t.file_type==="image"&&c.jsx("img",{src:t.file_url,alt:t.file_name,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg border border-gray-200 flex-shrink-0"})]}),c.jsxs("div",{className:"mb-6 sm:mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[c.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Confidence Score"}),c.jsxs("span",{className:`text-2xl sm:text-3xl font-bold ${n(o)}`,children:[o.toFixed(1),"%"]})]}),c.jsx("div",{className:"relative h-4 bg-gray-200 rounded-full overflow-hidden mb-3",children:c.jsx("div",{className:`absolute inset-y-0 left-0 transition-all duration-500 ${o>=75?"bg-red-500":o>=50?"bg-orange-500":o>=25?"bg-yellow-500":"bg-green-500"}`,style:{width:`${o}%`}})}),c.jsxs("div",{className:`${r(o)} rounded-lg p-4 flex items-center gap-3`,children:[t.is_ai_generated?c.jsx(Du,{className:`w-6 h-6 ${n(o)}`}):c.jsx(ni,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{children:[c.jsx("p",{className:`font-semibold ${n(o)}`,children:s(o)}),c.jsx("p",{className:"text-sm text-gray-700 mt-1",children:t.is_ai_generated?"This content shows indicators of being AI-generated":"This content appears to be authentic"})]})]})]}),t.artifacts&&t.artifacts.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detected Indicators"}),c.jsx("div",{className:"space-y-3",children:t.artifacts.map((l,a)=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex items-start gap-3 hover:bg-gray-50 transition-colors",children:[i(l.severity),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("p",{className:"font-medium text-gray-900 capitalize",children:l.type.replace(/_/g," ")}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.severity==="high"?"bg-red-100 text-red-700":l.severity==="medium"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:l.severity})]}),c.jsx("p",{className:"text-sm text-gray-600",children:l.description})]})]},a))})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"File Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 mb-1",children:"File Name"}),c.jsx("p",{className:"font-medium text-gray-900 break-all",children:t.file_name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 mb-1",children:"File Type"}),c.jsx("p",{className:"font-medium text-gray-900 uppercase",children:t.file_type})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 mb-1",children:"File Size"}),c.jsxs("p",{className:"font-medium text-gray-900",children:[(t.file_size/(1024*1024)).toFixed(2)," MB"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 mb-1",children:"Analysis Status"}),c.jsx("p",{className:"font-medium text-gray-900 capitalize",children:t.status})]})]})]})]}),c.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(io,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("p",{className:"font-medium mb-1",children:"About This Analysis"}),c.jsx("p",{children:"This analysis uses advanced AI detection algorithms to identify patterns and artifacts. Results should be used as a reference and combined with other verification methods for critical decisions."})]})]})})]})]})}const Lg=[{id:"small",tokens:500,price:.99,icon:da},{id:"medium",tokens:3e3,price:4.99,popular:!0,icon:Og,savings:"Save 17%"},{id:"large",tokens:7e3,price:10,icon:Eg,savings:"Save 29%"}];function Ug({isOpen:t,onClose:e,currentBalance:n=0,reason:r="voluntary",onPlayGame:s}){const[i,o]=P.useState(null);if(!t)return null;const l=async a=>{o(a);try{const{data:u,error:d}=await Q.functions.invoke("create-checkout",{body:{packageType:a}});if(d)throw d;u!=null&&u.url&&(window.location.href=u.url)}catch(u){console.error("Error creating checkout:",u),alert("Failed to create checkout session. Please try again."),o(null)}};return c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-3 sm:p-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-pink-500 via-pink-400 to-orange-400 rounded-2xl sm:rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white/10 backdrop-blur-md border-b border-white/20 px-4 sm:px-6 py-3 sm:py-4 flex justify-between items-center gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-black text-white flex items-center gap-1.5 sm:gap-2",style:{textShadow:"3px 3px 0px rgba(0,0,0,0.3)"},children:[c.jsx(Nh,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white drop-shadow-lg flex-shrink-0"}),c.jsx("span",{className:"truncate",children:"Power Up!"})]}),r==="insufficient"&&c.jsx("p",{className:"text-xs sm:text-sm font-bold text-white/90 mt-0.5 sm:mt-1 drop-shadow-md",children:"Out of tokens! Grab more to keep scanning"})]}),c.jsx("button",{onClick:e,className:"p-1.5 sm:p-2 hover:bg-white/20 rounded-full transition-all text-white flex-shrink-0",children:c.jsx(Ph,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),c.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[s&&c.jsx("div",{className:"mb-4 sm:mb-6 p-4 sm:p-6 bg-gradient-to-r from-purple-500 to-blue-500 rounded-2xl sm:rounded-3xl shadow-xl border-2 sm:border-4 border-white/30",children:c.jsxs("div",{className:"text-center",children:[c.jsx(jh,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white mx-auto mb-2 sm:mb-3 drop-shadow-lg"}),c.jsx("h3",{className:"text-lg sm:text-xl font-black text-white mb-1.5 sm:mb-2 px-2",style:{textShadow:"2px 2px 0px rgba(0,0,0,0.3)"},children:"Play to Earn Free Scans!"}),c.jsx("p",{className:"text-white/90 font-bold text-xs sm:text-sm mb-3 sm:mb-4 drop-shadow-md px-2",children:"Guess if content is AI-generated and earn points to unlock free scans"}),c.jsx("button",{onClick:()=>{s(),e()},className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-3.5 bg-white text-purple-600 font-black text-base sm:text-lg rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",children:"PLAY GAME NOW"})]})}),c.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white/90 backdrop-blur rounded-full mb-3 sm:mb-4 shadow-lg",children:[c.jsx(da,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-600"}),c.jsxs("span",{className:"text-xs sm:text-sm font-black text-gray-900",children:["Balance: ",n," tokens"]})]}),c.jsx("p",{className:"text-white font-bold text-sm sm:text-base md:text-lg drop-shadow-md px-4",children:s?"Or buy tokens to scan instantly:":"Each scan = 100 tokens. Choose your power pack:"})]}),c.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 md:gap-6",children:Lg.map(a=>{const u=a.icon;return c.jsxs("div",{className:`relative rounded-2xl sm:rounded-3xl p-4 sm:p-6 transition-all transform hover:scale-105 ${a.popular?"bg-white shadow-2xl border-2 sm:border-4 border-white":"bg-white/90 backdrop-blur shadow-xl"}`,children:[a.popular&&c.jsx("div",{className:"absolute -top-3 sm:-top-4 left-1/2 -translate-x-1/2",children:c.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white text-xs font-black px-3 sm:px-4 py-1 sm:py-1.5 rounded-full shadow-lg whitespace-nowrap",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:"BEST DEAL"})}),c.jsxs("div",{className:"text-center mb-4 sm:mb-6 mt-1 sm:mt-2",children:[c.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-3 sm:mb-4 rounded-full flex items-center justify-center shadow-xl ${a.popular?"bg-gradient-to-br from-pink-500 to-orange-500":"bg-gradient-to-br from-pink-400 to-pink-600"}`,children:c.jsx(u,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white drop-shadow-lg"})}),c.jsx("div",{className:"text-3xl sm:text-4xl font-black text-gray-900 mb-1",style:{textShadow:"2px 2px 0px rgba(255,192,203,0.3)"},children:a.tokens.toLocaleString()}),c.jsx("div",{className:"text-xs sm:text-sm font-bold text-gray-600 mb-2 sm:mb-3",children:"TOKENS"}),a.savings&&c.jsx("div",{className:"inline-block px-2.5 sm:px-3 py-0.5 sm:py-1 bg-green-400 text-white text-xs font-black rounded-full shadow-md",children:a.savings})]}),c.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[c.jsxs("div",{className:"text-4xl sm:text-5xl font-black text-gray-900 mb-1",style:{textShadow:"2px 2px 0px rgba(255,192,203,0.2)"},children:["$",a.price.toFixed(2)]}),c.jsxs("div",{className:"text-xs font-semibold text-gray-500",children:["$",(a.price/a.tokens).toFixed(4)," per token"]})]}),c.jsx("button",{onClick:()=>l(a.id),disabled:i!==null,className:`w-full py-3 sm:py-3.5 rounded-full font-black text-base sm:text-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105 ${a.popular?"bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white":"bg-gray-900 hover:bg-gray-800 text-white"}`,children:i===a.id?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),c.jsx("span",{className:"text-sm sm:text-base",children:"Processing..."})]}):"GET IT NOW"})]},a.id)})}),c.jsxs("div",{className:"mt-6 sm:mt-8 p-4 sm:p-5 bg-white/90 backdrop-blur rounded-2xl sm:rounded-3xl shadow-lg",children:[c.jsx("h3",{className:"font-black text-gray-900 mb-2 sm:mb-3 text-base sm:text-lg",children:"Why Tokens?"}),c.jsxs("ul",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm font-semibold text-gray-700",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full flex-shrink-0"}),c.jsx("span",{children:"Each content scan uses 100 tokens"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full flex-shrink-0"}),c.jsx("span",{children:"Tokens never expire"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full flex-shrink-0"}),c.jsx("span",{children:"Secure payment via Stripe"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full flex-shrink-0"}),c.jsx("span",{children:"Works everywhere, anytime"})]})]})]})]})]})})}function Dg({isOpen:t,onClose:e,onPointsUpdate:n}){const{user:r}=Jr(),[s,i]=P.useState("intro"),[o,l]=P.useState(3),[a,u]=P.useState(null),[d,h]=P.useState(10),[f,v]=P.useState(null),[y,_]=P.useState(!1),[j,g]=P.useState(0),[p,m]=P.useState(!1),[w,b]=P.useState([]),[x,k]=P.useState(!0),[N,L]=P.useState(!0);P.useEffect(()=>{t&&r&&(i("intro"),L(!0),A(),ce())},[t,r]),P.useEffect(()=>{if(s==="countdown"&&o>0){const ee=setTimeout(()=>l(o-1),1e3);return()=>clearTimeout(ee)}else s==="countdown"&&o===0&&Je()},[s,o]),P.useEffect(()=>{if(s==="playing"&&d>0){const ee=setTimeout(()=>h(d-1),1e3);return()=>clearTimeout(ee)}else s==="playing"&&d===0&&i("guessing")},[s,d]);const A=async()=>{if(!r)return;const{data:ee}=await Q.from("token_balances").select("game_points").eq("user_id",r.id).maybeSingle();g(ee&&ee.game_points||0),L(!1)},ce=async()=>{k(!0);try{const E=await fetch("https://bhttzmtvjvvgunjeqahp.supabase.co/functions/v1/fetch-game-media",{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJodHR6bXR2anZ2Z3VuamVxYWhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MDUyNzAsImV4cCI6MjA4MTA4MTI3MH0.Y3vs4ZAmvA-BzgI-tvLbKP5eS1-LlX3TuI-5fnS5ljo","Content-Type":"application/json"}});if(!E.ok){const O=await E.json();O.code==="MISSING_API_KEY"?console.error("Pexels API key not configured"):console.error("Error fetching game media:",O),k(!1);return}const T=await E.json();T.media&&T.media.length>0&&(b(T.media),console.log(`Loaded ${T.media.length} media items from Pexels`))}catch(ee){console.error("Error fetching game media:",ee)}k(!1)},ze=()=>{if(w.length===0){console.error("Cannot start game: no media available");return}i("countdown"),l(3),m(!1)},Je=()=>{if(w.length===0)return;const ee=w[Math.floor(Math.random()*w.length)];u(ee),h(10),i("playing")},nt=async ee=>{if(!a||!r)return;v(ee);const E=ee===a.isAI;if(_(E),E){const T=j+1,O=T%10,U=T>=10&&j<10,{data:Y}=await Q.from("token_balances").select("free_scans_used").eq("user_id",r.id).maybeSingle();if(U&&Y){const Mt=Y.free_scans_used-1;await Q.from("token_balances").update({game_points:O,free_scans_used:Mt,updated_at:new Date().toISOString()}).eq("user_id",r.id),m(!0),g(O),n(O,3-Mt)}else await Q.from("token_balances").update({game_points:T,updated_at:new Date().toISOString()}).eq("user_id",r.id),g(T),n(T,0)}i("result")},un=()=>{v(null),u(null),ze()},zt=()=>{i("intro"),v(null),u(null),l(3),h(10),m(!1),e()};return t?c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-3xl",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-orange-400 rounded-full flex items-center justify-center",children:c.jsx(Nh,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-black text-gray-900",children:"Cap or No Cap?"}),c.jsxs("p",{className:"text-sm text-gray-600 font-semibold",children:[j," points  ",j%10===0?10:10-j%10," more for free scan"]})]})]}),c.jsx("button",{onClick:zt,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:c.jsx(Ph,{className:"w-5 h-5 text-gray-600"})})]}),c.jsxs("div",{className:"p-6 sm:p-8",children:[s==="intro"&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-pink-400 to-orange-400 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:c.jsx(Tg,{className:"w-12 h-12 text-white ml-1"})}),c.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-4",children:"Cap or No Cap?"}),c.jsx("p",{className:"text-lg text-gray-600 font-semibold mb-8 max-w-md mx-auto",children:"View an image or video for 10 seconds, then guess if it's AI-generated (Cap) or real (No Cap). Earn points for correct guesses!"}),c.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-orange-50 border-2 border-pink-300 rounded-2xl p-6 mb-8 max-w-md mx-auto",children:[c.jsx(Fu,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),c.jsx("p",{className:"text-orange-900 font-black text-lg",children:"10 points = 1 free scan!"})]}),c.jsx("button",{onClick:ze,disabled:x||w.length===0,className:"bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white font-black py-4 px-12 rounded-full text-xl shadow-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:x?"Loading...":w.length===0?"No Media Available":"Start Game"})]}),s==="countdown"&&c.jsxs("div",{className:"text-center py-20",children:[c.jsx("div",{className:"text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-400 animate-pulse",children:o}),c.jsx("p",{className:"text-xl text-gray-600 font-bold mt-6",children:"Get ready..."})]}),s==="playing"&&a&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-orange-400 rounded-2xl p-4 text-center",children:c.jsxs("p",{className:"text-white font-black text-2xl",children:[d,"s remaining"]})}),c.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-gray-100 aspect-video flex items-center justify-center",children:a.type==="image"?c.jsx("img",{src:a.url,alt:"Guess this",className:"w-full h-full object-cover"}):c.jsx("video",{src:a.url,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover"})}),c.jsx("p",{className:"text-center text-gray-600 font-bold",children:"Study it carefully..."})]}),s==="guessing"&&a&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-gray-100 aspect-video flex items-center justify-center opacity-50",children:a.type==="image"?c.jsx("img",{src:a.url,alt:"Guess this",className:"w-full h-full object-cover blur-sm"}):c.jsx("video",{src:a.url,muted:!0,className:"w-full h-full object-cover blur-sm"})}),c.jsx("h3",{className:"text-2xl font-black text-gray-900 text-center mb-6",children:"What's your guess?"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>nt(!0),className:"bg-gradient-to-br from-red-400 to-red-600 hover:from-red-500 hover:to-red-700 text-white font-black py-6 px-8 rounded-2xl text-xl shadow-lg transition-all transform hover:scale-105",children:["Cap",c.jsx("div",{className:"text-sm font-semibold mt-1",children:"It's AI"})]}),c.jsxs("button",{onClick:()=>nt(!1),className:"bg-gradient-to-br from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white font-black py-6 px-8 rounded-2xl text-xl shadow-lg transition-all transform hover:scale-105",children:["No Cap",c.jsx("div",{className:"text-sm font-semibold mt-1",children:"It's Real"})]})]})]}),s==="result"&&a&&c.jsxs("div",{className:"text-center py-8",children:[y?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-pink-400 to-orange-400 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:c.jsx(ni,{className:"w-16 h-16 text-white"})}),c.jsx("h3",{className:"text-4xl font-black text-orange-600 mb-4",children:"Correct!"}),c.jsx("p",{className:"text-xl text-gray-700 font-bold mb-6",children:a.isAI?"It was AI-generated":"It was real"}),p?c.jsxs("div",{className:"bg-gradient-to-r from-pink-400 to-orange-400 border-4 border-orange-300 rounded-2xl p-6 mb-8 max-w-md mx-auto animate-pulse",children:[c.jsx(Fu,{className:"w-12 h-12 text-white mx-auto mb-3"}),c.jsx("p",{className:"text-white font-black text-2xl mb-2",children:"Free Scan Earned!"}),c.jsx("p",{className:"text-white/90 font-semibold",children:"You hit 10 points and earned a free scan!"})]}):c.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-2xl p-6 mb-8 max-w-md mx-auto",children:[c.jsx("p",{className:"text-orange-900 font-black text-xl mb-2",children:"+1 Point"}),c.jsxs("p",{className:"text-orange-700 font-semibold",children:[10-j%10," more points until free scan"]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:c.jsx(Th,{className:"w-16 h-16 text-white"})}),c.jsx("h3",{className:"text-4xl font-black text-red-600 mb-4",children:"Wrong!"}),c.jsx("p",{className:"text-xl text-gray-700 font-bold mb-8",children:a.isAI?"It was AI-generated":"It was real"}),c.jsx("div",{className:"bg-red-50 border-2 border-red-300 rounded-2xl p-6 mb-8 max-w-md mx-auto",children:c.jsx("p",{className:"text-red-900 font-bold",children:"No points this time. Try again!"})})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{onClick:un,className:"bg-gradient-to-r from-pink-500 to-orange-400 hover:from-pink-600 hover:to-orange-500 text-white font-black py-4 px-8 rounded-full text-lg shadow-lg transition-all transform hover:scale-105",children:"Play Again"}),c.jsx("button",{onClick:zt,className:"bg-white hover:bg-gray-100 text-gray-700 border-2 border-gray-300 font-bold py-4 px-8 rounded-full text-lg transition-all",children:"Close"})]})]})]})]})}):null}function zg(){const{user:t,signOut:e}=Jr(),[n,r]=P.useState("upload"),[s,i]=P.useState(null),[o,l]=P.useState(0),[a,u]=P.useState(3),[d,h]=P.useState(!1),[f,v]=P.useState("voluntary"),[y,_]=P.useState(!1);P.useEffect(()=>{j()},[t]);const j=async()=>{if(!t)return;const{data:k,error:N}=await Q.from("token_balances").select("balance, free_scans_used").eq("user_id",t.id).maybeSingle();!N&&k&&(l(k.balance),u(3-(k.free_scans_used||0)))},g=(k,N,L)=>{i(k),r("results"),N!==void 0&&l(N),L!==void 0&&u(L)},p=()=>{v("insufficient"),h(!0)},m=k=>{i(k),r("results")},w=()=>{v("voluntary"),h(!0)},b=(k,N)=>{N>0&&u(N)},x=()=>{_(!0)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-500 via-pink-400 to-orange-400",children:[c.jsx("nav",{className:"bg-white/10 backdrop-blur-md border-b border-white/20 pt-safe-top",style:{paddingTop:"max(env(safe-area-inset-top), 8px)"},children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h1",{onClick:()=>r("upload"),className:"text-2xl font-black text-white cursor-pointer hover:opacity-80 transition-opacity",style:{textShadow:"3px 3px 0px rgba(0,0,0,0.3)"},children:"NoCap"}),c.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-gradient-to-r from-pink-400 to-orange-400 hover:from-pink-500 hover:to-orange-500 text-white rounded-full font-black text-sm shadow-lg transition-all transform hover:scale-105 flex items-center gap-2",children:[c.jsx(jh,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Play"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:w,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-full font-bold transition-all flex items-center gap-2 backdrop-blur-sm",children:[c.jsx(da,{className:"w-4 h-4"}),c.jsx("span",{children:o})]}),c.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-full font-black text-sm shadow-lg",children:[a," free ",a===1?"scan":"scans"]}),c.jsxs("div",{className:"hidden sm:flex gap-2",children:[c.jsxs("button",{onClick:()=>r("upload"),className:`px-5 py-2 rounded-full font-bold transition-all flex items-center gap-2 ${n==="upload"?"bg-white text-pink-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[c.jsx(cl,{className:"w-4 h-4"}),"Scan"]}),c.jsxs("button",{onClick:()=>r("history"),className:`px-5 py-2 rounded-full font-bold transition-all flex items-center gap-2 ${n==="history"?"bg-white text-pink-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[c.jsx(zu,{className:"w-4 h-4"}),"History"]})]}),c.jsxs("button",{onClick:e,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-full font-bold transition-all flex items-center gap-2 backdrop-blur-sm",children:[c.jsx(Cg,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Exit"})]})]})]})})}),c.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 md:py-8 pb-20 sm:pb-8",children:[n==="upload"&&c.jsx(Ag,{onScanComplete:g,onInsufficientTokens:p}),n==="history"&&c.jsx(Rg,{onViewScan:m}),n==="results"&&s&&c.jsx($g,{scan:s,onBack:()=>r("history")})]}),c.jsx(Ug,{isOpen:d,onClose:()=>h(!1),currentBalance:o,reason:f,onPlayGame:x}),c.jsx(Dg,{isOpen:y,onClose:()=>_(!1),onPointsUpdate:b},y?"open":"closed"),c.jsx("div",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white shadow-2xl",children:c.jsxs("div",{className:"flex justify-around py-3",children:[c.jsxs("button",{onClick:()=>r("upload"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl ${n==="upload"?"bg-gradient-to-r from-pink-500 to-orange-400 text-white shadow-lg":"text-gray-600 hover:text-pink-500"}`,children:[c.jsx(cl,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-bold",children:"Scan"})]}),c.jsxs("button",{onClick:()=>r("history"),className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl ${n==="history"?"bg-gradient-to-r from-pink-500 to-orange-400 text-white shadow-lg":"text-gray-600 hover:text-pink-500"}`,children:[c.jsx(zu,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-bold",children:"History"})]})]})})]})}function Mg(){const{user:t,loading:e}=Jr();return P.useEffect(()=>{document.documentElement.lang="en"},[]),e?c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-500 via-pink-400 to-orange-400 flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading application",children:[c.jsx(Ln,{className:"w-12 h-12 text-white animate-spin","aria-hidden":"true"}),c.jsx("span",{className:"sr-only",children:"Loading..."})]}):c.jsx("main",{role:"main",children:t?c.jsx(zg,{}):c.jsx(Ig,{})})}const dl=document.getElementById("root");if(!dl)throw new Error("Root element not found");try{eh(dl).render(c.jsx(P.StrictMode,{children:c.jsx(kg,{children:c.jsx(Mg,{})})}))}catch(t){console.error("Failed to initialize app:",t),dl.innerHTML=`
    <div style="padding: 20px; font-family: system-ui; max-width: 600px; margin: 50px auto;">
      <h1 style="color: #dc2626;">Initialization Error</h1>
      <p>The application failed to start. Please check the console for details.</p>
      <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px; overflow: auto;">${t instanceof Error?t.message:String(t)}</pre>
    </div>
  `}
